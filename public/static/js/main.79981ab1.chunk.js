(window.webpackJsonptestsvrf=window.webpackJsonptestsvrf||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(22),o=a.n(r),s=(a(59),a(2)),l=a(3),c=a(5),m=a(4),u=a(6),d=(a(60),a(20)),p=a(1),h=a(7),g=a(17),b=a.n(g),f=(a(78),a(45)),v=a.n(f),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={image:{title:"",primaryImage:"",clicked:!1}},a.beingAdded=a.beingAdded.bind(Object(p.a)(a)),a.beingDeleted=a.beingDeleted.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"beingAdded",value:function(){this.setState({clicked:!0})}},{key:"beingDeleted",value:function(){this.setState({clicked:!1})}},{key:"componentDidMount",value:function(){var e=this;b.a.get("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(this.props.imageId)).then(function(t){e.setState({image:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.imageId!==e.imageId&&b.a.get("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(this.props.imageId)).then(function(e){t.setState({image:e.data})}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"oneMuseumImage"},i.a.createElement("div",{className:"TitleContainer"},i.a.createElement("h1",{className:"Ellipsis"},this.state.image.title)),i.a.createElement("div",{className:"ImageContainer"},i.a.createElement(v.a,null,i.a.createElement("img",{src:this.state.image.primaryImage,alt:""}))),i.a.createElement("div",{className:"BtnContainer"},this.state.clicked?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"DeleteBtn",onClick:function(){e.props.deleteImage(e.props.imageId),e.beingDeleted()}},"delete me")):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"AddBtn",onClick:function(){e.props.addImage(e.state.image.title,e.state.image.primaryImage,e.props.imageId),e.beingAdded()}},"add me"))))}}]),t}(n.Component),O=a(8),j=(a(91),a(13)),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleFormChange=function(e){a.setState({query:e.target.value})},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.query;b.a.get("https://collectionapi.metmuseum.org/public/collection/v1/search?q=".concat(t)).then(function(e){e.data.objectIDs?a.setState({imagesIDs:e.data.objectIDs.slice(0,49)}):a.setState({imagesIDs:e.data.objectIDs})}).catch(function(e){a.setState({error:e})})},a.addImage=function(e,t,a){var n={imgName:e,imgPath:t,exhibition:"",imgId:a},i=[].concat(Object(d.a)(this.state.selectedImages),[n]);this.setState({selectedImages:i})},a.deleteImage=function(e){var t=Object(d.a)(this.state.selectedImages).filter(function(t){return t.imgId!==e});this.setState({selectedImages:t})},a.state={imagesIDs:[],query:"",error:null,selectedImages:[]},a.handleFormSubmit=a.handleFormSubmit.bind(Object(p.a)(a)),a.addImage=a.addImage.bind(Object(p.a)(a)),a.submitMuseumImages=a.submitMuseumImages.bind(Object(p.a)(a)),a.deleteImage=a.deleteImage.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://collectionapi.metmuseum.org/public/collection/v1/search?q=utagawa").then(function(t){e.setState({imagesIDs:t.data.objectIDs.slice(0,49)})}).catch(function(t){e.setState({error:t})})}},{key:"scrollToTop",value:function(){j.animateScroll.scrollToTop()}},{key:"submitMuseumImages",value:function(){var e=this;return Object(h.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/museum-images",data:{museum_images:Object(d.a)(this.state.selectedImages)}}).then(function(){e.setState({error:""}),e.props.history.push("/upload")}).catch(function(t){e.setState({error:t.response.data.message}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e,t=this;return this.state.imagesIDs&&(e=this.state.imagesIDs.map(function(e){return i.a.createElement("div",null,i.a.createElement(E,{key:e,imageId:e,addImage:t.addImage,deleteImage:t.deleteImage}))})),i.a.createElement(O.a,null,i.a.createElement("div",{className:"ChooseImages"},i.a.createElement("h1",null,"step 2 / look for inspiration"),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",{className:"InputQuery"},i.a.createElement("input",{type:"text",className:"InputField",name:"image",placeholder:"Search for artists or artworks",value:this.state.query,onChange:this.handleFormChange}),i.a.createElement("input",{type:"submit",className:"QueryBtn",value:"Go"}))),i.a.createElement("div",null,this.state.imagesIDs?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"allMuseumImages"},e),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.scrollToTop,className:"SubmitBtn"},"Keep looking"),i.a.createElement("button",{className:"SubmitBtn",onClick:this.submitMuseumImages},"Next step"))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"SearchMessage"},i.a.createElement("h1",null,"Sorry but this search was unsuccessful!")),i.a.createElement("div",{className:"SearchMessage"},i.a.createElement("h1",null,"Look for another artist!"))))))}}]),t}(n.Component),S=(a(98),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleNameFormChange=function(e){a.setState({imgName:e.target.value})},a.handleDescriptionFormChange=function(e){a.setState({imgDescription:e.target.value})},a.handleFormChangeAndUpload=function(e){a.setState({imgContent:e.target.files[0]},function(){a.props.addImage(a.state.imgContent),a.props.addImageName(a.state.imgName),a.props.addImageDescription(a.state.imgDescription)})},a.state={imgName:"",imgContent:"",imgDescription:"",display:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"oneUploadItem"},i.a.createElement("div",{className:"oneUploadItemBox"},i.a.createElement("div",{className:"oneInput"},i.a.createElement("label",null,"awesome name"),i.a.createElement("input",{className:"InputField",type:"text",name:"imgName",value:this.state.imgName,onChange:this.handleNameFormChange})," "),i.a.createElement("div",{className:"oneInput"},i.a.createElement("label",{for:"imgDescription"},"tell us more about it..."),i.a.createElement("textarea",{className:"TextArea",name:"imgDescription",rows:"5",cols:"50",value:this.state.imgDescription,onChange:this.handleDescriptionFormChange})),i.a.createElement("div",{className:"oneFileInput"},i.a.createElement("input",{className:"InputFile",type:"file",name:"imgContent",placeholder:"upload your file",onChange:this.handleFormChangeAndUpload})," ")))}}]),t}(n.Component)),N=(a(99),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).addArtwork=function(e){e.preventDefault();var t=a.state.nbrUploads,n=[].concat(Object(d.a)(a.state.uploads),["new upload"]);a.setState({nbrUploads:t+=1,uploads:n})},a.addImage=function(e){var t=[].concat(Object(d.a)(this.state.uploadedImages),[e]);this.setState({uploadedImages:t})},a.addImageName=function(e){var t=[].concat(Object(d.a)(this.state.imagesNames),[e]);this.setState({imagesNames:t})},a.addImageDescription=function(e){var t=[].concat(Object(d.a)(this.state.imagesDescriptions),[e]);this.setState({imagesDescriptions:t})},a.submitOwnImages=function(e){e.preventDefault();for(var t=new FormData,n=0;n<a.state.uploadedImages.length;n++)t.append("file",a.state.uploadedImages[n]),t.append("filename",a.state.imagesNames[n]),t.append("filedescription",a.state.imagesDescriptions[n]);Object(h.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/user-images",data:t}).then(function(e){a.setState({error:""}),a.props.history.push("/finalize/".concat(e.data._id))}).catch(function(e){a.setState({error:e.message}),"Forbidden"===e.response.data.message&&a.props.history.push("/login")})},a.state={uploadedImages:[],imagesNames:[],imagesDescriptions:[],error:null,nbrUploads:1,uploads:["default upload"]},a.addImage=a.addImage.bind(Object(p.a)(a)),a.addImageName=a.addImageName.bind(Object(p.a)(a)),a.addImageDescription=a.addImageDescription.bind(Object(p.a)(a)),a.submitOwnImages=a.submitOwnImages.bind(Object(p.a)(a)),a.addArtwork=a.addArtwork.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.uploads.map(function(){return i.a.createElement("div",null,i.a.createElement(S,{addImage:e.addImage,addImageName:e.addImageName,addImageDescription:e.addImageDescription}))});return i.a.createElement(O.a,null,i.a.createElement("div",{className:"UploadImages"},i.a.createElement("div",null,i.a.createElement("h1",null,"step 3 / upload your images"),i.a.createElement("form",{className:"FullPage",onSubmit:this.submitOwnImages},i.a.createElement("div",{className:"TopPage"},t),i.a.createElement("div",{className:"BottomPage"},i.a.createElement("button",{className:"SubmitBtnUpload",onClick:this.addArtwork},"Add one artwork"),i.a.createElement("input",{className:"SubmitBtnUpload",type:"submit",value:"Next"})))),i.a.createElement("div",null)))}}]),t}(n.Component)),k=a(23),I=(a(100),a(27)),x=a.n(I),w=(a(101),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={activeDrags:0,originalPosition:{x:0,y:0},controlledPosition:{x:0,y:0}},a.onStart=a.onStart.bind(Object(p.a)(a)),a.onStop=a.onStop.bind(Object(p.a)(a)),a.onControlledDrag=a.onControlledDrag.bind(Object(p.a)(a)),a.onControlledDragStop=a.onControlledDragStop.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onStart",value:function(){this.setState({activeDrags:++this.state.activeDrags})}},{key:"onStop",value:function(){this.setState({activeDrags:--this.state.activeDrags})}},{key:"onControlledDrag",value:function(e,t){var a=t.x,n=t.y;this.setState({controlledPosition:{x:a,y:n}})}},{key:"onControlledDragStop",value:function(e,t){this.onControlledDrag(e,t),this.onStop(),this.props.updatePosition(this.props.id,this.state.controlledPosition)}},{key:"render",value:function(){var e=this,t={onStart:this.onStart,onStop:this.onStop},a=this.state,n=(a.originalPosition,a.controlledPosition);return i.a.createElement(x.a,Object.assign({position:n},t,{onStop:this.onControlledDragStop}),i.a.createElement("div",{className:"oneExhibitionImage"},i.a.createElement("img",{src:this.props.src,alt:""}),i.a.createElement("button",{className:"DeleteBtn",onClick:function(){e.props.deleteImage(e.props.id)}},"Remove")))}}]),t}(n.Component)),C=a(24),D=a.n(C);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).updatePosition=function(e,t){var a=this;return Object(h.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/position",data:{imageId:e,position:t}}).then(function(){a.setState({error:""})}).catch(function(e){a.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&a.props.history.push("/login")})},a.handleFormChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach(function(t){Object(k.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.exhibition);t[e.target.name]=e.target.value,a.setState({exhibition:t})},a.handleFormSubmit=function(e){return e.preventDefault(),Object(h.a)({method:"PUT",headers:{"content-type":"application/x-www-form-urlencoded"},baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/finalize",data:D.a.stringify(a.state.exhibition)}).then(function(e){a.props.history.push("/show/".concat(e.data._id))}).catch(function(e){a.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&a.props.history.push("/login")})},a.deleteImage=function(e){var t=this;return Object(h.a)({method:"GET",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/delete-image/".concat(e)}).then(function(){t.setState({error:""})}).catch(function(e){t.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&t.props.history.push("/login")})},a.state={exhibition:{name:"",description:"",images:[],background_image:"",audio:""},error:null},a.handleFormSubmit=a.handleFormSubmit.bind(Object(p.a)(a)),a.updatePosition=a.updatePosition.bind(Object(p.a)(a)),a.deleteImage=a.deleteImage.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;h.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/finalize/").concat(t)).then(function(t){e.setState({exhibition:t.data})}).catch(function(t){e.setState({error:t}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e=this,t=this.state.exhibition.images.map(function(t){return i.a.createElement(w,{key:t._id,id:t._id,src:t.imgPath,updatePosition:e.updatePosition,deleteImage:e.deleteImage})});return i.a.createElement("div",null,i.a.createElement(O.a,null,i.a.createElement("div",{className:"FinalizeExhibition"},i.a.createElement("iframe",{className:"FullScreen",src:this.state.exhibition.background_image}),i.a.createElement("div",{className:"ImagesContainer"},t),i.a.createElement("div",{className:"ContentContainer"},i.a.createElement("div",{className:"NewDescription"},i.a.createElement("form",{className:"FullPage",onSubmit:this.handleFormSubmit},i.a.createElement("div",{className:"TopPage"},i.a.createElement("h1",null,"step 4 / Finalize your exhibition"),i.a.createElement("div",{className:"InputField"},i.a.createElement("label",null,"Name of exhibition"),i.a.createElement("input",{type:"text",name:"name",value:this.state.exhibition.name,onChange:this.handleFormChange})," "),i.a.createElement("div",{className:"InputField"},i.a.createElement("label",{for:"description"},"Description"),i.a.createElement("textarea",{className:"TextArea",name:"description",rows:"15",cols:"30",alue:this.state.exhibition.description,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("p",null,"(Psst... You can move your images)"))),i.a.createElement("div",{className:"BottomPage"},i.a.createElement("input",{className:"SubmitBtn",type:"submit",value:"Save your exhibition"}))))))))}}]),t}(n.Component),U=(a(102),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={defaultX:0,defaultY:0,hover:!1},a.toggleHover=a.toggleHover.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;return Object(h.a)({method:"GET",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/position/".concat(this.props.id)}).then(function(t){e.setState({defaultX:t.data.imageX,defaultY:t.data.imageY})}).catch(function(t){e.setState({error:t.response.data.message}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"toggleHover",value:function(){console.log("hover"),this.setState({hover:!this.state.hover})}},{key:"render",value:function(){return i.a.createElement(x.a,{position:{x:this.state.defaultX,y:this.state.defaultY},onStart:function(){return!1}},i.a.createElement("div",{className:"oneExhitionImageContainer",onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover},this.state.hover?i.a.createElement("div",{className:"InfoContainer"},i.a.createElement("p",null,this.props.name),i.a.createElement("p",null,this.props.description)):i.a.createElement(i.a.Fragment,null),i.a.createElement("div",{className:"oneExhibitionImage"},i.a.createElement("img",{src:this.props.src,alt:""}))))}}]),t}(n.Component)),T=(a(103),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={exhibition:{name:"",description:"",images:[],background_image:"",audio:""},error:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;h.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/show/").concat(t)).then(function(t){e.setState({exhibition:t.data},function(){b.a.get("http://api.voicerss.org/?key=6e944fc56139476f827e50b5e3cfe966&hl=en-us&src=".concat(t.data.description)).then(function(t){e.setState({audio:t.request.responseURL})}).catch(function(t){e.setState({error:t})})})}).catch(function(t){e.setState({error:t}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e=this.state.exhibition.images.map(function(e){return i.a.createElement(U,{key:e._id,id:e._id,src:e.imgPath,description:e.imgDescription,name:e.imgName})});return i.a.createElement("div",null,i.a.createElement(O.a,null,i.a.createElement("div",{className:"ExhibitionContainer",id:"canvas"},i.a.createElement("iframe",{className:"FullScreen",src:this.state.exhibition.background_image}),i.a.createElement("div",{className:"ImagesContainer"},e),i.a.createElement("div",{className:"ContentContainer"},i.a.createElement("h1",null,this.state.exhibition.name),i.a.createElement("div",null,i.a.createElement("h2",null,"About this exhibition... "),i.a.createElement("p",null,this.state.exhibition.description)),i.a.createElement("audio",{controls:!0,src:this.state.audio})))))}}]),t}(n.Component)),L=a(15),A=(a(104),a(9)),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={error:null,clicked:!1},a.addFavorite=a.addFavorite.bind(Object(p.a)(a)),a.beingAdded=a.beingAdded.bind(Object(p.a)(a)),a.beingDeleted=a.beingDeleted.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"beingAdded",value:function(){this.setState({clicked:!0})}},{key:"beingDeleted",value:function(){this.setState({clicked:!1})}},{key:"addFavorite",value:function(){var e=this;return Object(h.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/add-favorite",data:{id:this.props.id}}).then(function(){e.setState({error:""})}).catch(function(t){e.setState({error:t.response.data.message}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"ExhibitionItem"},i.a.createElement("h1",null,"Exhibition: ",this.props.name),i.a.createElement("h2",null,"Exhibition description: ",this.props.description),"/profile"!==this.props.location.pathname?i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Created by: ",this.props.creator)):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"remove",onClick:function(){e.props.deleteExhibition(e.props.id)}},i.a.createElement("img",{src:"/images/remove.png",alt:""}))),i.a.createElement("img",{src:this.props.image,alt:""}),"/index"===this.props.location.pathname?i.a.createElement(i.a.Fragment,null,this.state.clicked?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"unfavorite"},i.a.createElement("img",{src:"/images/red-heart.png",alt:""}))):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"favorite",onClick:function(){e.addFavorite(),e.beingAdded()}},i.a.createElement("img",{src:"/images/heart.png",alt:""})))):i.a.createElement(i.a.Fragment,null),i.a.createElement(A.b,{to:"/show/".concat(this.props.id)},i.a.createElement("img",{src:"/images/details.png",alt:""})))}}]),t}(n.Component),M=Object(L.f)(B),_=(a(105),a(14)),R=new _.a,H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).deleteExhibition=function(e){var t=this;return Object(h.a)({method:"GET",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/delete-exhibition/".concat(e)}).then(function(){t.setState({error:""})}).catch(function(e){t.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&t.props.history.push("/login")})},a.state={exhibitions:[],error:null},a.deleteExhibition=a.deleteExhibition.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/own-exhibitions")).then(function(t){e.setState({exhibitions:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"scrollToTop",value:function(){j.animateScroll.scrollToTop()}},{key:"render",value:function(){var e=this,t=R.getUser(),a=this.state.exhibitions.map(function(t){return i.a.createElement("div",{className:"exhibitionDetails"},i.a.createElement(M,{key:t._id,id:t._id,name:t.name,description:t.description,creator:t.creator.username,deleteExhibition:e.deleteExhibition}))});return i.a.createElement("div",null,i.a.createElement(O.a,null,i.a.createElement("div",{className:"ProfilePage"},i.a.createElement("h1",null,"Here are your exhibitions, ",t.username," !"),i.a.createElement("div",{className:"allExhibitions"},a),i.a.createElement("button",{onClick:this.scrollToTop,className:"ScrollBtn"},"Up"))))}}]),t}(n.Component),z=(a(106),new _.a),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={exhibitions:[],error:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/own-favorites")).then(function(t){e.setState({exhibitions:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"scrollToTop",value:function(){j.animateScroll.scrollToTop()}},{key:"render",value:function(){var e=z.getUser(),t=this.state.exhibitions.map(function(e){return i.a.createElement("div",{className:"exhibitionDetails"},i.a.createElement(M,{key:e._id,id:e._id,name:e.name,description:e.description,creator:e.creator.username}))});return i.a.createElement("div",null,i.a.createElement(O.a,null,i.a.createElement("div",{className:"FavoritesPage"},i.a.createElement("h1",null,"Here are your favorites, ",e.username," !"),i.a.createElement("div",{className:"allExhibitions"},t),i.a.createElement("button",{onClick:this.scrollToTop,className:"ScrollBtn"},"Up"))))}}]),t}(n.Component);a(107);function G(){return i.a.createElement("div",null,i.a.createElement(O.a,null,i.a.createElement("div",{className:"Home"},i.a.createElement("div",{className:"LeftSideBar"},i.a.createElement(A.b,{to:"/background"},"Create exhibition")),i.a.createElement("div",{className:"Empty"}),i.a.createElement("div",{className:"HomeIframe"},i.a.createElement("iframe",{className:"Fullscreen",src:"https://poly.google.com/view/ab0SP8HCU57/embed",frameborder:"0",allowvr:"yes",allow:"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",onmousewheel:""})),i.a.createElement("div",{className:"RightSideBar"},i.a.createElement(A.b,{to:"/index"},"Browse exhibitions")))))}a(108);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var J=new _.a,X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleFormChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach(function(t){Object(k.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.user);t[e.target.name]=e.target.value,a.setState({user:t})},a.handleFormSubmit=function(e){e.preventDefault(),J.login(a.state.user.username,a.state.user.password).then(function(){a.setState({error:""}),a.props.history.push("/")}).catch(function(e){a.setState({error:e.response.data.message}),console.log(e.response.data.message)})},a.state={user:{username:"",password:""},error:null},a.handleFormSubmit=a.handleFormSubmit.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(O.a,null,i.a.createElement("div",{className:"Login"},i.a.createElement("div",{className:"LoginContent"},i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",null,i.a.createElement("label",null,"Username"),i.a.createElement("input",{className:"Inputs",type:"text",name:"username",placeholder:"username",value:this.state.user.username,onChange:this.handleFormChange})," "),i.a.createElement("div",null,i.a.createElement("label",null,"Password"),i.a.createElement("input",{className:"Inputs",type:"password",name:"password",placeholder:"password",value:this.state.user.password,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("input",{type:"submit",value:"Login"})),i.a.createElement("p",{className:"account-message"},"Don't have an account? ",i.a.createElement(A.b,{className:"Link",to:"/signup"},"Sign up")))),i.a.createElement("div",{className:"LoginIframe"},i.a.createElement("iframe",{className:"Fullscreen",src:"https://poly.google.com/view/cV54p02NHQt/embed",frameborder:"0",allowvr:"yes",allow:"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",onmousewheel:""}))))}}]),t}(n.Component);a(109);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var K=new _.a,W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleFormChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach(function(t){Object(k.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.user);t[e.target.name]=e.target.value,a.setState({user:t})},a.handleFormSubmit=function(e){e.preventDefault(),K.signup(a.state.user).then(function(){a.setState({error:""}),a.props.history.push("/")}).catch(function(e){a.setState({error:e.response.data.message}),console.log(e.response.data.message)})},a.state={user:{username:"",password:"",email:""},error:null},a.handleFormSubmit=a.handleFormSubmit.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(O.a,null,i.a.createElement("div",{className:"Signup"},i.a.createElement("div",{className:"SignupContent"},i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",null,i.a.createElement("label",null,"Username"),i.a.createElement("input",{className:"Inputs",type:"text",name:"username",placeholder:"username",value:this.state.user.username,onChange:this.handleFormChange})," "),i.a.createElement("div",null,i.a.createElement("label",null,"Password"),i.a.createElement("input",{className:"Inputs",type:"password",name:"password",placeholder:"password",value:this.state.user.password,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("label",null,"Email"),i.a.createElement("input",{className:"Inputs",type:"email",name:"email",placeholder:"Email",checked:this.state.user.email,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("input",{type:"submit",value:"Create account"})))),i.a.createElement("div",{className:"SignupIframe"},i.a.createElement("iframe",{className:"Fullscreen",src:"https://poly.google.com/view/3mHT-lSmFvK/embed",frameborder:"0",allowvr:"yes",allow:"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",onmousewheel:""}))))}}]),t}(n.Component),V=a(53),$=new _.a,Z=function(e){var t=e.component,a=e.redirectUrl,n=Object(V.a)(e,["component","redirectUrl"]);return i.a.createElement(L.b,Object.assign({},n,{render:function(e){return $.getUser()?i.a.createElement(t,e):i.a.createElement(L.a,{to:{pathname:a||"/",state:{from:e.location}}})}}))},ee=(a(110),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={exhibitions:[],error:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/index")).then(function(t){e.setState({exhibitions:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"scrollToTop",value:function(){j.animateScroll.scrollToTop()}},{key:"render",value:function(){var e=this.state.exhibitions.map(function(e){return i.a.createElement("div",{className:"exhibitionDetails"},i.a.createElement(M,{key:e._id,id:e._id,name:e.name,description:e.description,creator:e.creator.username}))});return i.a.createElement("div",null,i.a.createElement(O.a,null,i.a.createElement("div",{class:"IndexPage"},i.a.createElement("h1",{className:"Title"},"All exhibitions"),i.a.createElement("div",{className:"allExhibitions"},e),i.a.createElement("button",{onClick:this.scrollToTop,className:"ScrollBtn"},"Up"))))}}]),t}(n.Component)),te=a.e(4).then(a.bind(null,115)),ae=i.a.lazy(function(){return te}),ne=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(L.b,{exact:!0,path:"/",component:G}),i.a.createElement(L.b,{path:"/login",component:X}),i.a.createElement(L.b,{path:"/signup",component:W}),i.a.createElement(L.b,{redirectUrl:"/login",path:"/background",render:function(e){return i.a.createElement(n.Suspense,{fallback:i.a.createElement("div",null,"Loading...")},i.a.createElement(ae,e))}}),i.a.createElement(Z,{redirectUrl:"/login",path:"/images",component:y}),i.a.createElement(Z,{redirectUrl:"/login",path:"/upload",component:N}),i.a.createElement(Z,{redirectUrl:"/login",path:"/finalize/:id",component:P}),i.a.createElement(Z,{redirectUrl:"/login",path:"/show/:id",component:T}),i.a.createElement(Z,{redirectUrl:"/login",path:"/profile",component:H}),i.a.createElement(Z,{redirectUrl:"/login",path:"/favorites",component:q}),i.a.createElement(L.b,{path:"/index",component:ee}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(A.a,null,i.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},14:function(e,t,a){"use strict";var n=a(2),i=a(3),r=a(7),o=a(24),s=a.n(o),l=function(){function e(t){Object(n.a)(this,e),this.domain=t||"https://virtual-exhibitions.herokuapp.com/api",this.login=this.login.bind(this)}return Object(i.a)(e,[{key:"login",value:function(e,t){var a=this;return Object(r.a)({method:"POST",url:"/login",baseURL:this.domain,headers:{"content-type":"application/x-www-form-urlencoded"},data:s.a.stringify({username:e,password:t})}).then(function(e){a.setUser(e.data)})}},{key:"signup",value:function(e){var t=this,a=e.username,n=e.password,i=e.email;return Object(r.a)({method:"POST",url:"/signup",baseURL:this.domain,headers:{"content-type":"application/x-www-form-urlencoded"},data:s.a.stringify({username:a,password:n,email:i})}).then(function(e){t.setUser(e.data)})}},{key:"loggedIn",value:function(){return!!this.getUser()}},{key:"setUser",value:function(e){localStorage.setItem("user",JSON.stringify(e))}},{key:"getUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"logout",value:function(){return Object(r.a)({method:"GET",url:"/logout",baseURL:this.domain}).then(function(e){localStorage.removeItem("user")})}}]),e}();t.a=l},54:function(e,t,a){e.exports=a(111)},59:function(e,t,a){},60:function(e,t,a){},7:function(e,t,a){"use strict";var n=a(17),i=a.n(n);t.a=i.a.create({withCredentials:!0})},78:function(e,t,a){},8:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(2),o=a(3),s=a(5),l=a(4),c=a(6),m=a(9),u=a(15),d=(a(86),new(a(14).a)),p=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).handleLogout=function(e){e.preventDefault();var t=a.props;d.logout().then(function(){a.setState({user:null},function(){t.history.push("/")})}).catch(function(e){a.setState({error:e.message})})},a.state={user:null},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({user:d.getUser()})}},{key:"render",value:function(){return i.a.createElement("nav",{className:"Nav"},i.a.createElement("div",null,i.a.createElement(m.b,{to:"/"},i.a.createElement("img",{src:"/images/home.png",alt:""}))),i.a.createElement("div",null,i.a.createElement(m.b,{to:"/index"},i.a.createElement("img",{src:"/images/search.png",alt:""}))),this.state.user?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(m.b,{to:"/profile"},i.a.createElement("img",{src:"/images/user.png",alt:""}))),i.a.createElement("div",null,i.a.createElement(m.b,{to:"/favorites"},i.a.createElement("img",{src:"/images/heart.png",alt:""}))),i.a.createElement("div",null,i.a.createElement("a",{href:"#",onClick:this.handleLogout},i.a.createElement("img",{className:"navimg",src:"/images/logout.png",alt:""})))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(m.b,{to:"/login"},i.a.createElement("img",{src:"/images/login.png",alt:""}))),i.a.createElement("div",null,i.a.createElement(m.b,{to:"/signup"},i.a.createElement("img",{src:"/images/signup.png",alt:""})))))}}]),t}(n.Component),h=Object(u.f)(p);t.a=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(h,null),e.children)}},86:function(e,t,a){},91:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[54,1,2]]]);
//# sourceMappingURL=main.79981ab1.chunk.js.map