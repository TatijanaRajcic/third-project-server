{"version":3,"sources":["components/ImgItem.js","pages/ChooseImages.js","components/UploadItem.js","pages/UploadImages.js","components/DraggableItem.js","pages/Finalize.js","components/PositionedImage.js","pages/Show.js","components/ExhibitionItem.js","pages/Profile.js","pages/Favorites.js","pages/Home.js","pages/Login.js","pages/Signup.js","components/ProtectedRoute.js","pages/IndexExhibitions.js","App.js","serviceWorker.js","index.js","utils/Auth.js","utils/axios.js","components/Nav.js","layout/MainLayout.js"],"names":["ImgItem","props","state","image","title","primaryImage","clicked","beingAdded","bind","beingDeleted","this","setState","axiosModule","get","imageId","then","response","data","catch","error","prevProps","className","src","alt","onClick","deleteImage","addImage","Component","ChooseImages","handleFormChange","e","query","target","value","handleFormSubmit","preventDefault","objectIDs","imagesIDs","slice","imageTitle","imageSrc","imageToAdd","imgName","imgPath","exhibition","imgId","allSavedImages","selectedImages","updatedImages","filter","submitMuseumImages","scroll","scrollToTop","axios","method","baseURL","process","url","museum_images","history","push","err","message","allImages","map","key","MainLayout","onSubmit","type","name","placeholder","onChange","UploadItem","handleNameFormChange","handleDescriptionFormChange","imgDescription","handleFormChangeAndUpload","imgContent","files","addImageName","addImageDescription","display","for","rows","cols","UploadImages","addArtwork","nbrUploads","allUploads","uploads","allUploadedImages","uploadedImages","allImagesNames","imagesNames","allImagesDescriptions","imagesDescriptions","submitOwnImages","form","FormData","x","length","append","_id","DraggableItem","activeDrags","originalPosition","y","controlledPosition","onStart","onStop","onControlledDrag","onControlledDragStop","position","updatePosition","id","dragHandlers","ShowExhibition","headers","qs","stringify","description","images","background_image","audio","currentExhibition","match","params","exhibitionImages","alue","PositionedImage","defaultX","defaultY","hover","toggleHover","imageX","imageY","console","log","onMouseEnter","onMouseLeave","Show","request","responseURL","controls","ExhibitionItem","addFavorite","location","pathname","creator","deleteExhibition","to","withRouter","auth","Auth","Profile","exhibitionId","exhibitions","user","getUser","username","Favorites","Home","frameborder","allowvr","allow","allowfullscreen","mozallowfullscreen","webkitallowfullscreen","onmousewheel","Login","login","password","Signup","signup","email","checked","ProtectedRoute","component","redirectUrl","rest","render","from","class","preload","ChooseBackground","React","lazy","App","exact","path","fallback","Finalize","IndexExhibitions","Boolean","window","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","domain","setUser","localStorage","setItem","JSON","parse","getItem","removeItem","create","withCredentials","Nav","handleLogout","fixProps","logout","href","children"],"mappings":"2fAKqBA,E,YAEnB,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXC,MAAO,CACLC,MAAM,GACNC,aAAa,GACbC,SAAS,IAIb,EAAKC,WAAa,EAAKA,WAAWC,KAAhB,gBAClB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBAXH,E,0EAgBjBE,KAAKC,SAAS,CACZL,SAAQ,M,qCAKVI,KAAKC,SAAS,CACZL,SAAQ,M,0CAIS,IAAD,OAClBM,IAAYC,IAAZ,2EAAoFH,KAAKT,MAAMa,UAC5FC,KAAK,SAACC,GACL,EAAKL,SAAS,CAACR,MAAMa,EAASC,SAE/BC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,yCAIRC,GAAY,IAAD,OACxBV,KAAKT,MAAMa,UAAYM,EAAUN,SACnCF,IAAYC,IAAZ,2EAAoFH,KAAKT,MAAMa,UAC9FC,KAAK,SAACC,GACL,EAAKL,SAAS,CAACR,MAAMa,EAASC,SAE/BC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,+BAKjB,IAAD,OAEP,OACE,yBAAKE,UAAU,kBACb,yBAAKA,UAAU,kBACb,wBAAIA,UAAU,YAAYX,KAAKR,MAAMC,MAAMC,QAE7C,yBAAKiB,UAAU,kBACb,kBAAC,IAAD,KACE,yBAAKC,IAAKZ,KAAKR,MAAMC,MAAME,aAAckB,IAAI,OAGjD,yBAAKF,UAAU,gBAEXX,KAAKR,MAAMI,QACX,oCACE,4BAAQe,UAAU,YAAYG,QAAS,WAAK,EAAKvB,MAAMwB,YAAY,EAAKxB,MAAMa,SAAS,EAAKL,iBAA5F,cAGF,oCACE,4BAAQY,UAAU,SAASG,QAAS,WAAK,EAAKvB,MAAMyB,SAAS,EAAKxB,MAAMC,MAAMC,MAAM,EAAKF,MAAMC,MAAME,aAAa,EAAKJ,MAAMa,SAAS,EAAKP,eAA3I,iB,GAvEuBoB,a,uBCKhBC,E,YAEnB,WAAY3B,GAAQ,IAAD,8BACjB,4CAAMA,KA6BR4B,iBAAmB,SAACC,GAClB,EAAKnB,SAAS,CACZoB,MAAOD,EAAEE,OAAOC,SAhCD,EAoCnBC,iBAAmB,SAACJ,GAClBA,EAAEK,iBAEF,IAAMJ,EAAQ,EAAK7B,MAAM6B,MAEzBnB,IAAYC,IAAZ,4EAAqFkB,IAClFhB,KAAK,SAACC,GACDA,EAASC,KAAKmB,UAChB,EAAKzB,SAAS,CAAC0B,UAAUrB,EAASC,KAAKmB,UAAUE,MAAM,EAAE,MAEzD,EAAK3B,SAAS,CAAC0B,UAAUrB,EAASC,KAAKmB,cAG1ClB,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,OAlDR,EAuDnBO,SAAW,SAASa,EAAYC,EAAU1B,GACxC,IAAI2B,EAAa,CAACC,QAAQH,EAAWI,QAAQH,EAASI,WAAW,GAAGC,MAAM/B,GACtEgC,EAAc,sBAAOpC,KAAKR,MAAM6C,gBAAlB,CAAiCN,IACnD/B,KAAKC,SAAS,CACZoC,eAAgBD,KA3DD,EA+DnBrB,YAAc,SAASX,GACrB,IACIkC,EADc,YAAOtC,KAAKR,MAAM6C,gBACDE,OAAO,SAAA9C,GAAK,OAAIA,EAAM0C,QAAU/B,IACnEJ,KAAKC,SAAS,CACZoC,eAAgBC,KAjElB,EAAK9C,MAAQ,CACXmC,UAAW,GACXN,MAAO,GACPZ,MAAO,KACP4B,eAAgB,IAGlB,EAAKb,iBAAmB,EAAKA,iBAAiB1B,KAAtB,gBACxB,EAAKkB,SAAW,EAAKA,SAASlB,KAAd,gBAChB,EAAK0C,mBAAqB,EAAKA,mBAAmB1C,KAAxB,gBAC1B,EAAKiB,YAAc,EAAKA,YAAYjB,KAAjB,gBAZF,E,iFAgBE,IAAD,OAClBI,IAAYC,IAAI,6EACbE,KAAK,SAACC,GACL,EAAKL,SAAS,CAAC0B,UAAUrB,EAASC,KAAKmB,UAAUE,MAAM,EAAE,QAE1DpB,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,oCAKzBgC,gBAAOC,gB,2CA4Ca,IAAD,OACnB,OAAOC,YAAM,CACXC,OAAQ,MACRC,QAASC,gDACZC,IAAK,4BACFxC,KAAM,CAACyC,cAAc,YAAKhD,KAAKR,MAAM6C,mBAEpChC,KAAK,WACJ,EAAKJ,SAAS,CAACQ,MAAO,KACtB,EAAKlB,MAAM0D,QAAQC,KAAK,aAEzB1C,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAO0C,EAAI7C,SAASC,KAAK6C,UACN,cAA9BD,EAAI7C,SAASC,KAAK6C,SACpB,EAAK7D,MAAM0D,QAAQC,KAAK,c,+BAKtB,IACJG,EADG,OAkBP,OAfIrD,KAAKR,MAAMmC,YACb0B,EAAYrD,KAAKR,MAAMmC,UAAU2B,IAAI,SAAClD,GACpC,OACE,6BACE,kBAAC,EAAD,CACEmD,IAAKnD,EACLA,QAAWA,EACXY,SAAU,EAAKA,SACfD,YAAa,EAAKA,kBAS1B,kBAACyC,EAAA,EAAD,KAEE,yBAAK7C,UAAU,gBACb,6DAEA,0BAAM8C,SAAUzD,KAAKwB,kBACnB,yBAAKb,UAAU,cACb,2BAAO+C,KAAK,OAAO/C,UAAU,aAAagD,KAAK,QAAQC,YAAY,iCAAiCrC,MAAOvB,KAAKR,MAAM6B,MAAOwC,SAAU7D,KAAKmB,mBAC5I,2BAAOuC,KAAK,SAAS/C,UAAU,WAAWY,MAAM,SAIpD,6BAEIvB,KAAKR,MAAMmC,UACX,oCACE,yBAAKhB,UAAU,mBACZ0C,GAGH,6BACE,4BAAQvC,QAASd,KAAK0C,YAAa/B,UAAU,aAA7C,gBACA,4BAAQA,UAAU,YAAYG,QAASd,KAAKwC,oBAA5C,eAIJ,oCACE,yBAAK7B,UAAU,iBACb,wEAEF,yBAAKA,UAAU,iBACb,iE,GA/IwBM,aCNrB6C,G,kBAEnB,WAAYvE,GAAQ,IAAD,8BACjB,4CAAMA,KASRwE,qBAAuB,SAAC3C,GACtB,EAAKnB,SAAS,CACZ+B,QAASZ,EAAEE,OAAOC,SAZH,EAgBnByC,4BAA8B,SAAC5C,GAC7B,EAAKnB,SAAS,CACZgE,eAAgB7C,EAAEE,OAAOC,SAlBV,EAsBnB2C,0BAA4B,SAAC9C,GAC3B,EAAKnB,SAAS,CACZkE,WAAY/C,EAAEE,OAAO8C,MAAM,IACxB,WACD,EAAK7E,MAAMyB,SAAS,EAAKxB,MAAM2E,YAC/B,EAAK5E,MAAM8E,aAAa,EAAK7E,MAAMwC,SACnC,EAAKzC,MAAM+E,oBAAoB,EAAK9E,MAAMyE,mBA1B9C,EAAKzE,MAAQ,CACXwC,QAAS,GACTmC,WAAY,GACZF,eAAgB,GAChBM,QAAQ,IANO,E,sEAkCjB,OACE,yBAAK5D,UAAU,iBACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,YACb,+CACA,2BAAOA,UAAU,aAAa+C,KAAK,OAAOC,KAAK,UAAUpC,MAAOvB,KAAKR,MAAMwC,QAAS6B,SAAU7D,KAAK+D,uBAFrG,KAIA,yBAAKpD,UAAU,YACb,2BAAO6D,IAAI,kBAAX,4BACA,8BAAU7D,UAAU,WAAWgD,KAAK,iBAAiBc,KAAK,IAAIC,KAAK,KAAKnD,MAAOvB,KAAKR,MAAMyE,eAAgBJ,SAAU7D,KAAKgE,+BAE3H,yBAAKrD,UAAU,gBACb,2BAAOA,UAAU,YAAY+C,KAAK,OAAOC,KAAK,aAAaC,YAAY,mBAAmBC,SAAU7D,KAAKkE,4BAD3G,W,GA/C8BjD,cCqHzB0D,G,kBAjHb,WAAYpF,GAAO,IAAD,8BAChB,4CAAMA,KAmBRqF,WAAa,SAACxD,GACZA,EAAEK,iBACF,IAAIoD,EAAa,EAAKrF,MAAMqF,WAExBC,EAAU,sBAAO,EAAKtF,MAAMuF,SAAlB,CADE,eAEhB,EAAK9E,SAAS,CAAC4E,WAAYA,GAAY,EAAGE,QAASD,KAzBnC,EA4BlB9D,SAAW,SAASmD,GAClB,IAAIa,EAAiB,sBAAOhF,KAAKR,MAAMyF,gBAAlB,CAAiCd,IACtDnE,KAAKC,SAAS,CACZgF,eAAgBD,KA/BF,EAmClBX,aAAe,SAASrC,GACtB,IAAIkD,EAAc,sBAAOlF,KAAKR,MAAM2F,aAAlB,CAA8BnD,IAChDhC,KAAKC,SAAS,CACZkF,YAAaD,KAtCC,EA0ClBZ,oBAAsB,SAASL,GAC7B,IAAImB,EAAqB,sBAAOpF,KAAKR,MAAM6F,oBAAlB,CAAqCpB,IAC9DjE,KAAKC,SAAS,CACZoF,mBAAoBD,KA7CN,EAiDlBE,gBAAkB,SAAClE,GACjBA,EAAEK,iBAEF,IADA,IAAI8D,EAAO,IAAIC,SACPC,EAAI,EAAGA,EAAE,EAAKjG,MAAMyF,eAAeS,OAAQD,IACjDF,EAAKI,OAAO,OAAQ,EAAKnG,MAAMyF,eAAeQ,IAC9CF,EAAKI,OAAO,WAAY,EAAKnG,MAAM2F,YAAYM,IAC/CF,EAAKI,OAAO,kBAAmB,EAAKnG,MAAM6F,mBAAmBI,IAE/D9C,YAAM,CACJC,OAAQ,MACRC,QAASC,gDACZC,IAAK,0BACFxC,KAAMgF,IAEPlF,KAAK,SAACC,GACL,EAAKL,SAAS,CAACQ,MAAO,KACtB,EAAKlB,MAAM0D,QAAQC,KAAnB,oBAAqC5C,EAASC,KAAKqF,QAEpDpF,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAO0C,EAAIC,UACQ,cAA9BD,EAAI7C,SAASC,KAAK6C,SACpB,EAAK7D,MAAM0D,QAAQC,KAAK,aAnE5B,EAAK1D,MAAQ,CACXyF,eAAgB,GAChBE,YAAa,GACbE,mBAAoB,GACpB5E,MAAO,KACPoE,WAAY,EACZE,QAAS,CAAC,mBAGZ,EAAK/D,SAAW,EAAKA,SAASlB,KAAd,gBAChB,EAAKuE,aAAe,EAAKA,aAAavE,KAAlB,gBACpB,EAAKwE,oBAAsB,EAAKA,oBAAoBxE,KAAzB,gBAC3B,EAAKwF,gBAAkB,EAAKA,gBAAgBxF,KAArB,gBACvB,EAAK8E,WAAa,EAAKA,WAAW9E,KAAhB,gBAhBF,E,sEA2ET,IAAD,OAEFgF,EAAa9E,KAAKR,MAAMuF,QAAQzB,IAAI,WACtC,OACE,6BACE,kBAAC,EAAD,CACEtC,SAAU,EAAKA,SACfqD,aAAc,EAAKA,aACnBC,oBAAqB,EAAKA,yBAMlC,OACE,kBAACd,EAAA,EAAD,KACE,yBAAK7C,UAAU,gBACb,6BACE,2DACA,0BAAMA,UAAU,WAAW8C,SAAUzD,KAAKsF,iBACxC,yBAAK3E,UAAU,WACZmE,GAEH,yBAAKnE,UAAU,cACb,4BAAQA,UAAU,kBAAkBG,QAASd,KAAK4E,YAAlD,mBACA,2BAAOjE,UAAU,kBAAkB+C,KAAK,SAASnC,MAAM,YAI7D,oC,GAzGiBN,c,kCCHN4E,G,mBAEnB,WAAYtG,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXsG,YAAa,EACbC,iBAAkB,CAChBN,EAAG,EAAGO,EAAG,GAEXC,mBAAoB,CAClBR,EAAG,EAAGO,EAAG,IAIb,EAAKE,QAAU,EAAKA,QAAQpG,KAAb,gBACf,EAAKqG,OAAS,EAAKA,OAAOrG,KAAZ,gBACd,EAAKsG,iBAAmB,EAAKA,iBAAiBtG,KAAtB,gBACxB,EAAKuG,qBAAuB,EAAKA,qBAAqBvG,KAA1B,gBAfX,E,uEAoBjBE,KAAKC,SAAS,CAAC6F,cAAe9F,KAAKR,MAAMsG,gB,+BAIzC9F,KAAKC,SAAS,CAAC6F,cAAe9F,KAAKR,MAAMsG,gB,uCAG1B1E,EAAGkF,GAAW,IACtBb,EAAQa,EAARb,EAAGO,EAAKM,EAALN,EACVhG,KAAKC,SAAS,CAACgG,mBAAoB,CAACR,IAAGO,S,2CAGpB5E,EAAGkF,GACtBtG,KAAKoG,iBAAiBhF,EAAGkF,GACzBtG,KAAKmG,SACLnG,KAAKT,MAAMgH,eAAevG,KAAKT,MAAMiH,GAAGxG,KAAKR,MAAMyG,sB,+BAG3C,IAAD,OAEDQ,EAAe,CAACP,QAASlG,KAAKkG,QAASC,OAAQnG,KAAKmG,QAFnD,EAGwCnG,KAAKR,MAA3ByG,GAHlB,EAGAF,iBAHA,EAGkBE,oBAEzB,OACE,kBAAC,IAAD,eAAWK,SAAUL,GAAwBQ,EAA7C,CAA2DN,OAAQnG,KAAKqG,uBACtE,yBAAK1F,UAAU,sBACb,yBAAKC,IAAKZ,KAAKT,MAAMqB,IAAKC,IAAI,KAC9B,4BAAQF,UAAU,YAAYG,QAAS,WAAK,EAAKvB,MAAMwB,YAAY,EAAKxB,MAAMiH,MAA9E,gB,GAjDiCvF,c,iPCgK5ByF,E,YAzJb,WAAYnH,GAAO,IAAD,8BAChB,4CAAMA,KAmCRgH,eAAiB,SAASnG,EAAQkG,GAAW,IAAD,OAC1C,OAAO3D,YAAM,CACXC,OAAQ,MACRC,QAASC,gDACZC,IAAK,uBACFxC,KAAM,CAACH,QAASA,EAASkG,SAAUA,KAElCjG,KAAK,WACJ,EAAKJ,SAAS,CAACQ,MAAO,OAEvBD,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAO0C,EAAI7C,SAASC,KAAK6C,UACN,cAA9BD,EAAI7C,SAASC,KAAK6C,SACpB,EAAK7D,MAAM0D,QAAQC,KAAK,aAjDd,EAsDlB/B,iBAAmB,SAACC,GAClB,IAAIc,E,qVAAU,IAAO,EAAK1C,MAAM0C,YAChCA,EAAWd,EAAEE,OAAOqC,MAAQvC,EAAEE,OAAOC,MACrC,EAAKtB,SAAS,CACZiC,WAAWA,KA1DG,EA8DlBV,iBAAmB,SAACJ,GAElB,OADAA,EAAEK,iBACKkB,YAAM,CACXC,OAAQ,MACR+D,QAAS,CAAE,eAAgB,qCAC3B9D,QAASC,gDACZC,IAAK,uBACFxC,KAAMqG,IAAGC,UAAU,EAAKrH,MAAM0C,cAE/B7B,KAAK,SAAC6B,GACL,EAAK3C,MAAM0D,QAAQC,KAAnB,gBAAiChB,EAAW3B,KAAKqF,QAElDpF,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAO0C,EAAI7C,SAASC,KAAK6C,UACN,cAA9BD,EAAI7C,SAASC,KAAK6C,SACpB,EAAK7D,MAAM0D,QAAQC,KAAK,aA7EZ,EAkFlBnC,YAAc,SAASX,GAAU,IAAD,OAE9B,OAAOuC,YAAM,CACXC,OAAQ,MACRC,QAASC,gDACZC,IAAI,4BAAD,OAA8B3C,KAE7BC,KAAK,WACJ,EAAKJ,SAAS,CAACQ,MAAO,OAEvBD,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAO0C,EAAI7C,SAASC,KAAK6C,UACN,cAA9BD,EAAI7C,SAASC,KAAK6C,SACpB,EAAK7D,MAAM0D,QAAQC,KAAK,aA5F9B,EAAK1D,MAAQ,CACX0C,WAAY,CACVyB,KAAK,GACLmD,YAAY,GACZC,OAAO,GACPC,iBAAiB,GACjBC,MAAO,IAETxG,MAAO,MAGT,EAAKe,iBAAmB,EAAKA,iBAAiB1B,KAAtB,gBACxB,EAAKyG,eAAiB,EAAKA,eAAezG,KAApB,gBACtB,EAAKiB,YAAc,EAAKA,YAAYjB,KAAjB,gBAhBH,E,iFAoBG,IAAD,OAEdoH,EADWlH,KAAKT,MAAM4H,MAArBC,OAC0BZ,GAE/B7D,IAAMxC,IAAN,UAAa2C,gDAAb,gCAA8DoE,IAC3D7G,KAAK,SAACC,GACL,EAAKL,SAAS,CAACiC,WAAW5B,EAASC,SAEpCC,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAM0C,IACa,cAA9BA,EAAI7C,SAASC,KAAK6C,SACpB,EAAK7D,MAAM0D,QAAQC,KAAK,c,+BAqEtB,IAAD,OAEHmE,EAAmBrH,KAAKR,MAAM0C,WAAW6E,OAAOzD,IAAI,SAAC7D,GAEvD,OACE,kBAAC,EAAD,CACE8D,IAAK9D,EAAMmG,IACXY,GAAI/G,EAAMmG,IACVhF,IAAOnB,EAAMwC,QACbsE,eAAgB,EAAKA,eACrBxF,YAAa,EAAKA,gBAKxB,OACE,6BACE,kBAACyC,EAAA,EAAD,KACE,yBAAK7C,UAAU,sBACb,4BAAQA,UAAU,aAAaC,IAAKZ,KAAKR,MAAM0C,WAAW8E,mBAC1D,yBAAKrG,UAAU,mBACZ0G,GAEH,yBAAK1G,UAAU,oBACb,yBAAKA,UAAU,kBACb,0BAAMA,UAAU,WAAW8C,SAAUzD,KAAKwB,kBACxC,yBAAKb,UAAU,WACb,iEACA,yBAAKA,UAAU,cACb,qDACA,2BAAO+C,KAAK,OAAOC,KAAK,OAAOpC,MAAOvB,KAAKR,MAAM0C,WAAWyB,KAAME,SAAU7D,KAAKmB,mBAFnF,KAIA,yBAAKR,UAAU,cACb,2BAAO6D,IAAI,eAAX,eACA,8BAAU7D,UAAU,WAAWgD,KAAK,cAAcc,KAAK,KAAKC,KAAK,KAAK4C,KAAMtH,KAAKR,MAAM0C,WAAW4E,YAAajD,SAAU7D,KAAKmB,oBAEhI,6BACE,mEAGJ,yBAAKR,UAAU,cACb,2BAAOA,UAAU,YAAY+C,KAAK,SAASnC,MAAM,oC,GA/IxCN,aCJRsG,G,mBAEnB,WAAYhI,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXgI,SAAU,EACVC,SAAU,EACVC,OAAO,GAGT,EAAKC,YAAc,EAAKA,YAAY7H,KAAjB,gBARF,E,iFAWE,IAAD,OAClB,OAAO6C,YAAM,CACXC,OAAQ,MACRC,QAASC,gDACZC,IAAI,wBAAD,OAA0B/C,KAAKT,MAAMiH,MAGpCnG,KAAK,SAACC,GACL,EAAKL,SAAS,CACZuH,SAAUlH,EAASC,KAAKqH,OACxBH,SAAUnH,EAASC,KAAKsH,WAI3BrH,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAO0C,EAAI7C,SAASC,KAAK6C,UACN,cAA9BD,EAAI7C,SAASC,KAAK6C,SACpB,EAAK7D,MAAM0D,QAAQC,KAAK,c,oCAM9B4E,QAAQC,IAAI,SACZ/H,KAAKC,SAAS,CAACyH,OAAQ1H,KAAKR,MAAMkI,U,+BAKlC,OACE,kBAAC,IAAD,CAAWpB,SAAU,CAACb,EAAGzF,KAAKR,MAAMgI,SAAUxB,EAAGhG,KAAKR,MAAMiI,UAAWvB,QAAS,kBAAM,IACpF,yBAAKvF,UAAU,4BAA4BqH,aAAchI,KAAK2H,YAAaM,aAAcjI,KAAK2H,aAE1F3H,KAAKR,MAAMkI,MACX,yBAAK/G,UAAU,iBACb,2BAAIX,KAAKT,MAAMoE,MACf,2BAAI3D,KAAKT,MAAMuH,cAGjB,qCAIF,yBAAKnG,UAAU,sBACb,yBAAKC,IAAKZ,KAAKT,MAAMqB,IAAKC,IAAI,Y,GAzDGI,cCqF9BiH,G,mBAhFb,WAAY3I,GAAO,IAAD,8BAChB,4CAAMA,KAEDC,MAAQ,CACX0C,WAAY,CACVyB,KAAK,GACLmD,YAAY,GACZC,OAAO,GACPC,iBAAiB,GACjBC,MAAM,IAERxG,MAAO,MAXO,E,iFAgBG,IAAD,OAEdyG,EADWlH,KAAKT,MAAM4H,MAArBC,OAC0BZ,GAE/B7D,IAAMxC,IAAN,UAAa2C,gDAAb,4BAA0DoE,IACvD7G,KAAK,SAACC,GACL,EAAKL,SAAS,CAACiC,WAAW5B,EAASC,MAAO,WACxCL,IAAYC,IAAZ,qFAA8FG,EAASC,KAAKuG,cAC3GzG,KAAK,SAACC,GACL,EAAKL,SAAS,CAACgH,MAAM3G,EAAS6H,QAAQC,gBAEvC5H,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,UAI1BD,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAM0C,IACa,cAA9BA,EAAI7C,SAASC,KAAK6C,SACpB,EAAK7D,MAAM0D,QAAQC,KAAK,c,+BAO9B,IAAImE,EAAmBrH,KAAKR,MAAM0C,WAAW6E,OAAOzD,IAAI,SAAC7D,GACvD,OACE,kBAAC,EAAD,CACE8D,IAAK9D,EAAMmG,IACXY,GAAI/G,EAAMmG,IACVhF,IAAOnB,EAAMwC,QACb6E,YAAerH,EAAMwE,eACrBN,KAAQlE,EAAMuC,YAKpB,OACE,6BACE,kBAACwB,EAAA,EAAD,KACE,yBAAK7C,UAAU,sBAAsB6F,GAAG,UACtC,4BAAQ7F,UAAU,aAAaC,IAAKZ,KAAKR,MAAM0C,WAAW8E,mBAC1D,yBAAKrG,UAAU,mBACZ0G,GAEH,yBAAK1G,UAAU,oBACb,4BAAKX,KAAKR,MAAM0C,WAAWyB,MAC3B,6BACE,yDACA,2BAAI3D,KAAKR,MAAM0C,WAAW4E,cAE5B,2BACEuB,UAAQ,EACRzH,IAAKZ,KAAKR,MAAMyH,gB,GAxEbhG,c,wBCDbqH,E,YAEJ,WAAY/I,GAAO,IAAD,8BAChB,4CAAMA,KACDC,MAAQ,CACXiB,MAAM,KACNb,SAAS,GAGX,EAAK2I,YAAc,EAAKA,YAAYzI,KAAjB,gBACnB,EAAKD,WAAa,EAAKA,WAAWC,KAAhB,gBAClB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBATJ,E,0EAchBE,KAAKC,SAAS,CACZL,SAAQ,M,qCAKVI,KAAKC,SAAS,CACZL,SAAQ,M,oCAIG,IAAD,OACZ,OAAO+C,YAAM,CACXC,OAAQ,MACRC,QAASC,gDACZC,IAAK,2BACFxC,KAAM,CAACiG,GAAGxG,KAAKT,MAAMiH,MAEpBnG,KAAK,WAEJ,EAAKJ,SAAS,CAACQ,MAAO,OAEvBD,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAO0C,EAAI7C,SAASC,KAAK6C,UACN,cAA9BD,EAAI7C,SAASC,KAAK6C,SACpB,EAAK7D,MAAM0D,QAAQC,KAAK,c,+BAKtB,IAAD,OAEP,OACE,yBAAKvC,UAAU,kBACb,2CAAiBX,KAAKT,MAAMoE,MAC5B,uDAA6B3D,KAAKT,MAAMuH,aAEL,aAAjC9G,KAAKT,MAAMiJ,SAASC,SACpB,oCACE,2CAAiBzI,KAAKT,MAAMmJ,UAG9B,oCACE,4BAAQ/H,UAAU,SAASG,QAAS,WAAK,EAAKvB,MAAMoJ,iBAAiB,EAAKpJ,MAAMiH,MAAM,yBAAK5F,IAAI,qBAAqBC,IAAI,OAG5H,yBAAKD,IAAKZ,KAAKT,MAAME,MAAOoB,IAAI,KAEG,WAAjCb,KAAKT,MAAMiJ,SAASC,SACpB,oCAGEzI,KAAKR,MAAMI,QACX,oCACE,4BAAQe,UAAU,cAAa,yBAAKC,IAAI,wBAAwBC,IAAI,OAItE,oCACE,4BAAQF,UAAU,WAAWG,QAAS,WAAK,EAAKyH,cAAc,EAAK1I,eAAe,yBAAKe,IAAI,oBAAoBC,IAAI,QAQvH,qCAGF,kBAAC,IAAD,CAAM+H,GAAE,gBAAW5I,KAAKT,MAAMiH,KAC5B,yBAAK5F,IAAI,sBAAsBC,IAAI,W,GAvFhBI,aA8Fd4H,cAAWP,G,iBC7FpBQ,EAAO,IAAIC,IAGIC,E,YAEnB,WAAYzJ,GAAO,IAAD,8BAChB,4CAAMA,KA0BRoJ,iBAAmB,SAASM,GAAe,IAAD,OAExC,OAAOtG,YAAM,CACXC,OAAQ,MACRC,QAASC,gDACZC,IAAI,iCAAD,OAAmCkG,KAElC5I,KAAK,WAEJ,EAAKJ,SAAS,CAACQ,MAAO,OAEvBD,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAO0C,EAAI7C,SAASC,KAAK6C,UACN,cAA9BD,EAAI7C,SAASC,KAAK6C,SACpB,EAAK7D,MAAM0D,QAAQC,KAAK,aAtC9B,EAAK1D,MAAQ,CACX0J,YAAa,GACbzI,MAAO,MAGT,EAAKkI,iBAAmB,EAAKA,iBAAiB7I,KAAtB,gBARR,E,iFAYG,IAAD,OAElB6C,IAAMxC,IAAN,UAAa2C,gDAAb,gCACGzC,KAAK,SAACC,GACL,EAAKL,SAAS,CAACiJ,YAAY5I,EAASC,SAErCC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,oCAKzBgC,gBAAOC,gB,+BAsBC,IAAD,OAEHyG,EAAOL,EAAKM,UAEZ/B,EAAmBrH,KAAKR,MAAM0J,YAAY5F,IAAI,SAACpB,GACjD,OACE,yBAAKvB,UAAU,qBACb,kBAAC,EAAD,CACE4C,IAAOrB,EAAW0D,IAClBY,GAAMtE,EAAW0D,IACjBjC,KAAQzB,EAAWyB,KACnBmD,YAAe5E,EAAW4E,YAC1B4B,QAAWxG,EAAWwG,QAAQW,SAC9BV,iBAAoB,EAAKA,sBASjC,OACE,6BACE,kBAACnF,EAAA,EAAD,KACE,yBAAK7C,UAAU,eACb,0DAAgCwI,EAAKE,SAArC,MACA,yBAAK1I,UAAU,kBACZ0G,GAEH,4BAAQvG,QAASd,KAAK0C,YAAa/B,UAAU,aAA7C,a,GA9EyBM,aCH/B6H,G,OAAO,IAAIC,KAGIO,E,YAEnB,WAAY/J,GAAO,IAAD,8BAChB,4CAAMA,KAEDC,MAAQ,CACX0J,YAAa,GACbzI,MAAO,MALO,E,iFASG,IAAD,OAElBkC,IAAMxC,IAAN,UAAa2C,gDAAb,8BACGzC,KAAK,SAACC,GACL,EAAKL,SAAS,CAACiJ,YAAY5I,EAASC,SAErCC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,oCAKzBgC,gBAAOC,gB,+BAKP,IAAIyG,EAAOL,EAAKM,UAEZ/B,EAAmBrH,KAAKR,MAAM0J,YAAY5F,IAAI,SAACpB,GACjD,OACE,yBAAKvB,UAAU,qBACb,kBAAC,EAAD,CACE4C,IAAOrB,EAAW0D,IAClBY,GAAMtE,EAAW0D,IACjBjC,KAAQzB,EAAWyB,KACnBmD,YAAe5E,EAAW4E,YAC1B4B,QAAWxG,EAAWwG,QAAQW,cAStC,OACE,6BACE,kBAAC7F,EAAA,EAAD,KACE,yBAAK7C,UAAU,iBACb,wDAA8BwI,EAAKE,SAAnC,MACA,yBAAK1I,UAAU,kBACZ0G,GAEH,4BAAQvG,QAASd,KAAK0C,YAAa/B,UAAU,aAA7C,a,GAvD2BM,a,OCNxB,SAASsI,IACtB,OACE,6BACE,kBAAC/F,EAAA,EAAD,KACE,yBAAK7C,UAAU,QACb,yBAAKA,UAAU,eACb,kBAAC,IAAD,CAAMiI,GAAG,eAAT,sBAKF,yBAAKjI,UAAU,UAGf,yBAAKA,UAAU,cACb,4BAAQA,UAAW,aAAaC,IAAI,iDAAiD4I,YAAY,IAAIC,QAAQ,MAAMC,MAAM,4DAA4DC,iBAAe,EAACC,mBAAmB,OAAOC,sBAAsB,OAAOC,aAAa,MAE3Q,yBAAKnJ,UAAU,gBACb,kBAAC,IAAD,CAAMiI,GAAG,UAAT,0B,mOClBZ,IAAME,EAAO,IAAIC,IAwEFgB,E,YArEb,WAAYxK,GAAO,IAAD,8BAChB,4CAAMA,KAaR4B,iBAAmB,SAACC,GAClB,IAAI+H,E,qVAAI,IAAO,EAAK3J,MAAM2J,MAC1BA,EAAK/H,EAAEE,OAAOqC,MAAQvC,EAAEE,OAAOC,MAC/B,EAAKtB,SAAS,CACZkJ,KAAKA,KAlBS,EAsBlB3H,iBAAmB,SAACJ,GAElBA,EAAEK,iBAEFqH,EAAKkB,MAAM,EAAKxK,MAAM2J,KAAKE,SAAU,EAAK7J,MAAM2J,KAAKc,UAElD5J,KAAK,WACJ,EAAKJ,SAAS,CAACQ,MAAO,KACtB,EAAKlB,MAAM0D,QAAQC,KAAK,OAEzB1C,MAAM,SAAC2C,GACN,EAAKlD,SAAS,CAACQ,MAAO0C,EAAI7C,SAASC,KAAK6C,UACxC0E,QAAQC,IAAI5E,EAAI7C,SAASC,KAAK6C,YA/BlC,EAAK5D,MAAQ,CACX2J,KAAO,CACLE,SAAS,GACTY,SAAS,IAEXxJ,MAAO,MAGT,EAAKe,iBAAmB,EAAKA,iBAAiB1B,KAAtB,gBAXR,E,sEAuChB,OACE,kBAAC0D,EAAA,EAAD,KACE,yBAAK7C,UAAU,SACb,yBAAKA,UAAU,gBACb,0BAAM8C,SAAUzD,KAAKwB,kBACnB,6BACE,2CACA,2BAAOb,UAAU,SAAS+C,KAAK,OAAOC,KAAK,WAAWC,YAAY,WAAWrC,MAAOvB,KAAKR,MAAM2J,KAAKE,SAAUxF,SAAU7D,KAAKmB,mBAF/H,KAIA,6BACE,2CACA,2BAAOR,UAAU,SAAS+C,KAAK,WAAWC,KAAK,WAAWC,YAAY,WAAWrC,MAAOvB,KAAKR,MAAM2J,KAAKc,SAAUpG,SAAU7D,KAAKmB,oBAEnI,6BACE,2BAAOuC,KAAK,SAASnC,MAAM,WAE7B,uBAAGZ,UAAU,mBAAb,0BACyB,kBAAC,IAAD,CAAMA,UAAU,OAAOiI,GAAG,WAA1B,cAI7B,yBAAKjI,UAAU,eACb,4BAAQA,UAAW,aAAaC,IAAI,iDAAiD4I,YAAY,IAAIC,QAAQ,MAAMC,MAAM,4DAA4DC,iBAAe,EAACC,mBAAmB,OAAOC,sBAAsB,OAAOC,aAAa,Y,GA9DjQ7I,a,mOCHpB,IAAM6H,EAAO,IAAIC,IA8EFmB,E,YA3Eb,WAAY3K,GAAO,IAAD,8BAChB,4CAAMA,KAcR4B,iBAAmB,SAACC,GAClB,IAAI+H,E,qVAAI,IAAO,EAAK3J,MAAM2J,MAC1BA,EAAK/H,EAAEE,OAAOqC,MAAQvC,EAAEE,OAAOC,MAC/B,EAAKtB,SAAS,CACZkJ,KAAKA,KAnBS,EAuBlB3H,iBAAmB,SAACJ,GAElBA,EAAEK,iBAEFqH,EAAKqB,OAAO,EAAK3K,MAAM2J,MAEpB9I,KAAK,WAEJ,EAAKJ,SAAS,CAACQ,MAAO,KACtB,EAAKlB,MAAM0D,QAAQC,KAAK,OAEzB1C,MAAM,SAAC2C,GAEN,EAAKlD,SAAS,CAACQ,MAAO0C,EAAI7C,SAASC,KAAK6C,UACxC0E,QAAQC,IAAI5E,EAAI7C,SAASC,KAAK6C,YAlClC,EAAK5D,MAAQ,CACX2J,KAAO,CACLE,SAAS,GACTY,SAAS,GACTG,MAAM,IAER3J,MAAO,MAGT,EAAKe,iBAAmB,EAAKA,iBAAiB1B,KAAtB,gBAZR,E,sEA0ChB,OACE,kBAAC0D,EAAA,EAAD,KACE,yBAAK7C,UAAU,UACb,yBAAKA,UAAU,iBACb,0BAAM8C,SAAUzD,KAAKwB,kBACnB,6BACE,2CACA,2BAAOb,UAAU,SAAS+C,KAAK,OAAOC,KAAK,WAAWC,YAAY,WAAWrC,MAAOvB,KAAKR,MAAM2J,KAAKE,SAAUxF,SAAU7D,KAAKmB,mBAF/H,KAKA,6BACE,2CACA,2BAAOR,UAAU,SAAS+C,KAAK,WAAWC,KAAK,WAAWC,YAAY,WAAWrC,MAAOvB,KAAKR,MAAM2J,KAAKc,SAAUpG,SAAU7D,KAAKmB,oBAGnI,6BACE,wCACA,2BAAOR,UAAU,SAAS+C,KAAK,QAAQC,KAAK,QAAQC,YAAY,QAAQyG,QAASrK,KAAKR,MAAM2J,KAAKiB,MAAOvG,SAAU7D,KAAKmB,oBAEzH,6BACE,2BAAOuC,KAAK,SAASnC,MAAM,sBAIjC,yBAAKZ,UAAU,gBACb,4BAAQA,UAAW,aAAaC,IAAI,iDAAiD4I,YAAY,IAAIC,QAAQ,MAAMC,MAAM,4DAA4DC,iBAAe,EAACC,mBAAmB,OAAOC,sBAAsB,OAAOC,aAAa,Y,GApEhQ7I,a,QCHf6H,EAAO,IAAIC,IAyBFuB,EApBS,SAAC,GAAkD,IAAtCrJ,EAAqC,EAAhDsJ,UAAsBC,EAA0B,EAA1BA,YAAgBC,EAAU,2CAKxE,OACI,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAS,SAAAnL,GAEL,OADWuJ,EAAKM,UAEP,kBAACnI,EAAc1B,GAEf,kBAAC,IAAD,CAAUqJ,GAAI,CAACH,SAAU+B,GAAe,IAAKhL,MAAO,CAACmL,KAAMpL,EAAMiJ,kBCZjE9B,I,mBAEnB,WAAYnH,GAAO,IAAD,8BAChB,4CAAMA,KAEDC,MAAQ,CACX0J,YAAa,GACbzI,MAAO,MALO,E,iFASG,IAAD,OAElBkC,IAAMxC,IAAN,UAAa2C,gDAAb,WACGzC,KAAK,SAACC,GACL,EAAKL,SAAS,CAACiJ,YAAY5I,EAASC,SAErCC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,oCAKzBgC,gBAAOC,gB,+BAKP,IAAI2E,EAAmBrH,KAAKR,MAAM0J,YAAY5F,IAAI,SAACpB,GACjD,OACE,yBAAKvB,UAAU,qBACb,kBAAC,EAAD,CACE4C,IAAOrB,EAAW0D,IAClBY,GAAMtE,EAAW0D,IACjBjC,KAAQzB,EAAWyB,KACnBmD,YAAe5E,EAAW4E,YAC1B4B,QAAWxG,EAAWwG,QAAQW,cAStC,OACE,6BACE,kBAAC7F,EAAA,EAAD,KACE,yBAAKoH,MAAM,aACT,wBAAIjK,UAAU,SAAd,mBACA,yBAAKA,UAAU,kBACZ0G,GAEH,4BAAQvG,QAASd,KAAK0C,YAAa/B,UAAU,aAA7C,a,GArDgCM,cCKtC4J,GAAU,8BACVC,GAAmBC,IAAMC,KAAK,kBAAMH,KAwE3BI,G,iLAjEX,OACE,yBAAKtK,UAAU,OACb,kBAAC,IAAD,CAAOuK,OAAK,EAACC,KAAK,IAAIZ,UAAWhB,IACjC,kBAAC,IAAD,CAAO4B,KAAK,SAASZ,UAAWR,IAChC,kBAAC,IAAD,CAAOoB,KAAK,UAAUZ,UAAWL,IAGjC,kBAAC,IAAD,CACEM,YAAY,SACZW,KAAK,cACLT,OAAQ,SAACnL,GAAD,OACN,kBAAC,WAAD,CAAU6L,SAAU,4CAClB,kBAACN,GAAqBvL,OAK5B,kBAAC,EAAD,CACEiL,YAAY,SACZW,KAAK,UACLZ,UAAWrJ,IAGb,kBAAC,EAAD,CACEsJ,YAAY,SACZW,KAAK,UACLZ,UAAW5F,IAGb,kBAAC,EAAD,CACE6F,YAAY,SACZW,KAAK,gBACLZ,UAAWc,IAGb,kBAAC,EAAD,CACEb,YAAY,SACZW,KAAK,YACLZ,UAAWrC,IAGb,kBAAC,EAAD,CACEsC,YAAY,SACZW,KAAK,WACLZ,UAAWvB,IAIb,kBAAC,EAAD,CACEwB,YAAY,SACZW,KAAK,aACLZ,UAAWjB,IAMb,kBAAC,IAAD,CAAO6B,KAAK,SAASZ,UAAWe,U,GA7DtBrK,aCNEsK,QACW,cAA7BC,OAAOhD,SAASiD,UAEe,UAA7BD,OAAOhD,SAASiD,UAEhBD,OAAOhD,SAASiD,SAAStE,MACvB,2DCXNuE,IAAShB,OAAO,kBAAC,IAAD,KAAQ,kBAAC,GAAD,OAAkBiB,SAASC,eAAe,SD0H5D,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM1L,KAAK,SAAA2L,GACjCA,EAAaC,gB,0EEhIblD,E,WACL,WAAYmD,GAAS,oBACpBlM,KAAKkM,OAASA,GAAUpJ,gDACxB9C,KAAKgK,MAAQhK,KAAKgK,MAAMlK,KAAKE,M,kDAGxBqJ,EAAUY,GAAW,IAAD,OAGzB,OAAOtH,YAAM,CACZC,OAAQ,OACRG,IAAK,SACLF,QAAS7C,KAAKkM,OACdvF,QAAS,CAAE,eAAgB,qCAC3BpG,KAAMqG,IAAGC,UAAU,CAACwC,WAAUY,eAG9B5J,KAAK,SAACC,GACN,EAAK6L,QAAQ7L,EAASC,U,gCAIa,IAAD,OAA5B8I,EAA4B,EAA5BA,SAAUY,EAAkB,EAAlBA,SAAUG,EAAQ,EAARA,MAG3B,OAAOzH,YAAM,CACZC,OAAQ,OACRG,IAAK,UACLF,QAAS7C,KAAKkM,OACdvF,QAAS,CAAE,eAAgB,qCAC3BpG,KAAMqG,IAAGC,UAAU,CAACwC,WAAUY,WAAUG,YAGxC/J,KAAK,SAACC,GAEN,EAAK6L,QAAQ7L,EAASC,U,iCAMvB,QADaP,KAAKoJ,Y,8BAIXD,GACPiD,aAAaC,QAAQ,OAAQC,KAAKzF,UAAUsC,M,gCAI5C,OAAOmD,KAAKC,MAAMH,aAAaI,QAAQ,W,+BAKvC,OAAO7J,YAAM,CACZC,OAAQ,MACRG,IAAK,UACLF,QAAS7C,KAAKkM,SAEd7L,KAAK,SAACC,GAEN8L,aAAaK,WAAW,c,KAKZ1D,O,8GCrEf,qBAEepG,QAAM+J,OAAO,CAACC,iBAAiB,K,0HCGxC7D,G,MAAO,I,MAAIC,IAYX6D,E,YACJ,WAAYrN,GAAO,IAAD,8BAChB,4CAAMA,KAQRsN,aAAe,SAACzL,GACdA,EAAEK,iBACF,IAAIqL,EAAW,EAAKvN,MAOpBuJ,EAAKiE,SACF1M,KAAK,WAMJ,EAAKJ,SAAS,CAACkJ,KAAM,MAAO,WAC1B2D,EAAS7J,QAAQC,KAAK,SAIzB1C,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAOA,EAAM2C,aA5BhC,EAAK5D,MAAQ,CACX2J,KAAM,MAJQ,E,iFAoChBnJ,KAAKC,SAAS,CACZkJ,KAAML,EAAKM,c,+BAKb,OACE,yBAAKzI,UAAU,OACb,6BACE,kBAAC,IAAD,CAAMiI,GAAG,KACP,yBAAKhI,IAAI,mBAAmBC,IAAI,OAGpC,6BACE,kBAAC,IAAD,CAAM+H,GAAG,UACP,yBAAKhI,IAAI,qBAAqBC,IAAI,OAIpCb,KAAKR,MAAM2J,KACX,oCACE,6BACE,kBAAC,IAAD,CAAMP,GAAG,YACP,yBAAKhI,IAAI,mBAAmBC,IAAI,OAGpC,6BACE,kBAAC,IAAD,CAAM+H,GAAG,cACP,yBAAKhI,IAAI,oBAAoBC,IAAI,OAGrC,6BACE,uBAAGmM,KAAK,IAAIlM,QAAWd,KAAK6M,cAAe,yBAAKlM,UAAU,SAASC,IAAI,qBAAoBC,IAAI,QAInG,oCACE,6BACE,kBAAC,IAAD,CAAM+H,GAAG,UACP,yBAAKhI,IAAI,oBAAoBC,IAAI,OAGrC,6BACE,kBAAC,IAAD,CAAM+H,GAAG,WACP,yBAAKhI,IAAI,qBAAqBC,IAAI,a,GAjFhCI,aA8FH4H,cAAW+D,GCvFXpJ,IAbI,SAACjE,GACnB,OAGC,oCACC,kBAAC,EAAD,MACCA,EAAM0N,Y","file":"static/js/main.79981ab1.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axiosModule from \"axios\";\nimport \"../stylesheets/ImgItem.css\"\nimport LazyLoad from 'react-lazy-load';\n\nexport default class ImgItem extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      image: {\n        title:'',\n        primaryImage:'',\n        clicked: false\n      }\n    }\n\n    this.beingAdded = this.beingAdded.bind(this)\n    this.beingDeleted = this.beingDeleted.bind(this)\n\n  }\n\n  beingAdded() {\n    this.setState({\n      clicked:true\n    })\n  }\n\n  beingDeleted() {\n    this.setState({\n      clicked:false\n    })\n  }\n\n  componentDidMount() {\n    axiosModule.get(`https://collectionapi.metmuseum.org/public/collection/v1/objects/${this.props.imageId}`)\n      .then((response)=>{\n        this.setState({image:response.data})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.imageId !== prevProps.imageId) {\n      axiosModule.get(`https://collectionapi.metmuseum.org/public/collection/v1/objects/${this.props.imageId}`)\n      .then((response)=>{\n        this.setState({image:response.data})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n    }\n  }\n\n  render() {\n\n    return (\n      <div className=\"oneMuseumImage\">\n        <div className=\"TitleContainer\">\n          <h1 className=\"Ellipsis\">{this.state.image.title}</h1>\n        </div>\n        <div className=\"ImageContainer\">\n          <LazyLoad>\n            <img src={this.state.image.primaryImage} alt=\"\"/>\n          </LazyLoad>\n        </div>\n        <div className=\"BtnContainer\">\n          {\n            this.state.clicked?\n            <>\n              <button className=\"DeleteBtn\" onClick={()=>{this.props.deleteImage(this.props.imageId);this.beingDeleted()}}>delete me</button>\n            </>\n            :\n            <>\n              <button className=\"AddBtn\" onClick={()=>{this.props.addImage(this.state.image.title,this.state.image.primaryImage,this.props.imageId);this.beingAdded()}}>add me</button>\n            </>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport axiosModule from \"axios\";\n// I need different axios settings depending on the request I'm doing (to external API or to my API)\nimport ImgItem from \"../components/ImgItem\";\nimport MainLayout from \"../layout/MainLayout\";\nimport \"../stylesheets/ChooseImages.css\";\nimport * as Scroll from 'react-scroll';\nimport { Link, Element , Events, animateScroll as scroll, scrollSpy, scroller } from 'react-scroll'\n\nexport default class ChooseImages extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      imagesIDs: [], \n      query: '', \n      error: null,\n      selectedImages: []\n    }\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.addImage = this.addImage.bind(this);\n    this.submitMuseumImages = this.submitMuseumImages.bind(this);\n    this.deleteImage = this.deleteImage.bind(this);\n  }\n\n  // Default display of images\n  componentDidMount() {\n    axiosModule.get(\"https://collectionapi.metmuseum.org/public/collection/v1/search?q=utagawa\")\n      .then((response)=>{\n        this.setState({imagesIDs:response.data.objectIDs.slice(0,49)})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n  }\n\n  scrollToTop() {\n    scroll.scrollToTop();\n  }\n\n  handleFormChange = (e)=> {\n    this.setState({ \n      query: e.target.value \n    })\n  }\n\n  handleFormSubmit = (e)=> {\n    e.preventDefault(); // disable the default form behavious (redirecting to a new page)\n\n    const query = this.state.query;\n\n    axiosModule.get(`https://collectionapi.metmuseum.org/public/collection/v1/search?q=${query}`)\n      .then((response)=>{\n        if (response.data.objectIDs) {\n          this.setState({imagesIDs:response.data.objectIDs.slice(0,49)})\n        } else {\n          this.setState({imagesIDs:response.data.objectIDs})\n        }\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n\n  }\n\n  addImage = function(imageTitle, imageSrc, imageId) { // method that we use in the child component ImgItem\n    let imageToAdd = {imgName:imageTitle,imgPath:imageSrc,exhibition:\"\",imgId:imageId};\n    let allSavedImages = [...this.state.selectedImages,imageToAdd];\n    this.setState({\n      selectedImages: allSavedImages,\n    })\n  }\n\n  deleteImage = function(imageId) {\n    let allSavedImages = [...this.state.selectedImages];\n    let updatedImages = allSavedImages.filter(image => image.imgId !== imageId);\n    this.setState({\n      selectedImages: updatedImages,\n    })\n  }\n\n  submitMuseumImages() {\n    return axios({\n      method: \"PUT\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: \"/exhibition/museum-images\",\n      data: {museum_images: [...this.state.selectedImages]}\n    })\n      .then(()=> {\n        this.setState({error: \"\"});\n        this.props.history.push(\"/upload\"); // to redirect\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  render() {\n    let allImages\n\n    if (this.state.imagesIDs) { // the response from axios when there are no artworks is null (and not a empty array; that's why we cannot use length)\n      allImages = this.state.imagesIDs.map((imageId) => {\n        return (\n          <div>\n            <ImgItem \n              key={imageId}\n              imageId = {imageId}\n              addImage={this.addImage}\n              deleteImage={this.deleteImage}\n            />\n          </div>\n        )\n      })\n    }\n\n    return (\n\n      <MainLayout>\n\n        <div className=\"ChooseImages\">\n          <h1>step 2 / look for inspiration</h1>\n\n          <form onSubmit={this.handleFormSubmit}>\n            <div className=\"InputQuery\">\n              <input type=\"text\" className=\"InputField\" name=\"image\" placeholder=\"Search for artists or artworks\" value={this.state.query} onChange={this.handleFormChange} />\n              <input type=\"submit\" className=\"QueryBtn\" value=\"Go\" />\n            </div>\n          </form>\n\n          <div>\n            {\n              this.state.imagesIDs ?\n              <>\n                <div className=\"allMuseumImages\">\n                  {allImages}\n                </div>\n\n                <div>\n                  <button onClick={this.scrollToTop} className=\"SubmitBtn\">Keep looking</button>\n                  <button className=\"SubmitBtn\" onClick={this.submitMuseumImages}>Next step</button>\n                </div>\n              </>\n              :\n              <>\n                <div className=\"SearchMessage\">\n                  <h1>Sorry but this search was unsuccessful!</h1>\n                </div>\n                <div className=\"SearchMessage\">\n                  <h1>Look for another artist!</h1>\n                </div>\n              </>\n            }\n          </div>\n\n        </div>\n\n      </MainLayout>\n      \n    )\n  }\n  \n}","import React, { Component } from 'react';\nimport \"../stylesheets/UploadItem.css\"\n\n\nexport default class UploadItem extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      imgName: '',\n      imgContent: '',\n      imgDescription: '',\n      display:\"\"\n    }\n  }\n\n  handleNameFormChange = (e)=> {\n    this.setState({ \n      imgName: e.target.value\n    })\n  }\n\n  handleDescriptionFormChange = (e)=> {\n    this.setState({ \n      imgDescription: e.target.value\n    })\n  }\n\n  handleFormChangeAndUpload = (e)=> {\n    this.setState({\n      imgContent: e.target.files[0]\n      }, () => {\n        this.props.addImage(this.state.imgContent);\n        this.props.addImageName(this.state.imgName);\n        this.props.addImageDescription(this.state.imgDescription)\n      });\n  }\n\n  render() {\n\n    return (\n      <div className=\"oneUploadItem\">\n        <div className=\"oneUploadItemBox\">\n          <div className=\"oneInput\">\n            <label>awesome name</label>\n            <input className=\"InputField\" type=\"text\" name=\"imgName\" value={this.state.imgName} onChange={this.handleNameFormChange} /> {/* reacts wants to be in charge of all the data   */}\n          </div>\n          <div className=\"oneInput\">\n            <label for=\"imgDescription\">tell us more about it...</label>\n            <textarea className=\"TextArea\" name=\"imgDescription\" rows=\"5\" cols=\"50\" value={this.state.imgDescription} onChange={this.handleDescriptionFormChange}></textarea>\n          </div>\n          <div className=\"oneFileInput\">\n            <input className=\"InputFile\" type=\"file\" name=\"imgContent\" placeholder=\"upload your file\" onChange={this.handleFormChangeAndUpload} /> {/* reacts wants to be in charge of all the data   */}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\n","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport UploadItem from \"../components/UploadItem\";\nimport \"../stylesheets/UploadImages.css\"\n\n\nclass UploadImages extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = { \n      uploadedImages: [],\n      imagesNames: [],\n      imagesDescriptions: [],\n      error: null,\n      nbrUploads: 1,\n      uploads: [\"default upload\"]\n    }\n\n    this.addImage = this.addImage.bind(this);\n    this.addImageName = this.addImageName.bind(this);\n    this.addImageDescription = this.addImageDescription.bind(this);\n    this.submitOwnImages = this.submitOwnImages.bind(this);\n    this.addArtwork = this.addArtwork.bind(this);\n\n  }\n\n  addArtwork = (e)=> {\n    e.preventDefault(); \n    let nbrUploads = this.state.nbrUploads\n    let newUpload = \"new upload\"\n    let allUploads = [...this.state.uploads, newUpload]\n    this.setState({nbrUploads: nbrUploads+=1, uploads: allUploads})\n  }\n\n  addImage = function(imgContent) { // method that we use in the child component ImgItem\n    let allUploadedImages = [...this.state.uploadedImages,imgContent];\n    this.setState({\n      uploadedImages: allUploadedImages,\n    })\n  }\n\n  addImageName = function(imgName) { // method that we use in the child component ImgItem\n    let allImagesNames = [...this.state.imagesNames,imgName];\n    this.setState({\n      imagesNames: allImagesNames,\n    })\n  }\n\n  addImageDescription = function(imgDescription) { // method that we use in the child component ImgItem\n    let allImagesDescriptions = [...this.state.imagesDescriptions,imgDescription];\n    this.setState({\n      imagesDescriptions: allImagesDescriptions,\n    })\n  }\n\n  submitOwnImages = (e)=> {\n    e.preventDefault(); \n    let form = new FormData();\n    for(var x = 0; x<this.state.uploadedImages.length; x++) {\n      form.append('file', this.state.uploadedImages[x]);\n      form.append('filename', this.state.imagesNames[x]);\n      form.append('filedescription', this.state.imagesDescriptions[x]);\n    }\n    axios({\n      method: \"PUT\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: \"/exhibition/user-images\",\n      data: form\n    })\n    .then((response)=> {\n      this.setState({error: \"\"});\n      this.props.history.push(`/finalize/${response.data._id}`); // to redirect\n    })\n    .catch((err)=> {\n      this.setState({error: err.message});\n      if (err.response.data.message === \"Forbidden\") {\n        this.props.history.push(\"/login\"); // to redirect\n      }\n    })\n  }\n\n  render(){\n\n    let allUploads = this.state.uploads.map(() => {\n      return (\n        <div>\n          <UploadItem \n            addImage={this.addImage}\n            addImageName={this.addImageName}\n            addImageDescription={this.addImageDescription}\n          />\n        </div> \n      )\n    })\n\n    return (\n      <MainLayout>\n        <div className=\"UploadImages\">\n          <div>\n            <h1>step 3 / upload your images</h1>\n            <form className=\"FullPage\" onSubmit={this.submitOwnImages}>{/* we don't want the default form submitting behaviour, so we're adding own submit handler   */}\n              <div className=\"TopPage\">\n                {allUploads}\n              </div>\n              <div className=\"BottomPage\">\n                <button className=\"SubmitBtnUpload\" onClick={this.addArtwork}>Add one artwork</button>\n                <input className=\"SubmitBtnUpload\" type=\"submit\" value=\"Next\" />\n              </div>\n            </form>\n          </div>\n          <div>\n            \n          </div>\n        </div>\n      </MainLayout>\n    )\n  }\n}\n\nexport default UploadImages;","import React, { Component } from 'react';\nimport Draggable from 'react-draggable';\nimport \"../stylesheets/DraggableItem.css\"\n\nexport default class DraggableItem extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      activeDrags: 0,\n      originalPosition: {\n        x: 0, y: 0\n      },\n      controlledPosition: {\n        x: 0, y: 0\n      }\n    }\n\n    this.onStart = this.onStart.bind(this)\n    this.onStop = this.onStop.bind(this)\n    this.onControlledDrag = this.onControlledDrag.bind(this)\n    this.onControlledDragStop = this.onControlledDragStop.bind(this)\n\n  }\n\n  onStart() {\n    this.setState({activeDrags: ++this.state.activeDrags});\n  }\n\n  onStop() {\n    this.setState({activeDrags: --this.state.activeDrags});\n  }\n\n  onControlledDrag(e, position) {\n    const {x, y} = position;\n    this.setState({controlledPosition: {x, y}});\n  }\n\n  onControlledDragStop(e, position) {\n    this.onControlledDrag(e, position);\n    this.onStop();\n    this.props.updatePosition(this.props.id,this.state.controlledPosition)\n  }\n\n  render() {\n\n    const dragHandlers = {onStart: this.onStart, onStop: this.onStop};\n    const {originalPosition, controlledPosition} = this.state;\n\n    return (\n      <Draggable position={controlledPosition} {...dragHandlers} onStop={this.onControlledDragStop}>\n        <div className=\"oneExhibitionImage\">\n          <img src={this.props.src} alt=\"\"/>\n          <button className=\"DeleteBtn\" onClick={()=>{this.props.deleteImage(this.props.id)}}>Remove</button>\n        </div>\n      </Draggable>\n    )\n  }\n}\n\n","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport axiosModule from \"axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport \"../stylesheets/Finalize.css\";\nimport DraggableItem from \"../components/DraggableItem\";\nimport qs from \"querystring\"; // used for parsing a javascript object in the right format (x-www-form-urlencoded)\n\n\nclass ShowExhibition extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = { \n      exhibition: {\n        name:\"\",\n        description:\"\",\n        images:[],\n        background_image:\"\",\n        audio: \"\"\n      },\n      error: null\n    }\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.updatePosition = this.updatePosition.bind(this);\n    this.deleteImage = this.deleteImage.bind(this);\n\n  }\n\n  componentDidMount() {\n    let {params} = this.props.match\n    var currentExhibition = params.id\n\n    axios.get(`${process.env.REACT_APP_API}/exhibition/finalize/${currentExhibition}`)\n      .then((response)=>{\n        this.setState({exhibition:response.data})\n      })\n      .catch((err)=>{\n        this.setState({error:err})\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  updatePosition = function(imageId,position) { // method that we use in the child component \n    return axios({\n      method: \"PUT\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: \"/exhibition/position\",\n      data: {imageId: imageId, position: position}\n    })\n      .then(()=> {\n        this.setState({error: \"\"});\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  handleFormChange = (e)=> {\n    let exhibition = {...this.state.exhibition}\n    exhibition[e.target.name] = e.target.value // within the square brackets \"[]\" you can use dynamic keyss\n    this.setState({ \n      exhibition:exhibition //\n    })\n  }\n\n  handleFormSubmit = (e)=> {\n    e.preventDefault(); // disable the default form behavious (redirecting to a new page)\n    return axios({\n      method: \"PUT\",\n      headers: { 'content-type': 'application/x-www-form-urlencoded' },\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: \"/exhibition/finalize\",\n      data: qs.stringify(this.state.exhibition), // don't send data in json format => cors error\n    })\n    .then((exhibition)=> {\n      this.props.history.push(`/show/${exhibition.data._id}`);\n    })\n    .catch((err)=> {\n      this.setState({error: err.response.data.message});\n      if (err.response.data.message === \"Forbidden\") {\n        this.props.history.push(\"/login\"); // to redirect\n      }\n    })\n  }\n\n  deleteImage = function(imageId) {\n    debugger\n    return axios({\n      method: \"GET\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: `/exhibition/delete-image/${imageId}`,\n    })\n      .then(()=> {\n        this.setState({error: \"\"});\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  render() {\n\n    let exhibitionImages = this.state.exhibition.images.map((image) => {\n\n      return (\n        <DraggableItem\n          key={image._id}\n          id={image._id}\n          src = {image.imgPath}\n          updatePosition={this.updatePosition}\n          deleteImage={this.deleteImage}\n        />\n      )\n    })\n\n    return (\n      <div>\n        <MainLayout>\n          <div className=\"FinalizeExhibition\">\n            <iframe className=\"FullScreen\" src={this.state.exhibition.background_image}></iframe>\n            <div className=\"ImagesContainer\">\n              {exhibitionImages}\n            </div>\n            <div className=\"ContentContainer\">\n              <div className=\"NewDescription\">\n                <form className=\"FullPage\" onSubmit={this.handleFormSubmit}>{/* we don't want the default form submitting behaviour, so we're adding own submit handler   */}\n                  <div className=\"TopPage\">\n                    <h1>step 4 / Finalize your exhibition</h1>\n                    <div className=\"InputField\">\n                      <label>Name of exhibition</label>\n                      <input type=\"text\" name=\"name\" value={this.state.exhibition.name} onChange={this.handleFormChange} /> {/* reacts wants to be in charge of all the data   */}\n                    </div>\n                    <div className=\"InputField\">\n                      <label for=\"description\">Description</label>\n                      <textarea className=\"TextArea\" name=\"description\" rows=\"15\" cols=\"30\" alue={this.state.exhibition.description} onChange={this.handleFormChange}></textarea>\n                    </div>\n                    <div>\n                      <p>(Psst... You can move your images)</p>\n                    </div>\n                  </div>\n                  <div className=\"BottomPage\">\n                    <input className=\"SubmitBtn\" type=\"submit\" value=\"Save your exhibition\" />\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </MainLayout>\n      </div>\n    )\n  }\n}\n\nexport default ShowExhibition","import React, { Component } from 'react';\nimport Draggable from 'react-draggable';\nimport axios from \"../utils/axios\";\nimport \"../stylesheets/PositionedImage.css\"\n\nexport default class PositionedImage extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      defaultX: 0,\n      defaultY: 0,\n      hover: false\n    }\n\n    this.toggleHover = this.toggleHover.bind(this)\n  }\n\n  componentDidMount() {\n    return axios({\n      method: \"GET\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: `/exhibition/position/${this.props.id}`,\n      // data: this.state.defaultPosition\n    })\n      .then((response)=> {\n        this.setState({\n          defaultX: response.data.imageX,\n          defaultY: response.data.imageY\n        });\n        // this.props.history.push(\"/images\"); // to redirect\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  toggleHover() {\n    console.log(\"hover\")\n    this.setState({hover: !this.state.hover})\n  }\n\n  render() {\n\n    return (\n      <Draggable position={{x: this.state.defaultX, y: this.state.defaultY}} onStart={() => false}>\n        <div className=\"oneExhitionImageContainer\" onMouseEnter={this.toggleHover} onMouseLeave={this.toggleHover}>\n          {\n            this.state.hover?\n            <div className=\"InfoContainer\">\n              <p>{this.props.name}</p>\n              <p>{this.props.description}</p>\n            </div>\n            :\n            <>\n            \n            </>\n          }\n          <div className=\"oneExhibitionImage\">\n            <img src={this.props.src} alt=\"\"/>\n          </div>\n        </div>\n      </Draggable>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport axiosModule from \"axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport PositionedImage from \"../components/PositionedImage\";\nimport \"../stylesheets/ShowExhibition.css\"\n\n\nclass Show extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = { \n      exhibition: {\n        name:\"\",\n        description:\"\",\n        images:[],\n        background_image:\"\",\n        audio:\"\",\n      },\n      error: null\n    }\n\n  }\n\n  componentDidMount() {\n    let {params} = this.props.match\n    var currentExhibition = params.id\n\n    axios.get(`${process.env.REACT_APP_API}/exhibition/show/${currentExhibition}`)\n      .then((response)=>{\n        this.setState({exhibition:response.data}, () => {\n          axiosModule.get(`http://api.voicerss.org/?key=6e944fc56139476f827e50b5e3cfe966&hl=en-us&src=${response.data.description}`)\n          .then((response)=>{\n            this.setState({audio:response.request.responseURL})\n          })\n          .catch((error)=>{\n            this.setState({error:error})\n          })\n        });\n      })\n      .catch((err)=>{\n        this.setState({error:err})\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  render() {\n\n    let exhibitionImages = this.state.exhibition.images.map((image) => {\n      return (\n        <PositionedImage\n          key={image._id}\n          id={image._id}\n          src = {image.imgPath}\n          description = {image.imgDescription}\n          name = {image.imgName}\n        />\n      )\n    })\n\n    return (\n      <div>\n        <MainLayout>\n          <div className=\"ExhibitionContainer\" id=\"canvas\">\n            <iframe className=\"FullScreen\" src={this.state.exhibition.background_image}></iframe>\n            <div className=\"ImagesContainer\">\n              {exhibitionImages}\n            </div>\n            <div className=\"ContentContainer\">\n              <h1>{this.state.exhibition.name}</h1>\n              <div>\n                <h2>About this exhibition... </h2>\n                <p>{this.state.exhibition.description}</p>\n              </div>\n              <audio\n                controls\n                src={this.state.audio}>\n              </audio>\n            </div>\n          </div>\n        </MainLayout>\n      </div>\n    )\n  }\n}\n\nexport default Show","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport { withRouter } from \"react-router\"; \nimport \"../stylesheets/ExhibitionItem.css\";\nimport {Link} from \"react-router-dom\";\n\n\nclass ExhibitionItem extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      error:null,\n      clicked: false\n    }\n\n    this.addFavorite = this.addFavorite.bind(this);\n    this.beingAdded = this.beingAdded.bind(this)\n    this.beingDeleted = this.beingDeleted.bind(this)\n\n  }\n\n  beingAdded() {\n    this.setState({\n      clicked:true\n    })\n  }\n\n  beingDeleted() {\n    this.setState({\n      clicked:false\n    })\n  }\n\n  addFavorite() {\n    return axios({\n      method: \"PUT\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: \"/exhibition/add-favorite\",\n      data: {id:this.props.id}\n    })\n      .then(()=> {\n        debugger\n        this.setState({error: \"\"});\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  render() {\n\n    return (\n      <div className=\"ExhibitionItem\">\n        <h1>Exhibition: {this.props.name}</h1>\n        <h2>Exhibition description: {this.props.description}</h2>\n        {\n          this.props.location.pathname !== \"/profile\"?\n          <>\n            <h2>Created by: {this.props.creator}</h2>\n          </>\n          :\n          <>\n            <button className=\"remove\" onClick={()=>{this.props.deleteExhibition(this.props.id)}}><img src=\"/images/remove.png\" alt=\"\"/></button>\n          </>\n        }\n        <img src={this.props.image} alt=\"\"/>\n        {\n          this.props.location.pathname === \"/index\"?\n          <>\n\n          {\n            this.state.clicked?\n            <>\n              <button className=\"unfavorite\"><img src=\"/images/red-heart.png\" alt=\"\"/></button>\n              {/* <button className=\"unfavorite\" onClick={()=>{this.removeFavorite();this.beingDeleted()}}><img src=\"/images/red-heart.png\" alt=\"\"/></button> */}\n            </>\n            :\n            <>\n              <button className=\"favorite\" onClick={()=>{this.addFavorite();this.beingAdded()}}><img src=\"/images/heart.png\" alt=\"\"/></button>\n            </>\n          }\n\n{/* <button className=\"favorite\" onClick={this.addFavorite}><img src=\"/images/heart.png\" alt=\"\"/></button> */}\n\n          </>\n          :\n          <>\n          </>\n        }\n        <Link to={`/show/${this.props.id}`}>\n          <img src=\"/images/details.png\" alt=\"\"/>\n        </Link>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(ExhibitionItem)","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport ExhibitionItem from \"../components/ExhibitionItem\";\nimport \"../stylesheets/Profile.css\";\nimport * as Scroll from 'react-scroll';\nimport { Link, Element , Events, animateScroll as scroll, scrollSpy, scroller } from 'react-scroll'\nimport Auth from \"../utils/Auth\";\nconst auth = new Auth();\n\n\nexport default class Profile extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = { \n      exhibitions: [],\n      error: null\n    }\n\n    this.deleteExhibition = this.deleteExhibition.bind(this);\n\n  }\n\n  componentDidMount() {\n\n    axios.get(`${process.env.REACT_APP_API}/exhibition/own-exhibitions`)\n      .then((response)=>{\n        this.setState({exhibitions:response.data})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n  }\n\n  scrollToTop() {\n    scroll.scrollToTop();\n  }\n\n  deleteExhibition = function(exhibitionId) {\n    debugger\n    return axios({\n      method: \"GET\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: `/exhibition/delete-exhibition/${exhibitionId}`,\n    })\n      .then(()=> {\n        debugger\n        this.setState({error: \"\"});\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  render() {\n\n    let user = auth.getUser()\n\n    let exhibitionImages = this.state.exhibitions.map((exhibition) => {\n      return (\n        <div className=\"exhibitionDetails\">\n          <ExhibitionItem \n            key = {exhibition._id}\n            id = {exhibition._id}\n            name = {exhibition.name}\n            description = {exhibition.description}\n            creator = {exhibition.creator.username}\n            deleteExhibition = {this.deleteExhibition}\n            // CHANGER CE BOUT DE CODE PR POUVOIR ACCEDER AUX PROPERTIES DE L'OBJECT EXHIBITION.IMAGES[0]\n            // image = {exhibition.images[0].imgPath}\n            // https://www.svrf.com/storage/svrf-previews/4537166810054656/images/thumbStandard.jpg\n          />\n        </div>\n      )\n    })\n\n    return (\n      <div>\n        <MainLayout>\n          <div className=\"ProfilePage\">\n            <h1>Here are your exhibitions, {user.username} !</h1>\n            <div className=\"allExhibitions\">\n              {exhibitionImages}\n            </div>\n            <button onClick={this.scrollToTop} className=\"ScrollBtn\">Up</button>\n          </div>\n        </MainLayout>\n      </div>\n    )\n  }\n}\n\n","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport ExhibitionItem from \"../components/ExhibitionItem\";\nimport \"../stylesheets/Favorites.css\";\nimport * as Scroll from 'react-scroll';\nimport { Link, Element , Events, animateScroll as scroll, scrollSpy, scroller } from 'react-scroll'\nimport Auth from \"../utils/Auth\";\nconst auth = new Auth();\n\n\nexport default class Favorites extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = { \n      exhibitions: [],\n      error: null\n    }\n  }\n\n  componentDidMount() {\n\n    axios.get(`${process.env.REACT_APP_API}/exhibition/own-favorites`)\n      .then((response)=>{\n        this.setState({exhibitions:response.data})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n  }\n\n  scrollToTop() {\n    scroll.scrollToTop();\n  }\n\n  render() {\n\n    let user = auth.getUser()\n\n    let exhibitionImages = this.state.exhibitions.map((exhibition) => {\n      return (\n        <div className=\"exhibitionDetails\">\n          <ExhibitionItem \n            key = {exhibition._id}\n            id = {exhibition._id}\n            name = {exhibition.name}\n            description = {exhibition.description}\n            creator = {exhibition.creator.username}\n            // CHANGER CE BOUT DE CODE PR POUVOIR ACCEDER AUX PROPERTIES DE L'OBJECT EXHIBITION.IMAGES[0]\n            // image = {exhibition.images[0].imgPath}\n            // https://www.svrf.com/storage/svrf-previews/4537166810054656/images/thumbStandard.jpg\n          />\n        </div>\n      )\n    })\n\n    return (\n      <div>\n        <MainLayout>\n          <div className=\"FavoritesPage\">\n            <h1>Here are your favorites, {user.username} !</h1>\n            <div className=\"allExhibitions\">\n              {exhibitionImages}\n            </div>\n            <button onClick={this.scrollToTop} className=\"ScrollBtn\">Up</button>\n          </div>\n        </MainLayout>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\nimport \"../stylesheets/Home.css\";\nimport {Link} from \"react-router-dom\";\nimport MainLayout from \"../layout/MainLayout\";\n\nexport default function Home() {\n  return (\n    <div>\n      <MainLayout>\n        <div className=\"Home\">\n          <div className=\"LeftSideBar\">\n            <Link to=\"/background\">\n              Create exhibition\n            </Link>\n          </div>\n\n          <div className=\"Empty\">\n          </div>\n\n          <div className=\"HomeIframe\">\n            <iframe className= \"Fullscreen\" src=\"https://poly.google.com/view/ab0SP8HCU57/embed\" frameborder=\"0\" allowvr=\"yes\" allow=\"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;\" allowfullscreen mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" onmousewheel=\"\"></iframe>        \n          </div>\n          <div className=\"RightSideBar\">\n            <Link to=\"/index\">\n              Browse exhibitions\n            </Link>\n          </div>\n        </div>\n      </MainLayout>\n    </div>\n  )\n}\n","import React, { Component } from 'react';\nimport MainLayout from \"../layout/MainLayout\";\nimport \"../stylesheets/Login.css\";\nimport {Link} from \"react-router-dom\";\nimport Auth from \"../utils/Auth\";\nconst auth = new Auth();\n\nclass Login extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = { \n      user : {\n        username:'',\n        password:''\n      },\n      error: null\n    }\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormChange = (e)=> {\n    let user = {...this.state.user}\n    user[e.target.name] = e.target.value // within the square brackets \"[]\" you can use dynamic keyss\n    this.setState({ \n      user:user //\n    })\n  }\n\n  handleFormSubmit = (e)=> {\n    // debugger\n    e.preventDefault();\n    // STEP 1 OF LOGIN: SUBMIT THE LOGIN FORM IN THE FRONT END, CALLS THE LOGIN FUNCTION OF \"Auth.js\"\n    auth.login(this.state.user.username, this.state.user.password)\n      // STEP 5 OF LOGIN: ACT CONSEQUENTLY TO THE DATA SENT BY THE BACKEND (REDIRECT, SHOW ERRORS...)\n      .then(()=> {\n        this.setState({error: \"\"});\n        this.props.history.push(\"/\"); // to redirect\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        console.log(err.response.data.message)\n      })\n  }\n\n  render(){\n    return (\n      <MainLayout>\n        <div className=\"Login\">\n          <div className=\"LoginContent\">\n            <form onSubmit={this.handleFormSubmit}>{/* we don't want the default form submitting behaviour, so we're adding own submit handler   */}\n              <div>\n                <label>Username</label>\n                <input className=\"Inputs\" type=\"text\" name=\"username\" placeholder=\"username\" value={this.state.user.username} onChange={this.handleFormChange} /> {/* reacts wants to be in charge of all the data   */}\n              </div>\n              <div>\n                <label>Password</label>\n                <input className=\"Inputs\" type=\"password\" name=\"password\" placeholder=\"password\" value={this.state.user.password} onChange={this.handleFormChange} />{/* reacts wants to be in charge of all the data   */}\n              </div>\n              <div>\n                <input type=\"submit\" value=\"Login\" />\n              </div>\n              <p className=\"account-message\">\n                Don't have an account? <Link className=\"Link\" to=\"/signup\">Sign up</Link>\n              </p>\n            </form>\n          </div>\n          <div className=\"LoginIframe\">\n            <iframe className= \"Fullscreen\" src=\"https://poly.google.com/view/cV54p02NHQt/embed\" frameborder=\"0\" allowvr=\"yes\" allow=\"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;\" allowfullscreen mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" onmousewheel=\"\"></iframe>        \n          </div>\n        </div>\n      </MainLayout>\n    )\n  }\n}\n\nexport default Login;","import React, { Component } from 'react';\nimport Auth from \"../utils/Auth\";\nimport MainLayout from \"../layout/MainLayout\";\nimport \"../stylesheets/Signup.css\"\nconst auth = new Auth();\n\nclass Signup extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = { \n      user : {\n        username:'',\n        password:'',\n        email:''\n      },\n      error: null\n    }\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormChange = (e)=> {\n    let user = {...this.state.user}\n    user[e.target.name] = e.target.value // within the square brackets \"[]\" you can use dynamic keyss\n    this.setState({ \n      user:user \n    })\n  }\n\n  handleFormSubmit = (e)=> {\n    debugger\n    e.preventDefault();\n    // STEP 1 OF SIGNUP: SUBMIT THE SIGNUP FORM IN THE FRONT END, CALLS THE SIGNUP FUNCTION OF \"Auth.js\"\n    auth.signup(this.state.user)\n    // STEP 5 OF SIGN-UP: ACT CONSEQUENTLY TO THE DATA SENT BY THE BACKEND (REDIRECT, SHOW ERRORS...)\n      .then(()=> {\n        // debugger\n        this.setState({error: \"\"});\n        this.props.history.push(\"/\"); // to redirect\n      })\n      .catch((err)=> {\n        // debugger\n        this.setState({error: err.response.data.message});\n        console.log(err.response.data.message)\n      })\n  }\n\n  render(){\n    return (\n      <MainLayout>\n        <div className=\"Signup\">\n          <div className=\"SignupContent\">\n            <form onSubmit={this.handleFormSubmit}>{/* we don't want the default form submitting behaviour, so we're adding own submit handler   */}\n              <div>\n                <label>Username</label>\n                <input className=\"Inputs\" type=\"text\" name=\"username\" placeholder=\"username\" value={this.state.user.username} onChange={this.handleFormChange} /> {/* reacts wants to be in charge of all the data   */}\n              </div>\n\n              <div>\n                <label>Password</label>\n                <input className=\"Inputs\" type=\"password\" name=\"password\" placeholder=\"password\" value={this.state.user.password} onChange={this.handleFormChange} />{/* reacts wants to be in charge of all the data   */}\n              </div>\n\n              <div>\n                <label>Email</label>\n                <input className=\"Inputs\" type=\"email\" name=\"email\" placeholder=\"Email\" checked={this.state.user.email} onChange={this.handleFormChange} />{/* reacts wants to be in charge of all the data   */}\n              </div>\n              <div>\n                <input type=\"submit\" value=\"Create account\" />\n              </div>\n            </form>\n          </div>\n          <div className=\"SignupIframe\">\n            <iframe className= \"Fullscreen\" src=\"https://poly.google.com/view/3mHT-lSmFvK/embed\" frameborder=\"0\" allowvr=\"yes\" allow=\"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;\" allowfullscreen mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" onmousewheel=\"\"></iframe>        \n          </div>\n        </div>\n      </MainLayout>\n    )\n  }\n}\n\nexport default Signup;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport Auth from \"../utils/Auth\";\nconst auth = new Auth();\n// we are first deconstructing the props that ProtectedRoute receives and \n// spreading the rest. In this case we are assigning all remaining props to rest.\n// Deconstructing: https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Operatoren/Destructuring_assignment\n// Spreading: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\nconst ProtectedRoute  = ({component: Component, redirectUrl, ...rest}) => {\n  // We are creating a <Route /> component dynamically \n  // if the user is not logged in we are redirecting\n  // if the us IS logged in we're rendering the <Component />, which\n  // might be something like <Profile />    \n  return (\n      <Route\n        {...rest}\n        render={ props  => {\n            var user = auth.getUser();\n            if(user){\n              return <Component {...props} />\n            } else {\n              return <Redirect to={{pathname: redirectUrl || '/', state: {from: props.location}}} />\n            }\n          }\n        }\n      />\n    )\n}\nexport default ProtectedRoute;","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\n// import axiosModule from \"axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport ExhibitionItem from \"../components/ExhibitionItem\";\nimport \"../stylesheets/IndexExhibition.css\";\nimport * as Scroll from 'react-scroll';\nimport { Link, Element , Events, animateScroll as scroll, scrollSpy, scroller } from 'react-scroll'\n\nexport default class ShowExhibition extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = { \n      exhibitions: [],\n      error: null\n    }\n  }\n\n  componentDidMount() {\n\n    axios.get(`${process.env.REACT_APP_API}/index`)\n      .then((response)=>{\n        this.setState({exhibitions:response.data})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n  }\n\n  scrollToTop() {\n    scroll.scrollToTop();\n  }\n\n  render() {\n\n    let exhibitionImages = this.state.exhibitions.map((exhibition) => {\n      return (\n        <div className=\"exhibitionDetails\">\n          <ExhibitionItem \n            key = {exhibition._id}\n            id = {exhibition._id}\n            name = {exhibition.name}\n            description = {exhibition.description}\n            creator = {exhibition.creator.username}\n            // CHANGER CE BOUT DE CODE PR POUVOIR ACCEDER AUX PROPERTIES DE L'OBJECT EXHIBITION.IMAGES[0]\n            // image = {exhibition.images[0].imgPath}\n            // https://www.svrf.com/storage/svrf-previews/4537166810054656/images/thumbStandard.jpg\n          />\n        </div>\n      )\n    })\n\n    return (\n      <div>\n        <MainLayout>\n          <div class=\"IndexPage\">\n            <h1 className=\"Title\">All exhibitions</h1>\n            <div className=\"allExhibitions\">\n              {exhibitionImages}\n            </div>\n            <button onClick={this.scrollToTop} className=\"ScrollBtn\">Up</button>\n          </div>\n        </MainLayout>\n      </div>\n    )\n  }\n}\n\n","import React, {Component, Suspense} from 'react';\nimport './App.css';\nimport ChooseImages from './pages/ChooseImages';\nimport UploadImages from './pages/UploadImages';\nimport Finalize from './pages/Finalize';\nimport Show from './pages/Show';\nimport Profile from './pages/Profile';\nimport Favorites from './pages/Favorites';\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport IndexExhibitions from './pages/IndexExhibitions';\nimport {Route} from \"react-router-dom\";\nconst preload = import('./pages/ChooseBackground')\nconst ChooseBackground = React.lazy(() => preload);\n\n\nclass App extends Component {\n\n  render() {\n\n    return (\n      <div className=\"App\">\n        <Route exact path=\"/\" component={Home}/> \n        <Route path=\"/login\" component={Login}/> \n        <Route path=\"/signup\" component={Signup}/> \n\n        \n        <Route \n          redirectUrl='/login' \n          path=\"/background\" \n          render={(props)=> \n            <Suspense fallback={<div>Loading...</div>}>\n              <ChooseBackground {...props} />\n              </Suspense>\n          }\n        />\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/images\" \n          component={ChooseImages}\n        />\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/upload\" \n          component={UploadImages}\n        />\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/finalize/:id\" \n          component={Finalize}\n        />\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/show/:id\" \n          component={Show}\n        />\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/profile\" \n          component={Profile}\n        />\n\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/favorites\" \n          component={Favorites}\n        />\n\n        {/* enlever la protected route dans le backend\n        <Route path=\"/show/:id\" component={Show}/>  */}\n\n        <Route path=\"/index\" component={IndexExhibitions}/> \n\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","import axios from \"./axios\";\nimport qs from \"querystring\";\n\nclass Auth {\n\tconstructor(domain) {\n\t\tthis.domain = domain || process.env.REACT_APP_API;\n\t\tthis.login = this.login.bind(this);\n\t}\n\n\tlogin(username, password) {\n\t\t// debugger\n\t\t// STEP 2 OF LOGIN: SEND THE DATA FROM THE FORM TO THE BANCKEND\n\t\treturn axios({\n\t\t\tmethod: \"POST\",\n\t\t\turl: \"/login\",\n\t\t\tbaseURL: this.domain,\n\t\t\theaders: { 'content-type': 'application/x-www-form-urlencoded' },\n\t\t\tdata: qs.stringify({username, password}),\n\t\t})\n\t\t// STEP 4 OF LOGIN: RETRIEVE THE DATA SENT BY THE BACKEND\n\t\t.then((response)=> {\n\t\t\tthis.setUser(response.data)\n\t\t})\n\t}\n\n\tsignup({username, password, email}) {\n\t\t// STEP 2 OF SIGNUP: SEND THE DATA FROM THE FORM TO THE BACKEND\n\t\t// debugger\n\t\treturn axios({\n\t\t\tmethod: \"POST\",\n\t\t\turl: \"/signup\",\n\t\t\tbaseURL: this.domain,\n\t\t\theaders: { 'content-type': 'application/x-www-form-urlencoded' },\n\t\t\tdata: qs.stringify({username, password, email}),\n\t\t})\n\t\t// STEP 4 OF SIGN-UP: RETRIEVE THE DATA SENT BY THE BACKEND\n\t\t.then((response)=> {\n\t\t\t// debugger\n\t\t\tthis.setUser(response.data);\n\t\t})\n\t}\n\n\tloggedIn(){\n\t\tconst user = this.getUser()\n\t\treturn !!user; \n\t}\n\n\tsetUser(user){\n\t\tlocalStorage.setItem('user', JSON.stringify(user)); //in Local storage: user is the key, JSON.stringify(user) is the value\n\t}\n\n\tgetUser(){\n\t\treturn JSON.parse(localStorage.getItem('user'));\n\t}\n\n\tlogout(){\n\t\t// debugger\n\t\treturn axios({\n\t\t\tmethod: \"GET\",\n\t\t\turl: \"/logout\",\n\t\t\tbaseURL: this.domain\n\t\t})\n\t\t.then((response)=> {\n\t\t\t// debugger\n\t\t\tlocalStorage.removeItem('user');\n\t\t})\n\t}    \n}\n\nexport default Auth","import axios from \"axios\";\n\nexport default axios.create({withCredentials: true})","import React, {Component} from 'react';\nimport {Link} from \"react-router-dom\";\nimport { withRouter } from \"react-router\"; \nimport \"../stylesheets/Nav.css\"\nimport Auth from \"../utils/Auth\";\nconst auth = new Auth();\n// withRouter is a Higher Order Component (HOC).\n// HOC's are functions that take a react component as an argument.\n// The HOC returns that react component with added functionality.\n// In this case that functionality is having all the props that \n// belong to components rendered by <Route />, like match and history.\n// For the Navbar we need the history prop, because we want to be able to\n// redirect if the user click on logout.\n// withRouter: https://reacttraining.com/react-router/web/api/withRouter\n// HOCS in general: https://reactjs.org/docs/higher-order-components.html\n\n\nclass Nav extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = { \n      user: null\n    }\n\n  }\n\n  handleLogout = (e)=> {\n    e.preventDefault();\n    var fixProps = this.props;\n    // we are fixing this because we  \n    // want to use the value of this at this particular moment\n    // in a callback function (the one passed to setState)\n    // setState is going to call that function in a different context \n    // and therefore the value of this will change as well (because it's contextual)\n    // the keyword this in javascript: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\n    auth.logout()\n      .then(()=> {\n        // debugger\n        // setState is an asynchronous function\n        // it can take an optional second argument, which\n        // has to be a call back function\n        // this function will be called after the state is set\n        this.setState({user: null}, ()=> {\n          fixProps.history.push(\"/\");\n        })\n          \n      })\n      .catch((error)=> {\n        this.setState({error: error.message})\n      })\n  }\n\n  componentDidMount() {\n    this.setState({\n      user: auth.getUser()\n    })\n  }\n\n  render(){\n    return (\n      <nav className=\"Nav\">\n        <div>\n          <Link to=\"/\">\n            <img src=\"/images/home.png\" alt=\"\"/>\n          </Link>\n        </div>\n        <div>\n          <Link to=\"/index\">\n            <img src=\"/images/search.png\" alt=\"\"/>\n          </Link>\n        </div>\n        {\n          this.state.user? \n          <>\n            <div>\n              <Link to=\"/profile\">\n                <img src=\"/images/user.png\" alt=\"\"/>\n              </Link>\n            </div>\n            <div>\n              <Link to=\"/favorites\">\n                <img src=\"/images/heart.png\" alt=\"\"/>\n              </Link>\n            </div>\n            <div>\n              <a href=\"#\" onClick = {this.handleLogout} ><img className=\"navimg\" src=\"/images/logout.png\"alt=\"\"/></a>    \n            </div>\n          </>\n          :\n          <>\n            <div>\n              <Link to=\"/login\">\n                <img src=\"/images/login.png\" alt=\"\"/>\n              </Link>\n            </div>\n            <div>\n              <Link to=\"/signup\">\n                <img src=\"/images/signup.png\" alt=\"\"/>\n              </Link>\n            </div>\n          </>\n        }\n      </nav>\n    )\n  }\n}\n\n\n// Adding the props that belong to components rendered by Route to Nav\n// by using withRouter, which is a HOC.\nexport default withRouter(Nav);","import React from 'react';\nimport Nav from \"../components/Nav\";\n\n// This component is meant to share \n// a basic layout that is used by multiple pages.\n// In this case, the basic layout is very simple: it only adds a navbar.\n// However, you could extend it by adding a footer or a sidebar.\n// The advantage of using a layout component is that: \n// A) You don't repeat yourself on every page where you're using the same layout. (DRY)\n// B) If you decide you want your layout to look slightly different, you only have to make \n//    make changes at 1 place. \nconst MainLayout = (props) => {\n\treturn (\n\t//    <></> is a fragment that is used to wrap around adjacent components. \n\t//    Unlike <div></div> framgents don't influence the layout\n\t\t<>\n\t\t\t<Nav />\n\t\t\t{props.children}\n\t\t\t{/* props.children will be substituted with everything\n\t\t\tthat is within <MainLayout> and </MainLayout> */}\n\t\t</>\n\t);\n}\n\nexport default MainLayout;"],"sourceRoot":""}