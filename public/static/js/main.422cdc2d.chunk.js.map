{"version":3,"sources":["components/ImgItem.js","utils/Auth.js","components/Nav.js","layout/MainLayout.js","pages/ChooseImages.js","components/UploadItem.js","pages/UploadImages.js","components/DraggableItem.js","pages/Finalize.js","components/PositionedImage.js","pages/Show.js","components/ExhibitionItem.js","pages/Profile.js","pages/Favorites.js","pages/ChooseBackground.js","pages/Home.js","pages/Login.js","pages/Signup.js","components/ProtectedRoute.js","pages/IndexExhibitions.js","App.js","serviceWorker.js","index.js","utils/axios.js"],"names":["ImgItem","props","state","image","title","primaryImage","clicked","beingAdded","bind","beingDeleted","this","setState","axiosModule","get","imageId","then","response","data","catch","error","prevProps","className","src","alt","onClick","deleteImage","addImage","Component","Auth","domain","process","login","username","password","axios","method","url","baseURL","headers","qs","stringify","setUser","email","getUser","user","localStorage","setItem","JSON","parse","getItem","removeItem","auth","Nav","handleLogout","e","preventDefault","fixProps","logout","history","push","message","to","href","withRouter","MainLayout","children","ChooseImages","handleFormChange","query","target","value","handleFormSubmit","objectIDs","imagesIDs","slice","imageTitle","imageSrc","imageToAdd","imgName","imgPath","exhibition","imgId","allSavedImages","selectedImages","updatedImages","filter","submitMuseumImages","scroll","scrollToTop","museum_images","err","allImages","map","key","onSubmit","type","name","placeholder","onChange","UploadItem","handleNameFormChange","handleDescriptionFormChange","imgDescription","handleFormChangeAndUpload","imgContent","files","addImageName","addImageDescription","display","for","rows","cols","UploadImages","addArtwork","nbrUploads","allUploads","uploads","allUploadedImages","uploadedImages","allImagesNames","imagesNames","allImagesDescriptions","imagesDescriptions","submitOwnImages","form","FormData","x","length","append","_id","DraggableItem","activeDrags","originalPosition","y","controlledPosition","onStart","onStop","onControlledDrag","onControlledDragStop","position","updatePosition","id","dragHandlers","Finalize","images","prevState","description","background_image","audio","currentExhibition","match","params","exhibitionImages","alue","PositionedImage","defaultX","defaultY","hover","toggleHover","imageX","imageY","console","log","onMouseEnter","onMouseLeave","Show","request","responseURL","controls","ExhibitionItem","addFavorite","location","pathname","creator","deleteExhibition","Profile","exhibitionId","exhibitions","getExhibitions","Favorites","BgItem","React","lazy","ChooseBackground","backgrounds","allBackgrounds","background","embedUrl","fallback","Home","frameborder","allowvr","allow","allowfullscreen","mozallowfullscreen","webkitallowfullscreen","onmousewheel","Login","Signup","signup","checked","ProtectedRoute","component","redirectUrl","rest","render","from","IndexExhibitions","class","App","exact","path","Boolean","window","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","create","withCredentials"],"mappings":"qeAKqBA,E,YAEnB,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXC,MAAO,CACLC,MAAM,GACNC,aAAa,GACbC,SAAS,IAIb,EAAKC,WAAa,EAAKA,WAAWC,KAAhB,gBAClB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBAXH,E,0EAgBjBE,KAAKC,SAAS,CACZL,SAAQ,M,qCAKVI,KAAKC,SAAS,CACZL,SAAQ,M,0CAIS,IAAD,OAClBM,IAAYC,IAAZ,2EAAoFH,KAAKT,MAAMa,UAC5FC,KAAK,SAACC,GACL,EAAKL,SAAS,CAACR,MAAMa,EAASC,SAE/BC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,yCAIRC,GAAY,IAAD,OACxBV,KAAKT,MAAMa,UAAYM,EAAUN,SACnCF,IAAYC,IAAZ,2EAAoFH,KAAKT,MAAMa,UAC9FC,KAAK,SAACC,GACL,EAAKL,SAAS,CAACR,MAAMa,EAASC,SAE/BC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,+BAKjB,IAAD,OAEP,OACE,yBAAKE,UAAU,kBACb,yBAAKA,UAAU,kBACb,wBAAIA,UAAU,YAAYX,KAAKR,MAAMC,MAAMC,QAE7C,yBAAKiB,UAAU,kBACb,kBAAC,IAAD,KACE,yBAAKC,IAAKZ,KAAKR,MAAMC,MAAME,aAAckB,IAAI,OAGjD,yBAAKF,UAAU,gBAEXX,KAAKR,MAAMI,QACX,oCACE,4BAAQe,UAAU,YAAYG,QAAS,WAAK,EAAKvB,MAAMwB,YAAY,EAAKxB,MAAMa,SAAS,EAAKL,iBAA5F,cAGF,oCACE,4BAAQY,UAAU,SAASG,QAAS,WAAK,EAAKvB,MAAMyB,SAAS,EAAKxB,MAAMC,MAAMC,MAAM,EAAKF,MAAMC,MAAME,aAAa,EAAKJ,MAAMa,SAAS,EAAKP,eAA3I,iB,GAvEuBoB,a,wCCgEtBC,E,WAjEd,WAAYC,GAAS,oBACpBnB,KAAKmB,OAASA,GAAUC,gDACxBpB,KAAKqB,MAAQrB,KAAKqB,MAAMvB,KAAKE,M,kDAGxBsB,EAAUC,GAAW,IAAD,OAGzB,OAAOC,YAAM,CACZC,OAAQ,OACRC,IAAK,SACLC,QAAS3B,KAAKmB,OACdS,QAAS,CAAE,eAAgB,qCAC3BrB,KAAMsB,IAAGC,UAAU,CAACR,WAAUC,eAG9BlB,KAAK,SAACC,GACN,EAAKyB,QAAQzB,EAASC,U,gCAIa,IAAD,OAA5Be,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,SAAUS,EAAQ,EAARA,MAG3B,OAAOR,YAAM,CACZC,OAAQ,OACRC,IAAK,UACLC,QAAS3B,KAAKmB,OACdS,QAAS,CAAE,eAAgB,qCAC3BrB,KAAMsB,IAAGC,UAAU,CAACR,WAAUC,WAAUS,YAGxC3B,KAAK,SAACC,GAEN,EAAKyB,QAAQzB,EAASC,U,iCAMvB,QADaP,KAAKiC,Y,8BAIXC,GACPC,aAAaC,QAAQ,OAAQC,KAAKP,UAAUI,M,gCAI5C,OAAOG,KAAKC,MAAMH,aAAaI,QAAQ,W,+BAKvC,OAAOf,YAAM,CACZC,OAAQ,MACRC,IAAK,UACLC,QAAS3B,KAAKmB,SAEdd,KAAK,SAACC,GAEN6B,aAAaK,WAAW,c,KC3DrBC,EAAO,IAAIvB,EAYXwB,E,YACJ,WAAYnD,GAAO,IAAD,8BAChB,4CAAMA,KAQRoD,aAAe,SAACC,GACdA,EAAEC,iBACF,IAAIC,EAAW,EAAKvD,MAOpBkD,EAAKM,SACF1C,KAAK,WAMJ,EAAKJ,SAAS,CAACiC,KAAM,MAAO,WAC1BY,EAASE,QAAQC,KAAK,SAIzBzC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAOA,EAAMyC,aA5BhC,EAAK1D,MAAQ,CACX0C,KAAM,MAJQ,E,iFAoChBlC,KAAKC,SAAS,CACZiC,KAAMO,EAAKR,c,+BAKb,OACE,yBAAKtB,UAAU,OACb,6BACE,kBAAC,IAAD,CAAMwC,GAAG,KACP,yBAAKvC,IAAI,mBAAmBC,IAAI,OAGpC,6BACE,kBAAC,IAAD,CAAMsC,GAAG,UACP,yBAAKvC,IAAI,qBAAqBC,IAAI,OAIpCb,KAAKR,MAAM0C,KACX,oCACE,6BACE,kBAAC,IAAD,CAAMiB,GAAG,YACP,yBAAKvC,IAAI,mBAAmBC,IAAI,OAGpC,6BACE,kBAAC,IAAD,CAAMsC,GAAG,cACP,yBAAKvC,IAAI,oBAAoBC,IAAI,OAGrC,6BACE,uBAAGuC,KAAK,IAAItC,QAAWd,KAAK2C,cAAe,yBAAKhC,UAAU,SAASC,IAAI,qBAAoBC,IAAI,QAInG,oCACE,6BACE,kBAAC,IAAD,CAAMsC,GAAG,UACP,yBAAKvC,IAAI,oBAAoBC,IAAI,OAGrC,6BACE,kBAAC,IAAD,CAAMsC,GAAG,WACP,yBAAKvC,IAAI,qBAAqBC,IAAI,a,GAjFhCI,aA8FHoC,cAAWX,GCvFXY,EAbI,SAAC/D,GACnB,OAGC,oCACC,kBAAC,EAAD,MACCA,EAAMgE,W,gBCPWC,E,YAEnB,WAAYjE,GAAQ,IAAD,8BACjB,4CAAMA,KA6BRkE,iBAAmB,SAACb,GAClB,EAAK3C,SAAS,CACZyD,MAAOd,EAAEe,OAAOC,SAhCD,EAoCnBC,iBAAmB,SAACjB,GAClBA,EAAEC,iBAEF,IAAMa,EAAQ,EAAKlE,MAAMkE,MAEzBxD,IAAYC,IAAZ,4EAAqFuD,IAClFrD,KAAK,SAACC,GACDA,EAASC,KAAKuD,UAChB,EAAK7D,SAAS,CAAC8D,UAAUzD,EAASC,KAAKuD,UAAUE,MAAM,EAAE,MAEzD,EAAK/D,SAAS,CAAC8D,UAAUzD,EAASC,KAAKuD,cAG1CtD,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,OAlDR,EAuDnBO,SAAW,SAASiD,EAAYC,EAAU9D,GACxC,IAAI+D,EAAa,CAACC,QAAQH,EAAWI,QAAQH,EAASI,WAAW,GAAGC,MAAMnE,GACtEoE,EAAc,sBAAOxE,KAAKR,MAAMiF,gBAAlB,CAAiCN,IACnDnE,KAAKC,SAAS,CACZwE,eAAgBD,KA3DD,EA+DnBzD,YAAc,SAASX,GACrB,IACIsE,EADc,YAAO1E,KAAKR,MAAMiF,gBACDE,OAAO,SAAAlF,GAAK,OAAIA,EAAM8E,QAAUnE,IACnEJ,KAAKC,SAAS,CACZwE,eAAgBC,KAjElB,EAAKlF,MAAQ,CACXuE,UAAW,GACXL,MAAO,GACPjD,MAAO,KACPgE,eAAgB,IAGlB,EAAKZ,iBAAmB,EAAKA,iBAAiB/D,KAAtB,gBACxB,EAAKkB,SAAW,EAAKA,SAASlB,KAAd,gBAChB,EAAK8E,mBAAqB,EAAKA,mBAAmB9E,KAAxB,gBAC1B,EAAKiB,YAAc,EAAKA,YAAYjB,KAAjB,gBAZF,E,iFAgBE,IAAD,OAClBI,IAAYC,IAAI,6EACbE,KAAK,SAACC,GACL,EAAKL,SAAS,CAAC8D,UAAUzD,EAASC,KAAKuD,UAAUE,MAAM,EAAE,QAE1DxD,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,oCAKzBoE,gBAAOC,gB,2CA4Ca,IAAD,OACnB,OAAOtD,YAAM,CACXC,OAAQ,MACRE,QAASP,gDACZM,IAAK,4BACFnB,KAAM,CAACwE,cAAc,YAAK/E,KAAKR,MAAMiF,mBAEpCpE,KAAK,WACJ,EAAKJ,SAAS,CAACQ,MAAO,KACtB,EAAKlB,MAAMyD,QAAQC,KAAK,aAEzBzC,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAOuE,EAAI1E,SAASC,KAAK2C,UACN,cAA9B8B,EAAI1E,SAASC,KAAK2C,SACpB,EAAK3D,MAAMyD,QAAQC,KAAK,c,+BAKtB,IACJgC,EADG,OAkBP,OAfIjF,KAAKR,MAAMuE,YACbkB,EAAYjF,KAAKR,MAAMuE,UAAUmB,IAAI,SAAC9E,GACpC,OACE,6BACE,kBAAC,EAAD,CACE+E,IAAK/E,EACLA,QAAWA,EACXY,SAAU,EAAKA,SACfD,YAAa,EAAKA,kBAS1B,kBAAC,EAAD,KAEE,yBAAKJ,UAAU,gBACb,6DAEA,0BAAMyE,SAAUpF,KAAK6D,kBACnB,yBAAKlD,UAAU,cACb,2BAAO0E,KAAK,OAAO1E,UAAU,aAAa2E,KAAK,QAAQC,YAAY,iCAAiC3B,MAAO5D,KAAKR,MAAMkE,MAAO8B,SAAUxF,KAAKyD,mBAC5I,2BAAO4B,KAAK,SAAS1E,UAAU,WAAWiD,MAAM,SAIpD,6BAEI5D,KAAKR,MAAMuE,UACX,oCACE,yBAAKpD,UAAU,mBACZsE,GAGH,6BACE,4BAAQnE,QAASd,KAAK8E,YAAanE,UAAU,aAA7C,gBACA,4BAAQA,UAAU,YAAYG,QAASd,KAAK4E,oBAA5C,eAIJ,oCACE,yBAAKjE,UAAU,iBACb,wEAEF,yBAAKA,UAAU,iBACb,iE,GA/IwBM,aCNrBwE,G,kBAEnB,WAAYlG,GAAQ,IAAD,8BACjB,4CAAMA,KASRmG,qBAAuB,SAAC9C,GACtB,EAAK3C,SAAS,CACZmE,QAASxB,EAAEe,OAAOC,SAZH,EAgBnB+B,4BAA8B,SAAC/C,GAC7B,EAAK3C,SAAS,CACZ2F,eAAgBhD,EAAEe,OAAOC,SAlBV,EAsBnBiC,0BAA4B,SAACjD,GAC3B,EAAK3C,SAAS,CACZ6F,WAAYlD,EAAEe,OAAOoC,MAAM,IACxB,WACD,EAAKxG,MAAMyB,SAAS,EAAKxB,MAAMsG,YAC/B,EAAKvG,MAAMyG,aAAa,EAAKxG,MAAM4E,SACnC,EAAK7E,MAAM0G,oBAAoB,EAAKzG,MAAMoG,mBA1B9C,EAAKpG,MAAQ,CACX4E,QAAS,GACT0B,WAAY,GACZF,eAAgB,GAChBM,QAAQ,IANO,E,sEAkCjB,OACE,yBAAKvF,UAAU,iBACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,YACb,+CACA,2BAAOA,UAAU,aAAa0E,KAAK,OAAOC,KAAK,UAAU1B,MAAO5D,KAAKR,MAAM4E,QAASoB,SAAUxF,KAAK0F,uBAFrG,KAIA,yBAAK/E,UAAU,YACb,2BAAOwF,IAAI,kBAAX,4BACA,8BAAUxF,UAAU,WAAW2E,KAAK,iBAAiBc,KAAK,IAAIC,KAAK,KAAKzC,MAAO5D,KAAKR,MAAMoG,eAAgBJ,SAAUxF,KAAK2F,+BAE3H,yBAAKhF,UAAU,gBACb,2BAAOA,UAAU,YAAY0E,KAAK,OAAOC,KAAK,aAAaC,YAAY,mBAAmBC,SAAUxF,KAAK6F,4BAD3G,W,GA/C8B5E,cCqHzBqF,G,kBAjHb,WAAY/G,GAAO,IAAD,8BAChB,4CAAMA,KAmBRgH,WAAa,SAAC3D,GACZA,EAAEC,iBACF,IAAI2D,EAAa,EAAKhH,MAAMgH,WAExBC,EAAU,sBAAO,EAAKjH,MAAMkH,SAAlB,CADE,eAEhB,EAAKzG,SAAS,CAACuG,WAAYA,GAAY,EAAGE,QAASD,KAzBnC,EA4BlBzF,SAAW,SAAS8E,GAClB,IAAIa,EAAiB,sBAAO3G,KAAKR,MAAMoH,gBAAlB,CAAiCd,IACtD9F,KAAKC,SAAS,CACZ2G,eAAgBD,KA/BF,EAmClBX,aAAe,SAAS5B,GACtB,IAAIyC,EAAc,sBAAO7G,KAAKR,MAAMsH,aAAlB,CAA8B1C,IAChDpE,KAAKC,SAAS,CACZ6G,YAAaD,KAtCC,EA0ClBZ,oBAAsB,SAASL,GAC7B,IAAImB,EAAqB,sBAAO/G,KAAKR,MAAMwH,oBAAlB,CAAqCpB,IAC9D5F,KAAKC,SAAS,CACZ+G,mBAAoBD,KA7CN,EAiDlBE,gBAAkB,SAACrE,GACjBA,EAAEC,iBAEF,IADA,IAAIqE,EAAO,IAAIC,SACPC,EAAI,EAAGA,EAAE,EAAK5H,MAAMoH,eAAeS,OAAQD,IACjDF,EAAKI,OAAO,OAAQ,EAAK9H,MAAMoH,eAAeQ,IAC9CF,EAAKI,OAAO,WAAY,EAAK9H,MAAMsH,YAAYM,IAC/CF,EAAKI,OAAO,kBAAmB,EAAK9H,MAAMwH,mBAAmBI,IAE/D5F,YAAM,CACJC,OAAQ,MACRE,QAASP,gDACZM,IAAK,0BACFnB,KAAM2G,IAEP7G,KAAK,SAACC,GACL,EAAKL,SAAS,CAACQ,MAAO,KACtB,EAAKlB,MAAMyD,QAAQC,KAAnB,oBAAqC3C,EAASC,KAAKgH,QAEpD/G,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAOuE,EAAI9B,UACQ,cAA9B8B,EAAI1E,SAASC,KAAK2C,SACpB,EAAK3D,MAAMyD,QAAQC,KAAK,aAnE5B,EAAKzD,MAAQ,CACXoH,eAAgB,GAChBE,YAAa,GACbE,mBAAoB,GACpBvG,MAAO,KACP+F,WAAY,EACZE,QAAS,CAAC,mBAGZ,EAAK1F,SAAW,EAAKA,SAASlB,KAAd,gBAChB,EAAKkG,aAAe,EAAKA,aAAalG,KAAlB,gBACpB,EAAKmG,oBAAsB,EAAKA,oBAAoBnG,KAAzB,gBAC3B,EAAKmH,gBAAkB,EAAKA,gBAAgBnH,KAArB,gBACvB,EAAKyG,WAAa,EAAKA,WAAWzG,KAAhB,gBAhBF,E,sEA2ET,IAAD,OAEF2G,EAAazG,KAAKR,MAAMkH,QAAQxB,IAAI,WACtC,OACE,6BACE,kBAAC,EAAD,CACElE,SAAU,EAAKA,SACfgF,aAAc,EAAKA,aACnBC,oBAAqB,EAAKA,yBAMlC,OACE,kBAAC,EAAD,KACE,yBAAKtF,UAAU,gBACb,6BACE,2DACA,0BAAMA,UAAU,WAAWyE,SAAUpF,KAAKiH,iBACxC,yBAAKtG,UAAU,WACZ8F,GAEH,yBAAK9F,UAAU,cACb,4BAAQA,UAAU,kBAAkBG,QAASd,KAAKuG,YAAlD,mBACA,2BAAO5F,UAAU,kBAAkB0E,KAAK,SAASzB,MAAM,YAI7D,oC,GAzGiB3C,c,iCCHNuG,G,kBAEnB,WAAYjI,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXiI,YAAa,EACbC,iBAAkB,CAChBN,EAAG,EAAGO,EAAG,GAEXC,mBAAoB,CAClBR,EAAG,EAAGO,EAAG,IAIb,EAAKE,QAAU,EAAKA,QAAQ/H,KAAb,gBACf,EAAKgI,OAAS,EAAKA,OAAOhI,KAAZ,gBACd,EAAKiI,iBAAmB,EAAKA,iBAAiBjI,KAAtB,gBACxB,EAAKkI,qBAAuB,EAAKA,qBAAqBlI,KAA1B,gBAfX,E,uEAoBjBE,KAAKC,SAAS,CAACwH,cAAezH,KAAKR,MAAMiI,gB,+BAIzCzH,KAAKC,SAAS,CAACwH,cAAezH,KAAKR,MAAMiI,gB,uCAG1B7E,EAAGqF,GAAW,IACtBb,EAAQa,EAARb,EAAGO,EAAKM,EAALN,EACV3H,KAAKC,SAAS,CAAC2H,mBAAoB,CAACR,IAAGO,S,2CAGpB/E,EAAGqF,GACtBjI,KAAK+H,iBAAiBnF,EAAGqF,GACzBjI,KAAK8H,SACL9H,KAAKT,MAAM2I,eAAelI,KAAKT,MAAM4I,GAAGnI,KAAKR,MAAMoI,sB,+BAG3C,IAAD,OAEDQ,EAAe,CAACP,QAAS7H,KAAK6H,QAASC,OAAQ9H,KAAK8H,QAFnD,EAGwC9H,KAAKR,MAA3BoI,GAHlB,EAGAF,iBAHA,EAGkBE,oBAEzB,OACE,kBAAC,IAAD,eAAWK,SAAUL,GAAwBQ,EAA7C,CAA2DN,OAAQ9H,KAAKgI,uBACtE,yBAAKrH,UAAU,sBACb,yBAAKC,IAAKZ,KAAKT,MAAMqB,IAAKC,IAAI,KAC9B,4BAAQF,UAAU,YAAYG,QAAS,WAAK,EAAKvB,MAAMwB,YAAY,EAAKxB,MAAM4I,MAA9E,gB,GAjDiClH,c,ujBC0K5BoH,E,YAnKb,WAAY9I,GAAO,IAAD,8BAChB,4CAAMA,KAmCR2I,eAAiB,SAAS9H,EAAQ6H,GAAW,IAAD,OAC1C,OAAOzG,YAAM,CACXC,OAAQ,MACRE,QAASP,gDACZM,IAAK,uBACFnB,KAAM,CAACH,QAASA,EAAS6H,SAAUA,KAElC5H,KAAK,WACJ,EAAKJ,SAAS,CAACQ,MAAO,OAEvBD,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAOuE,EAAI1E,SAASC,KAAK2C,UACN,cAA9B8B,EAAI1E,SAASC,KAAK2C,SACpB,EAAK3D,MAAMyD,QAAQC,KAAK,aAjDd,EAsDlBQ,iBAAmB,SAACb,GAClB,IAAI0B,EAAU,KAAO,EAAK9E,MAAM8E,YAChCA,EAAW1B,EAAEe,OAAO2B,MAAQ1C,EAAEe,OAAOC,MACrC,EAAK3D,SAAS,CACZqE,WAAWA,KA1DG,EA8DlBT,iBAAmB,SAACjB,GAElB,OADAA,EAAEC,iBACKrB,YAAM,CACXC,OAAQ,MACRG,QAAS,CAAE,eAAgB,qCAC3BD,QAASP,gDACZM,IAAK,uBACFnB,KAAMsB,IAAGC,UAAU,EAAKtC,MAAM8E,cAE/BjE,KAAK,SAACiE,GACL,EAAK/E,MAAMyD,QAAQC,KAAnB,gBAAiCqB,EAAW/D,KAAKgH,QAElD/G,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAOuE,EAAI1E,SAASC,KAAK2C,UACN,cAA9B8B,EAAI1E,SAASC,KAAK2C,SACpB,EAAK3D,MAAMyD,QAAQC,KAAK,aA7EZ,EAkFlBlC,YAAc,SAASX,GAAU,IAAD,OAE9B,OAAOoB,YAAM,CACXC,OAAQ,MACRE,QAASP,gDACZM,IAAI,4BAAD,OAA8BtB,KAE7BC,KAAK,WACJ,IACMiI,EADU,YAAO,EAAK9I,MAAM8E,WAAWgE,QACnB3D,OAAO,SAAAlF,GAAK,OAAIA,EAAM8H,MAAQnH,IACxD,EAAKH,SAAS,SAAAsI,GAAS,MAAK,CAC1B9H,MAAM,GACN6D,WAAW,EAAD,GACHiE,EAAUjE,WADP,CAENgE,OAAQA,SAKf9H,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAOuE,EAAI1E,SAASC,KAAK2C,UACN,cAA9B8B,EAAI1E,SAASC,KAAK2C,SACpB,EAAK3D,MAAMyD,QAAQC,KAAK,aArG9B,EAAKzD,MAAQ,CACX8E,WAAY,CACVgB,KAAK,GACLkD,YAAY,GACZF,OAAO,GACPG,iBAAiB,GACjBC,MAAO,IAETjI,MAAO,MAGT,EAAKoD,iBAAmB,EAAKA,iBAAiB/D,KAAtB,gBACxB,EAAKoI,eAAiB,EAAKA,eAAepI,KAApB,gBACtB,EAAKiB,YAAc,EAAKA,YAAYjB,KAAjB,gBAhBH,E,iFAoBG,IAAD,OAEd6I,EADW3I,KAAKT,MAAMqJ,MAArBC,OAC0BV,GAE/B3G,IAAMrB,IAAN,UAAaiB,gDAAb,gCAA8DuH,IAC3DtI,KAAK,SAACC,GACL,EAAKL,SAAS,CAACqE,WAAWhE,EAASC,SAEpCC,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAMuE,IACa,cAA9BA,EAAI1E,SAASC,KAAK2C,SACpB,EAAK3D,MAAMyD,QAAQC,KAAK,c,+BA+EtB,IAAD,OAEH6F,EAAmB9I,KAAKR,MAAM8E,WAAWgE,OAAOpD,IAAI,SAACzF,GAEvD,OACE,kBAAC,EAAD,CACE0F,IAAK1F,EAAM8H,IACXY,GAAI1I,EAAM8H,IACV3G,IAAOnB,EAAM4E,QACb6D,eAAgB,EAAKA,eACrBnH,YAAa,EAAKA,gBAKxB,OACE,6BACE,kBAAC,EAAD,KACE,yBAAKJ,UAAU,sBACb,4BAAQA,UAAU,aAAaC,IAAKZ,KAAKR,MAAM8E,WAAWmE,mBAC1D,yBAAK9H,UAAU,mBACZmI,GAEH,yBAAKnI,UAAU,oBACb,yBAAKA,UAAU,kBACb,0BAAMA,UAAU,WAAWyE,SAAUpF,KAAK6D,kBACxC,yBAAKlD,UAAU,WACb,iEACA,yBAAKA,UAAU,cACb,qDACA,2BAAO0E,KAAK,OAAOC,KAAK,OAAO1B,MAAO5D,KAAKR,MAAM8E,WAAWgB,KAAME,SAAUxF,KAAKyD,mBAFnF,KAIA,yBAAK9C,UAAU,cACb,2BAAOwF,IAAI,eAAX,eACA,8BAAUxF,UAAU,WAAW2E,KAAK,cAAcc,KAAK,KAAKC,KAAK,KAAK0C,KAAM/I,KAAKR,MAAM8E,WAAWkE,YAAahD,SAAUxF,KAAKyD,oBAEhI,6BACE,mEAGJ,yBAAK9C,UAAU,cACb,2BAAOA,UAAU,YAAY0E,KAAK,SAASzB,MAAM,oC,GAzJ9C3C,aCJF+H,G,mBAEnB,WAAYzJ,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXyJ,SAAU,EACVC,SAAU,EACVC,OAAO,GAGT,EAAKC,YAAc,EAAKA,YAAYtJ,KAAjB,gBARF,E,iFAWE,IAAD,OAClB,OAAO0B,YAAM,CACXC,OAAQ,MACRE,QAASP,gDACZM,IAAI,wBAAD,OAA0B1B,KAAKT,MAAM4I,MAGpC9H,KAAK,SAACC,GACL,EAAKL,SAAS,CACZgJ,SAAU3I,EAASC,KAAK8I,OACxBH,SAAU5I,EAASC,KAAK+I,WAI3B9I,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAOuE,EAAI1E,SAASC,KAAK2C,UACN,cAA9B8B,EAAI1E,SAASC,KAAK2C,SACpB,EAAK3D,MAAMyD,QAAQC,KAAK,c,oCAM9BsG,QAAQC,IAAI,SACZxJ,KAAKC,SAAS,CAACkJ,OAAQnJ,KAAKR,MAAM2J,U,+BAKlC,OACE,kBAAC,IAAD,CAAWlB,SAAU,CAACb,EAAGpH,KAAKR,MAAMyJ,SAAUtB,EAAG3H,KAAKR,MAAM0J,UAAWrB,QAAS,kBAAM,IACpF,yBAAKlH,UAAU,4BAA4B8I,aAAczJ,KAAKoJ,YAAaM,aAAc1J,KAAKoJ,aAE1FpJ,KAAKR,MAAM2J,MACX,yBAAKxI,UAAU,iBACb,2BAAIX,KAAKT,MAAM+F,MACf,2BAAItF,KAAKT,MAAMiJ,cAGjB,qCAIF,yBAAK7H,UAAU,sBACb,yBAAKC,IAAKZ,KAAKT,MAAMqB,IAAKC,IAAI,Y,GAzDGI,cCuF9B0I,G,mBAlFb,WAAYpK,GAAO,IAAD,8BAChB,4CAAMA,KAEDC,MAAQ,CACX8E,WAAY,CACVgB,KAAK,GACLkD,YAAY,GACZF,OAAO,GACPG,iBAAiB,GACjBC,MAAM,IAERjI,MAAO,MAXO,E,iFAgBG,IAAD,OAEdkI,EADW3I,KAAKT,MAAMqJ,MAArBC,OAC0BV,GAE/B3G,IAAMrB,IAAN,UAAaiB,gDAAb,4BAA0DuH,IACvDtI,KAAK,SAACC,GACL,EAAKL,SAAS,CAACqE,WAAWhE,EAASC,MAAO,WACxCL,IAAYC,IAAZ,sFAA+FG,EAASC,KAAKiI,cAC5GnI,KAAK,SAACC,GACL,EAAKL,SAAS,CAACyI,MAAMpI,EAASsJ,QAAQC,gBAEvCrJ,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,UAI1BD,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAMuE,IACa,cAA9BA,EAAI1E,SAASC,KAAK2C,SACpB,EAAK3D,MAAMyD,QAAQC,KAAK,c,+BAO9B,IAAI6F,EAAmB9I,KAAKR,MAAM8E,WAAWgE,OAAOpD,IAAI,SAACzF,GACvD,OACE,kBAAC,EAAD,CACE0F,IAAK1F,EAAM8H,IACXY,GAAI1I,EAAM8H,IACV3G,IAAOnB,EAAM4E,QACbmE,YAAe/I,EAAMmG,eACrBN,KAAQ7F,EAAM2E,YAKpB,OACE,6BACE,kBAAC,EAAD,KACE,yBAAKzD,UAAU,sBAAsBwH,GAAG,UACtC,4BAAQxH,UAAU,aAAaC,IAAKZ,KAAKR,MAAM8E,WAAWmE,mBAC1D,yBAAK9H,UAAU,mBACZmI,GAEH,yBAAKnI,UAAU,oBACb,yBAAKA,UAAU,WACb,4BAAKX,KAAKR,MAAM8E,WAAWgB,MAC3B,6BACE,yDACA,2BAAItF,KAAKR,MAAM8E,WAAWkE,cAE5B,2BACEsB,UAAQ,EACRlJ,IAAKZ,KAAKR,MAAMkJ,iB,GAzEfzH,cCDb8I,G,mBAEJ,WAAYxK,GAAO,IAAD,8BAChB,4CAAMA,KACDC,MAAQ,CACXiB,MAAM,KACNb,SAAS,GAGX,EAAKoK,YAAc,EAAKA,YAAYlK,KAAjB,gBACnB,EAAKD,WAAa,EAAKA,WAAWC,KAAhB,gBAClB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBATJ,E,0EAchBE,KAAKC,SAAS,CACZL,SAAQ,M,qCAKVI,KAAKC,SAAS,CACZL,SAAQ,M,oCAIG,IAAD,OACZ,OAAO4B,YAAM,CACXC,OAAQ,MACRE,QAASP,gDACZM,IAAK,2BACFnB,KAAM,CAAC4H,GAAGnI,KAAKT,MAAM4I,MAEpB9H,KAAK,WAEJ,EAAKJ,SAAS,CAACQ,MAAO,OAEvBD,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAOuE,EAAI1E,SAASC,KAAK2C,UACN,cAA9B8B,EAAI1E,SAASC,KAAK2C,SACpB,EAAK3D,MAAMyD,QAAQC,KAAK,c,+BAKtB,IAAD,OACP,OACE,yBAAKtC,UAAU,kBACb,4BAAKX,KAAKT,MAAM+F,MAChB,yBAAK3E,UAAU,sBAAqBC,IAAKZ,KAAKT,MAAME,MAAOoB,IAAI,KAC/D,uCAAab,KAAKT,MAAMiJ,aACxB,yBAAK7H,UAAU,mBAEsB,aAAjCX,KAAKT,MAAM0K,SAASC,SACpB,oCACE,wBAAIvJ,UAAU,gBAAd,eAA0CX,KAAKT,MAAM4K,UAGvD,oCACE,4BAAQxJ,UAAU,SAASG,QAAS,WAAK,EAAKvB,MAAM6K,iBAAiB,EAAK7K,MAAM4I,MAAM,yBAAKvH,IAAI,qBAAqBC,IAAI,OAIzF,WAAjCb,KAAKT,MAAM0K,SAASC,SACpB,oCAGElK,KAAKR,MAAMI,QACX,oCACE,4BAAQe,UAAU,cAAa,yBAAKC,IAAI,wBAAwBC,IAAI,OAItE,oCACE,4BAAQF,UAAU,WAAWG,QAAS,WAAK,EAAKkJ,cAAc,EAAKnK,eAAe,yBAAKe,IAAI,oBAAoBC,IAAI,QAQvH,qCAGF,kBAAC,IAAD,CAAMsC,GAAE,gBAAWnD,KAAKT,MAAM4I,KAC5B,yBAAKvH,IAAI,sBAAsBC,IAAI,Y,GAvFlBI,cA+FdoC,cAAW0G,GC9FpBtH,G,OAAO,IAAIvB,GAGImJ,E,YAEnB,WAAY9K,GAAO,IAAD,8BAChB,4CAAMA,KAiCR6K,iBAAmB,SAASE,GAAe,IAAD,OAExC,OAAO9I,YAAM,CACXC,OAAQ,MACRE,QAASP,gDACZM,IAAI,iCAAD,OAAmC4I,KAElCjK,KAAK,WACJ,IACMkK,EADe,YAAO,EAAK/K,MAAM+K,aACH5F,OAAO,SAAAL,GAAU,OAAIA,EAAWiD,MAAQ+C,IAC5E,EAAKrK,SAAS,CAACQ,MAAO,GAAI8J,kBAE3B/J,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAOuE,EAAI1E,SAASC,KAAK2C,UACN,cAA9B8B,EAAI1E,SAASC,KAAK2C,SACpB,EAAK3D,MAAMyD,QAAQC,KAAK,aA9C9B,EAAKzD,MAAQ,CACX+K,YAAa,GACb9J,MAAO,MAGT,EAAK2J,iBAAmB,EAAKA,iBAAiBtK,KAAtB,gBARR,E,iFAchBE,KAAKwK,mB,oCAIL3F,gBAAOC,gB,uCAGQ,IAAD,OAEdtD,IAAMrB,IAAN,UAAaiB,gDAAb,gCACGf,KAAK,SAACC,GACL,EAAKL,SAAS,CAACsK,YAAYjK,EAASC,SAGrCC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,+BAyBjB,IAAD,OAEHyB,EAAOO,EAAKR,UAEZ6G,EAAmB9I,KAAKR,MAAM+K,YAAYrF,IAAI,SAACZ,GACjD,IAAID,EAAU,GAId,OAHGC,EAAWgE,OAAOjB,SACnBhD,EAAUC,EAAWgE,OAAO,GAAGjE,SAG/B,yBAAK1D,UAAU,qBACb,kBAAC,EAAD,CACEwE,IAAOb,EAAWiD,IAClBY,GAAM7D,EAAWiD,IACjBjC,KAAQhB,EAAWgB,KACnBkD,YAAelE,EAAWkE,YAC1B2B,QAAW7F,EAAW6F,QAAQ7I,SAC9B8I,iBAAoB,EAAKA,iBACzB3K,MAAS4E,OAMjB,OACE,6BACE,kBAAC,EAAD,KACE,yBAAK1D,UAAU,eACb,0DAAgCuB,EAAKZ,SAArC,MACA,yBAAKX,UAAU,kBACZmI,GAEH,4BAAQhI,QAASd,KAAK8E,YAAanE,UAAU,aAA7C,a,GAxFyBM,aCH/BwB,G,OAAO,IAAIvB,GAGIuJ,E,YAEnB,WAAYlL,GAAO,IAAD,8BAChB,4CAAMA,KAEDC,MAAQ,CACX+K,YAAa,GACb9J,MAAO,MALO,E,iFASG,IAAD,OAElBe,IAAMrB,IAAN,UAAaiB,gDAAb,8BACGf,KAAK,SAACC,GACL,EAAKL,SAAS,CAACsK,YAAYjK,EAASC,SAErCC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,oCAKzBoE,gBAAOC,gB,+BAKP,IAAI5C,EAAOO,EAAKR,UACZ6G,EAAmB9I,KAAKR,MAAM+K,YAAYrF,IAAI,SAACZ,GACjD,IAAID,EAAU,GAMd,OAJEA,EADCC,EAAWgE,OAAOjB,OACT/C,EAAWgE,OAAO,GAAGjE,QAEtB,sBAGT,yBAAK1D,UAAU,qBACb,kBAAC,EAAD,CACEwE,IAAOb,EAAWiD,IAClBY,GAAM7D,EAAWiD,IACjBjC,KAAQhB,EAAWgB,KACnBkD,YAAelE,EAAWkE,YAC1B2B,QAAW7F,EAAW6F,QAAQ7I,SAC9B7B,MAAS4E,OAMjB,OACE,6BACE,kBAAC,EAAD,KACE,yBAAK1D,UAAU,iBACb,wDAA8BuB,EAAKZ,SAAnC,MACA,yBAAKX,UAAU,kBACZmI,GAEH,4BAAQhI,QAASd,KAAK8E,YAAanE,UAAU,aAA7C,a,GA1D2BM,aCRjCyJ,G,OAASC,IAAMC,KAAK,kBAAM,iCAGXC,E,YAEnB,WAAYtL,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXsL,YAAa,CAAC,MAAM,iBAAiB,iBAAiB,MAAM,iBAAiB,iBAAiB,OAAO,OAAO,OAAO,OAAO,iBAAiB,iBAAiB,iBAAiB,OAAO,iBAAiB,OAAO,mBAH7L,E,sEAOT,IAAD,OAEHC,EAAiB/K,KAAKR,MAAMsL,YAAY5F,IAAI,SAAC8F,GAC/C,OACE,oCACE,kBAACN,EAAD,iBACM,EAAKnL,MADX,CAEE0L,SAAQ,wCAAqCD,SAMrD,OACE,kBAAC,EAAD,KACE,yBAAKrK,UAAU,oBACb,0DACA,yBAAKA,UAAU,kBACb,kBAAC,WAAD,CAAUuK,SAAU,4CACjBH,U,GA5B+B9J,a,OCD/B,SAASkK,IACtB,OACE,6BACE,kBAAC,EAAD,KACE,yBAAKxK,UAAU,QACb,yBAAKA,UAAU,eACb,kBAAC,IAAD,CAAMwC,GAAG,eAAT,sBAKF,yBAAKxC,UAAU,UAGf,yBAAKA,UAAU,cACb,4BAAQA,UAAW,aAAaC,IAAI,iDAAiDwK,YAAY,IAAIC,QAAQ,MAAMC,MAAM,4DAA4DC,iBAAe,EAACC,mBAAmB,OAAOC,sBAAsB,OAAOC,aAAa,MAE3Q,yBAAK/K,UAAU,gBACb,kBAAC,IAAD,CAAMwC,GAAG,UAAT,0B,mOClBZ,IAAMV,EAAO,IAAIvB,EAwEFyK,E,YArEb,WAAYpM,GAAO,IAAD,8BAChB,4CAAMA,KAaRkE,iBAAmB,SAACb,GAClB,IAAIV,E,qVAAI,IAAO,EAAK1C,MAAM0C,MAC1BA,EAAKU,EAAEe,OAAO2B,MAAQ1C,EAAEe,OAAOC,MAC/B,EAAK3D,SAAS,CACZiC,KAAKA,KAlBS,EAsBlB2B,iBAAmB,SAACjB,GAElBA,EAAEC,iBAEFJ,EAAKpB,MAAM,EAAK7B,MAAM0C,KAAKZ,SAAU,EAAK9B,MAAM0C,KAAKX,UAElDlB,KAAK,WACJ,EAAKJ,SAAS,CAACQ,MAAO,KACtB,EAAKlB,MAAMyD,QAAQC,KAAK,OAEzBzC,MAAM,SAACwE,GACN,EAAK/E,SAAS,CAACQ,MAAOuE,EAAI1E,SAASC,KAAK2C,UACxCqG,QAAQC,IAAIxE,EAAI1E,SAASC,KAAK2C,YA/BlC,EAAK1D,MAAQ,CACX0C,KAAO,CACLZ,SAAS,GACTC,SAAS,IAEXd,MAAO,MAGT,EAAKoD,iBAAmB,EAAKA,iBAAiB/D,KAAtB,gBAXR,E,sEAuChB,OACE,kBAAC,EAAD,KACE,yBAAKa,UAAU,SACb,yBAAKA,UAAU,gBACb,0BAAMyE,SAAUpF,KAAK6D,kBACnB,6BACE,2CACA,2BAAOlD,UAAU,SAAS0E,KAAK,OAAOC,KAAK,WAAWC,YAAY,WAAW3B,MAAO5D,KAAKR,MAAM0C,KAAKZ,SAAUkE,SAAUxF,KAAKyD,mBAF/H,KAIA,6BACE,2CACA,2BAAO9C,UAAU,SAAS0E,KAAK,WAAWC,KAAK,WAAWC,YAAY,WAAW3B,MAAO5D,KAAKR,MAAM0C,KAAKX,SAAUiE,SAAUxF,KAAKyD,oBAEnI,6BACE,2BAAO4B,KAAK,SAASzB,MAAM,WAE7B,uBAAGjD,UAAU,mBAAb,0BACyB,kBAAC,IAAD,CAAMA,UAAU,OAAOwC,GAAG,WAA1B,cAI7B,yBAAKxC,UAAU,eACb,4BAAQA,UAAW,aAAaC,IAAI,iDAAiDwK,YAAY,IAAIC,QAAQ,MAAMC,MAAM,4DAA4DC,iBAAe,EAACC,mBAAmB,OAAOC,sBAAsB,OAAOC,aAAa,Y,GA9DjQzK,a,oOCHpB,IAAMwB,GAAO,IAAIvB,EA8EF0K,G,YA3Eb,WAAYrM,GAAO,IAAD,8BAChB,4CAAMA,KAcRkE,iBAAmB,SAACb,GAClB,IAAIV,E,uVAAI,IAAO,EAAK1C,MAAM0C,MAC1BA,EAAKU,EAAEe,OAAO2B,MAAQ1C,EAAEe,OAAOC,MAC/B,EAAK3D,SAAS,CACZiC,KAAKA,KAnBS,EAuBlB2B,iBAAmB,SAACjB,GAElBA,EAAEC,iBAEFJ,GAAKoJ,OAAO,EAAKrM,MAAM0C,MAEpB7B,KAAK,WAEJ,EAAKJ,SAAS,CAACQ,MAAO,KACtB,EAAKlB,MAAMyD,QAAQC,KAAK,OAEzBzC,MAAM,SAACwE,GAEN,EAAK/E,SAAS,CAACQ,MAAOuE,EAAI1E,SAASC,KAAK2C,UACxCqG,QAAQC,IAAIxE,EAAI1E,SAASC,KAAK2C,YAlClC,EAAK1D,MAAQ,CACX0C,KAAO,CACLZ,SAAS,GACTC,SAAS,GACTS,MAAM,IAERvB,MAAO,MAGT,EAAKoD,iBAAmB,EAAKA,iBAAiB/D,KAAtB,gBAZR,E,sEA0ChB,OACE,kBAAC,EAAD,KACE,yBAAKa,UAAU,UACb,yBAAKA,UAAU,iBACb,0BAAMyE,SAAUpF,KAAK6D,kBACnB,6BACE,2CACA,2BAAOlD,UAAU,SAAS0E,KAAK,OAAOC,KAAK,WAAWC,YAAY,WAAW3B,MAAO5D,KAAKR,MAAM0C,KAAKZ,SAAUkE,SAAUxF,KAAKyD,mBAF/H,KAKA,6BACE,2CACA,2BAAO9C,UAAU,SAAS0E,KAAK,WAAWC,KAAK,WAAWC,YAAY,WAAW3B,MAAO5D,KAAKR,MAAM0C,KAAKX,SAAUiE,SAAUxF,KAAKyD,oBAGnI,6BACE,wCACA,2BAAO9C,UAAU,SAAS0E,KAAK,QAAQC,KAAK,QAAQC,YAAY,QAAQuG,QAAS9L,KAAKR,MAAM0C,KAAKF,MAAOwD,SAAUxF,KAAKyD,oBAEzH,6BACE,2BAAO4B,KAAK,SAASzB,MAAM,sBAIjC,yBAAKjD,UAAU,gBACb,4BAAQA,UAAW,aAAaC,IAAI,iDAAiDwK,YAAY,IAAIC,QAAQ,MAAMC,MAAM,4DAA4DC,iBAAe,EAACC,mBAAmB,OAAOC,sBAAsB,OAAOC,aAAa,Y,GApEhQzK,a,SCHfwB,GAAO,IAAIvB,EAyBF6K,GApBS,SAAC,GAAkD,IAAtC9K,EAAqC,EAAhD+K,UAAsBC,EAA0B,EAA1BA,YAAgBC,EAAU,4CAKxE,OACI,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAS,SAAA5M,GAEL,OADWkD,GAAKR,UAEP,kBAAChB,EAAc1B,GAEf,kBAAC,IAAD,CAAU4D,GAAI,CAAC+G,SAAU+B,GAAe,IAAKzM,MAAO,CAAC4M,KAAM7M,EAAM0K,kBCZjEoC,I,mBAEnB,WAAY9M,GAAO,IAAD,8BAChB,4CAAMA,KAEDC,MAAQ,CACX+K,YAAa,GACb9J,MAAO,MALO,E,iFASG,IAAD,OAElBe,IAAMrB,IAAN,UAAaiB,gDAAb,WACGf,KAAK,SAACC,GACL,EAAKL,SAAS,CAACsK,YAAYjK,EAASC,SAErCC,MAAM,SAACC,GACN,EAAKR,SAAS,CAACQ,MAAMA,Q,oCAKzBoE,gBAAOC,gB,+BAKP,IAAIgE,EAAmB9I,KAAKR,MAAM+K,YAAYrF,IAAI,SAACZ,GACjD,IAAID,EAAU,GAId,OAHGC,EAAWgE,OAAOjB,SACnBhD,EAAUC,EAAWgE,OAAO,GAAGjE,SAG/B,yBAAK1D,UAAU,qBACb,kBAAC,EAAD,CACEwE,IAAOb,EAAWiD,IAClBY,GAAM7D,EAAWiD,IACjBjC,KAAQhB,EAAWgB,KACnBkD,YAAelE,EAAWkE,YAC1B2B,QAAW7F,EAAW6F,QAAQ7I,SAC9B7B,MAAS4E,OAMjB,OACE,6BACE,kBAAC,EAAD,KACE,yBAAKiI,MAAM,aACT,wBAAI3L,UAAU,SAAd,mBACA,yBAAKA,UAAU,kBACZmI,GAEH,4BAAQhI,QAASd,KAAK8E,YAAanE,UAAU,aAA7C,a,GAvDkCM,cC0E/BsL,G,iLA9DX,OACE,yBAAK5L,UAAU,OACb,kBAAC,IAAD,CAAO6L,OAAK,EAACC,KAAK,IAAIT,UAAWb,IACjC,kBAAC,IAAD,CAAOsB,KAAK,SAAST,UAAWL,IAChC,kBAAC,IAAD,CAAOc,KAAK,UAAUT,UAAWJ,KAGjC,kBAAC,GAAD,CACEK,YAAY,SACZQ,KAAK,cACLT,UAAWnB,IAIb,kBAAC,GAAD,CACEoB,YAAY,SACZQ,KAAK,UACLT,UAAWxI,IAGb,kBAAC,GAAD,CACEyI,YAAY,SACZQ,KAAK,UACLT,UAAW1F,IAGb,kBAAC,GAAD,CACE2F,YAAY,SACZQ,KAAK,gBACLT,UAAW3D,IAGb,kBAAC,GAAD,CACE4D,YAAY,SACZQ,KAAK,YACLT,UAAWrC,IAGb,kBAAC,GAAD,CACEsC,YAAY,SACZQ,KAAK,WACLT,UAAW3B,IAIb,kBAAC,GAAD,CACE4B,YAAY,SACZQ,KAAK,aACLT,UAAWvB,IAMb,kBAAC,IAAD,CAAOgC,KAAK,SAAST,UAAWK,U,GA1DtBpL,aCLEyL,QACW,cAA7BC,OAAO1C,SAAS2C,UAEe,UAA7BD,OAAO1C,SAAS2C,UAEhBD,OAAO1C,SAAS2C,SAAShE,MACvB,2DCXNiE,IAASV,OAAO,kBAAC,IAAD,KAAQ,kBAAC,GAAD,OAAkBW,SAASC,eAAe,SD0H5D,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM7M,KAAK,SAAA8M,GACjCA,EAAaC,gB,8GEnInB,qBAEe5L,QAAM6L,OAAO,CAACC,iBAAiB,K","file":"static/js/main.422cdc2d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axiosModule from \"axios\";\nimport \"../stylesheets/ImgItem.css\"\nimport LazyLoad from 'react-lazy-load';\n\nexport default class ImgItem extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      image: {\n        title:'',\n        primaryImage:'',\n        clicked: false\n      }\n    }\n\n    this.beingAdded = this.beingAdded.bind(this)\n    this.beingDeleted = this.beingDeleted.bind(this)\n\n  }\n\n  beingAdded() {\n    this.setState({\n      clicked:true\n    })\n  }\n\n  beingDeleted() {\n    this.setState({\n      clicked:false\n    })\n  }\n\n  componentDidMount() {\n    axiosModule.get(`https://collectionapi.metmuseum.org/public/collection/v1/objects/${this.props.imageId}`)\n      .then((response)=>{\n        this.setState({image:response.data})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.imageId !== prevProps.imageId) {\n      axiosModule.get(`https://collectionapi.metmuseum.org/public/collection/v1/objects/${this.props.imageId}`)\n      .then((response)=>{\n        this.setState({image:response.data})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n    }\n  }\n\n  render() {\n\n    return (\n      <div className=\"oneMuseumImage\">\n        <div className=\"TitleContainer\">\n          <h1 className=\"Ellipsis\">{this.state.image.title}</h1>\n        </div>\n        <div className=\"ImageContainer\">\n          <LazyLoad>\n            <img src={this.state.image.primaryImage} alt=\"\"/>\n          </LazyLoad>\n        </div>\n        <div className=\"BtnContainer\">\n          {\n            this.state.clicked?\n            <>\n              <button className=\"DeleteBtn\" onClick={()=>{this.props.deleteImage(this.props.imageId);this.beingDeleted()}}>delete me</button>\n            </>\n            :\n            <>\n              <button className=\"AddBtn\" onClick={()=>{this.props.addImage(this.state.image.title,this.state.image.primaryImage,this.props.imageId);this.beingAdded()}}>add me</button>\n            </>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n","import axios from \"./axios\";\nimport qs from \"querystring\";\n\nclass Auth {\n\tconstructor(domain) {\n\t\tthis.domain = domain || process.env.REACT_APP_API;\n\t\tthis.login = this.login.bind(this);\n\t}\n\n\tlogin(username, password) {\n\t\t// debugger\n\t\t// STEP 2 OF LOGIN: SEND THE DATA FROM THE FORM TO THE BANCKEND\n\t\treturn axios({\n\t\t\tmethod: \"POST\",\n\t\t\turl: \"/login\",\n\t\t\tbaseURL: this.domain,\n\t\t\theaders: { 'content-type': 'application/x-www-form-urlencoded' },\n\t\t\tdata: qs.stringify({username, password}),\n\t\t})\n\t\t// STEP 4 OF LOGIN: RETRIEVE THE DATA SENT BY THE BACKEND\n\t\t.then((response)=> {\n\t\t\tthis.setUser(response.data)\n\t\t})\n\t}\n\n\tsignup({username, password, email}) {\n\t\t// STEP 2 OF SIGNUP: SEND THE DATA FROM THE FORM TO THE BACKEND\n\t\t// debugger\n\t\treturn axios({\n\t\t\tmethod: \"POST\",\n\t\t\turl: \"/signup\",\n\t\t\tbaseURL: this.domain,\n\t\t\theaders: { 'content-type': 'application/x-www-form-urlencoded' },\n\t\t\tdata: qs.stringify({username, password, email}),\n\t\t})\n\t\t// STEP 4 OF SIGN-UP: RETRIEVE THE DATA SENT BY THE BACKEND\n\t\t.then((response)=> {\n\t\t\t// debugger\n\t\t\tthis.setUser(response.data);\n\t\t})\n\t}\n\n\tloggedIn(){\n\t\tconst user = this.getUser()\n\t\treturn !!user; \n\t}\n\n\tsetUser(user){\n\t\tlocalStorage.setItem('user', JSON.stringify(user)); //in Local storage: user is the key, JSON.stringify(user) is the value\n\t}\n\n\tgetUser(){\n\t\treturn JSON.parse(localStorage.getItem('user'));\n\t}\n\n\tlogout(){\n\t\t// debugger\n\t\treturn axios({\n\t\t\tmethod: \"GET\",\n\t\t\turl: \"/logout\",\n\t\t\tbaseURL: this.domain\n\t\t})\n\t\t.then((response)=> {\n\t\t\t// debugger\n\t\t\tlocalStorage.removeItem('user');\n\t\t})\n\t}    \n}\n\nexport default Auth","import React, {Component} from 'react';\nimport {Link} from \"react-router-dom\";\nimport { withRouter } from \"react-router\"; \nimport \"../stylesheets/Nav.css\"\nimport Auth from \"../utils/Auth\";\nconst auth = new Auth();\n// withRouter is a Higher Order Component (HOC).\n// HOC's are functions that take a react component as an argument.\n// The HOC returns that react component with added functionality.\n// In this case that functionality is having all the props that \n// belong to components rendered by <Route />, like match and history.\n// For the Navbar we need the history prop, because we want to be able to\n// redirect if the user click on logout.\n// withRouter: https://reacttraining.com/react-router/web/api/withRouter\n// HOCS in general: https://reactjs.org/docs/higher-order-components.html\n\n\nclass Nav extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = { \n      user: null\n    }\n\n  }\n\n  handleLogout = (e)=> {\n    e.preventDefault();\n    var fixProps = this.props;\n    // we are fixing this because we  \n    // want to use the value of this at this particular moment\n    // in a callback function (the one passed to setState)\n    // setState is going to call that function in a different context \n    // and therefore the value of this will change as well (because it's contextual)\n    // the keyword this in javascript: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\n    auth.logout()\n      .then(()=> {\n        // debugger\n        // setState is an asynchronous function\n        // it can take an optional second argument, which\n        // has to be a call back function\n        // this function will be called after the state is set\n        this.setState({user: null}, ()=> {\n          fixProps.history.push(\"/\");\n        })\n          \n      })\n      .catch((error)=> {\n        this.setState({error: error.message})\n      })\n  }\n\n  componentDidMount() {\n    this.setState({\n      user: auth.getUser()\n    })\n  }\n\n  render(){\n    return (\n      <nav className=\"Nav\">\n        <div>\n          <Link to=\"/\">\n            <img src=\"/images/home.png\" alt=\"\"/>\n          </Link>\n        </div>\n        <div>\n          <Link to=\"/index\">\n            <img src=\"/images/search.png\" alt=\"\"/>\n          </Link>\n        </div>\n        {\n          this.state.user? \n          <>\n            <div>\n              <Link to=\"/profile\">\n                <img src=\"/images/user.png\" alt=\"\"/>\n              </Link>\n            </div>\n            <div>\n              <Link to=\"/favorites\">\n                <img src=\"/images/heart.png\" alt=\"\"/>\n              </Link>\n            </div>\n            <div>\n              <a href=\"#\" onClick = {this.handleLogout} ><img className=\"navimg\" src=\"/images/logout.png\"alt=\"\"/></a>    \n            </div>\n          </>\n          :\n          <>\n            <div>\n              <Link to=\"/login\">\n                <img src=\"/images/login.png\" alt=\"\"/>\n              </Link>\n            </div>\n            <div>\n              <Link to=\"/signup\">\n                <img src=\"/images/signup.png\" alt=\"\"/>\n              </Link>\n            </div>\n          </>\n        }\n      </nav>\n    )\n  }\n}\n\n\n// Adding the props that belong to components rendered by Route to Nav\n// by using withRouter, which is a HOC.\nexport default withRouter(Nav);","import React from 'react';\nimport Nav from \"../components/Nav\";\n\n// This component is meant to share \n// a basic layout that is used by multiple pages.\n// In this case, the basic layout is very simple: it only adds a navbar.\n// However, you could extend it by adding a footer or a sidebar.\n// The advantage of using a layout component is that: \n// A) You don't repeat yourself on every page where you're using the same layout. (DRY)\n// B) If you decide you want your layout to look slightly different, you only have to make \n//    make changes at 1 place. \nconst MainLayout = (props) => {\n\treturn (\n\t//    <></> is a fragment that is used to wrap around adjacent components. \n\t//    Unlike <div></div> framgents don't influence the layout\n\t\t<>\n\t\t\t<Nav />\n\t\t\t{props.children}\n\t\t\t{/* props.children will be substituted with everything\n\t\t\tthat is within <MainLayout> and </MainLayout> */}\n\t\t</>\n\t);\n}\n\nexport default MainLayout;","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport axiosModule from \"axios\";\n// I need different axios settings depending on the request I'm doing (to external API or to my API)\nimport ImgItem from \"../components/ImgItem\";\nimport MainLayout from \"../layout/MainLayout\";\nimport \"../stylesheets/ChooseImages.css\";\nimport * as Scroll from 'react-scroll';\nimport { Link, Element , Events, animateScroll as scroll, scrollSpy, scroller } from 'react-scroll'\n\nexport default class ChooseImages extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      imagesIDs: [], \n      query: '', \n      error: null,\n      selectedImages: []\n    }\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.addImage = this.addImage.bind(this);\n    this.submitMuseumImages = this.submitMuseumImages.bind(this);\n    this.deleteImage = this.deleteImage.bind(this);\n  }\n\n  // Default display of images\n  componentDidMount() {\n    axiosModule.get(\"https://collectionapi.metmuseum.org/public/collection/v1/search?q=utagawa\")\n      .then((response)=>{\n        this.setState({imagesIDs:response.data.objectIDs.slice(0,49)})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n  }\n\n  scrollToTop() {\n    scroll.scrollToTop();\n  }\n\n  handleFormChange = (e)=> {\n    this.setState({ \n      query: e.target.value \n    })\n  }\n\n  handleFormSubmit = (e)=> {\n    e.preventDefault(); // disable the default form behavious (redirecting to a new page)\n\n    const query = this.state.query;\n\n    axiosModule.get(`https://collectionapi.metmuseum.org/public/collection/v1/search?q=${query}`)\n      .then((response)=>{\n        if (response.data.objectIDs) {\n          this.setState({imagesIDs:response.data.objectIDs.slice(0,49)})\n        } else {\n          this.setState({imagesIDs:response.data.objectIDs})\n        }\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n\n  }\n\n  addImage = function(imageTitle, imageSrc, imageId) { // method that we use in the child component ImgItem\n    let imageToAdd = {imgName:imageTitle,imgPath:imageSrc,exhibition:\"\",imgId:imageId};\n    let allSavedImages = [...this.state.selectedImages,imageToAdd];\n    this.setState({\n      selectedImages: allSavedImages,\n    })\n  }\n\n  deleteImage = function(imageId) {\n    let allSavedImages = [...this.state.selectedImages];\n    let updatedImages = allSavedImages.filter(image => image.imgId !== imageId);\n    this.setState({\n      selectedImages: updatedImages,\n    })\n  }\n\n  submitMuseumImages() {\n    return axios({\n      method: \"PUT\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: \"/exhibition/museum-images\",\n      data: {museum_images: [...this.state.selectedImages]}\n    })\n      .then(()=> {\n        this.setState({error: \"\"});\n        this.props.history.push(\"/upload\"); // to redirect\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  render() {\n    let allImages\n\n    if (this.state.imagesIDs) { // the response from axios when there are no artworks is null (and not a empty array; that's why we cannot use length)\n      allImages = this.state.imagesIDs.map((imageId) => {\n        return (\n          <div>\n            <ImgItem \n              key={imageId}\n              imageId = {imageId}\n              addImage={this.addImage}\n              deleteImage={this.deleteImage}\n            />\n          </div>\n        )\n      })\n    }\n\n    return (\n\n      <MainLayout>\n\n        <div className=\"ChooseImages\">\n          <h1>step 2 / look for inspiration</h1>\n\n          <form onSubmit={this.handleFormSubmit}>\n            <div className=\"InputQuery\">\n              <input type=\"text\" className=\"InputField\" name=\"image\" placeholder=\"Search for artists or artworks\" value={this.state.query} onChange={this.handleFormChange} />\n              <input type=\"submit\" className=\"QueryBtn\" value=\"Go\" />\n            </div>\n          </form>\n\n          <div>\n            {\n              this.state.imagesIDs ?\n              <>\n                <div className=\"allMuseumImages\">\n                  {allImages}\n                </div>\n\n                <div>\n                  <button onClick={this.scrollToTop} className=\"SubmitBtn\">Keep looking</button>\n                  <button className=\"SubmitBtn\" onClick={this.submitMuseumImages}>Next step</button>\n                </div>\n              </>\n              :\n              <>\n                <div className=\"SearchMessage\">\n                  <h1>Sorry but this search was unsuccessful!</h1>\n                </div>\n                <div className=\"SearchMessage\">\n                  <h1>Look for another artist!</h1>\n                </div>\n              </>\n            }\n          </div>\n\n        </div>\n\n      </MainLayout>\n      \n    )\n  }\n  \n}","import React, { Component } from 'react';\nimport \"../stylesheets/UploadItem.css\"\n\n\nexport default class UploadItem extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      imgName: '',\n      imgContent: '',\n      imgDescription: '',\n      display:\"\"\n    }\n  }\n\n  handleNameFormChange = (e)=> {\n    this.setState({ \n      imgName: e.target.value\n    })\n  }\n\n  handleDescriptionFormChange = (e)=> {\n    this.setState({ \n      imgDescription: e.target.value\n    })\n  }\n\n  handleFormChangeAndUpload = (e)=> {\n    this.setState({\n      imgContent: e.target.files[0]\n      }, () => {\n        this.props.addImage(this.state.imgContent);\n        this.props.addImageName(this.state.imgName);\n        this.props.addImageDescription(this.state.imgDescription)\n      });\n  }\n\n  render() {\n\n    return (\n      <div className=\"oneUploadItem\">\n        <div className=\"oneUploadItemBox\">\n          <div className=\"oneInput\">\n            <label>awesome name</label>\n            <input className=\"InputField\" type=\"text\" name=\"imgName\" value={this.state.imgName} onChange={this.handleNameFormChange} /> {/* reacts wants to be in charge of all the data   */}\n          </div>\n          <div className=\"oneInput\">\n            <label for=\"imgDescription\">tell us more about it...</label>\n            <textarea className=\"TextArea\" name=\"imgDescription\" rows=\"5\" cols=\"50\" value={this.state.imgDescription} onChange={this.handleDescriptionFormChange}></textarea>\n          </div>\n          <div className=\"oneFileInput\">\n            <input className=\"InputFile\" type=\"file\" name=\"imgContent\" placeholder=\"upload your file\" onChange={this.handleFormChangeAndUpload} /> {/* reacts wants to be in charge of all the data   */}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\n","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport UploadItem from \"../components/UploadItem\";\nimport \"../stylesheets/UploadImages.css\"\n\n\nclass UploadImages extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = { \n      uploadedImages: [],\n      imagesNames: [],\n      imagesDescriptions: [],\n      error: null,\n      nbrUploads: 1,\n      uploads: [\"default upload\"]\n    }\n\n    this.addImage = this.addImage.bind(this);\n    this.addImageName = this.addImageName.bind(this);\n    this.addImageDescription = this.addImageDescription.bind(this);\n    this.submitOwnImages = this.submitOwnImages.bind(this);\n    this.addArtwork = this.addArtwork.bind(this);\n\n  }\n\n  addArtwork = (e)=> {\n    e.preventDefault(); \n    let nbrUploads = this.state.nbrUploads\n    let newUpload = \"new upload\"\n    let allUploads = [...this.state.uploads, newUpload]\n    this.setState({nbrUploads: nbrUploads+=1, uploads: allUploads})\n  }\n\n  addImage = function(imgContent) { // method that we use in the child component ImgItem\n    let allUploadedImages = [...this.state.uploadedImages,imgContent];\n    this.setState({\n      uploadedImages: allUploadedImages,\n    })\n  }\n\n  addImageName = function(imgName) { // method that we use in the child component ImgItem\n    let allImagesNames = [...this.state.imagesNames,imgName];\n    this.setState({\n      imagesNames: allImagesNames,\n    })\n  }\n\n  addImageDescription = function(imgDescription) { // method that we use in the child component ImgItem\n    let allImagesDescriptions = [...this.state.imagesDescriptions,imgDescription];\n    this.setState({\n      imagesDescriptions: allImagesDescriptions,\n    })\n  }\n\n  submitOwnImages = (e)=> {\n    e.preventDefault(); \n    let form = new FormData();\n    for(var x = 0; x<this.state.uploadedImages.length; x++) {\n      form.append('file', this.state.uploadedImages[x]);\n      form.append('filename', this.state.imagesNames[x]);\n      form.append('filedescription', this.state.imagesDescriptions[x]);\n    }\n    axios({\n      method: \"PUT\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: \"/exhibition/user-images\",\n      data: form\n    })\n    .then((response)=> {\n      this.setState({error: \"\"});\n      this.props.history.push(`/finalize/${response.data._id}`); // to redirect\n    })\n    .catch((err)=> {\n      this.setState({error: err.message});\n      if (err.response.data.message === \"Forbidden\") {\n        this.props.history.push(\"/login\"); // to redirect\n      }\n    })\n  }\n\n  render(){\n\n    let allUploads = this.state.uploads.map(() => {\n      return (\n        <div>\n          <UploadItem \n            addImage={this.addImage}\n            addImageName={this.addImageName}\n            addImageDescription={this.addImageDescription}\n          />\n        </div> \n      )\n    })\n\n    return (\n      <MainLayout>\n        <div className=\"UploadImages\">\n          <div>\n            <h1>step 3 / upload your images</h1>\n            <form className=\"FullPage\" onSubmit={this.submitOwnImages}>{/* we don't want the default form submitting behaviour, so we're adding own submit handler   */}\n              <div className=\"TopPage\">\n                {allUploads}\n              </div>\n              <div className=\"BottomPage\">\n                <button className=\"SubmitBtnUpload\" onClick={this.addArtwork}>Add one artwork</button>\n                <input className=\"SubmitBtnUpload\" type=\"submit\" value=\"Next\" />\n              </div>\n            </form>\n          </div>\n          <div>\n            \n          </div>\n        </div>\n      </MainLayout>\n    )\n  }\n}\n\nexport default UploadImages;","import React, { Component } from 'react';\nimport Draggable from 'react-draggable';\nimport \"../stylesheets/DraggableItem.css\"\n\nexport default class DraggableItem extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      activeDrags: 0,\n      originalPosition: {\n        x: 0, y: 0\n      },\n      controlledPosition: {\n        x: 0, y: 0\n      }\n    }\n\n    this.onStart = this.onStart.bind(this)\n    this.onStop = this.onStop.bind(this)\n    this.onControlledDrag = this.onControlledDrag.bind(this)\n    this.onControlledDragStop = this.onControlledDragStop.bind(this)\n\n  }\n\n  onStart() {\n    this.setState({activeDrags: ++this.state.activeDrags});\n  }\n\n  onStop() {\n    this.setState({activeDrags: --this.state.activeDrags});\n  }\n\n  onControlledDrag(e, position) {\n    const {x, y} = position;\n    this.setState({controlledPosition: {x, y}});\n  }\n\n  onControlledDragStop(e, position) {\n    this.onControlledDrag(e, position);\n    this.onStop();\n    this.props.updatePosition(this.props.id,this.state.controlledPosition)\n  }\n\n  render() {\n\n    const dragHandlers = {onStart: this.onStart, onStop: this.onStop};\n    const {originalPosition, controlledPosition} = this.state;\n\n    return (\n      <Draggable position={controlledPosition} {...dragHandlers} onStop={this.onControlledDragStop}>\n        <div className=\"oneExhibitionImage\">\n          <img src={this.props.src} alt=\"\"/>\n          <button className=\"DeleteBtn\" onClick={()=>{this.props.deleteImage(this.props.id)}}>Remove</button>\n        </div>\n      </Draggable>\n    )\n  }\n}\n\n","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport axiosModule from \"axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport \"../stylesheets/Finalize.css\";\nimport DraggableItem from \"../components/DraggableItem\";\nimport qs from \"querystring\"; // used for parsing a javascript object in the right format (x-www-form-urlencoded)\n\n\nclass Finalize extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = { \n      exhibition: {\n        name:\"\",\n        description:\"\",\n        images:[],\n        background_image:\"\",\n        audio: \"\"\n      },\n      error: null\n    }\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.updatePosition = this.updatePosition.bind(this);\n    this.deleteImage = this.deleteImage.bind(this);\n\n  }\n\n  componentDidMount() {\n    let {params} = this.props.match\n    var currentExhibition = params.id\n\n    axios.get(`${process.env.REACT_APP_API}/exhibition/finalize/${currentExhibition}`)\n      .then((response)=>{\n        this.setState({exhibition:response.data})\n      })\n      .catch((err)=>{\n        this.setState({error:err})\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  updatePosition = function(imageId,position) { // method that we use in the child component \n    return axios({\n      method: \"PUT\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: \"/exhibition/position\",\n      data: {imageId: imageId, position: position}\n    })\n      .then(()=> {\n        this.setState({error: \"\"});\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  handleFormChange = (e)=> {\n    let exhibition = {...this.state.exhibition}\n    exhibition[e.target.name] = e.target.value // within the square brackets \"[]\" you can use dynamic keyss\n    this.setState({ \n      exhibition:exhibition //\n    })\n  }\n\n  handleFormSubmit = (e)=> {\n    e.preventDefault(); // disable the default form behavious (redirecting to a new page)\n    return axios({\n      method: \"PUT\",\n      headers: { 'content-type': 'application/x-www-form-urlencoded' },\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: \"/exhibition/finalize\",\n      data: qs.stringify(this.state.exhibition), // don't send data in json format => cors error\n    })\n    .then((exhibition)=> {\n      this.props.history.push(`/show/${exhibition.data._id}`);\n    })\n    .catch((err)=> {\n      this.setState({error: err.response.data.message});\n      if (err.response.data.message === \"Forbidden\") {\n        this.props.history.push(\"/login\"); // to redirect\n      }\n    })\n  }\n\n  deleteImage = function(imageId) {\n    debugger\n    return axios({\n      method: \"GET\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: `/exhibition/delete-image/${imageId}`,\n    })\n      .then(()=> {\n        const imagesCopy = [...this.state.exhibition.images];\n        const images = imagesCopy.filter(image => image._id !== imageId);\n        this.setState(prevState => ({\n          error:\"\",\n          exhibition: {                   // object that we want to update\n              ...prevState.exhibition,    // keep all other key-value pairs\n              images: images       // update the value of specific key\n          }\n        }))\n        // this.setState({error: \"\"});\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  \n  render() {\n\n    let exhibitionImages = this.state.exhibition.images.map((image) => {\n\n      return (\n        <DraggableItem\n          key={image._id}\n          id={image._id}\n          src = {image.imgPath}\n          updatePosition={this.updatePosition}\n          deleteImage={this.deleteImage}\n        />\n      )\n    })\n\n    return (\n      <div>\n        <MainLayout>\n          <div className=\"FinalizeExhibition\">\n            <iframe className=\"FullScreen\" src={this.state.exhibition.background_image}></iframe>\n            <div className=\"ImagesContainer\">\n              {exhibitionImages}\n            </div>\n            <div className=\"ContentContainer\">\n              <div className=\"NewDescription\">\n                <form className=\"FullPage\" onSubmit={this.handleFormSubmit}>{/* we don't want the default form submitting behaviour, so we're adding own submit handler   */}\n                  <div className=\"TopPage\">\n                    <h1>step 4 / Finalize your exhibition</h1>\n                    <div className=\"InputField\">\n                      <label>Name of exhibition</label>\n                      <input type=\"text\" name=\"name\" value={this.state.exhibition.name} onChange={this.handleFormChange} /> {/* reacts wants to be in charge of all the data   */}\n                    </div>\n                    <div className=\"InputField\">\n                      <label for=\"description\">Description</label>\n                      <textarea className=\"TextArea\" name=\"description\" rows=\"15\" cols=\"30\" alue={this.state.exhibition.description} onChange={this.handleFormChange}></textarea>\n                    </div>\n                    <div>\n                      <p>(Psst... You can move your images)</p>\n                    </div>\n                  </div>\n                  <div className=\"BottomPage\">\n                    <input className=\"SubmitBtn\" type=\"submit\" value=\"Save your exhibition\" />\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </MainLayout>\n      </div>\n    )\n  }\n}\n\nexport default Finalize","import React, { Component } from 'react';\nimport Draggable from 'react-draggable';\nimport axios from \"../utils/axios\";\nimport \"../stylesheets/PositionedImage.css\"\n\nexport default class PositionedImage extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      defaultX: 0,\n      defaultY: 0,\n      hover: false\n    }\n\n    this.toggleHover = this.toggleHover.bind(this)\n  }\n\n  componentDidMount() {\n    return axios({\n      method: \"GET\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: `/exhibition/position/${this.props.id}`,\n      // data: this.state.defaultPosition\n    })\n      .then((response)=> {\n        this.setState({\n          defaultX: response.data.imageX,\n          defaultY: response.data.imageY \n        });\n        // this.props.history.push(\"/images\"); // to redirect\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  toggleHover() {\n    console.log(\"hover\")\n    this.setState({hover: !this.state.hover})\n  }\n\n  render() {\n\n    return (\n      <Draggable position={{x: this.state.defaultX, y: this.state.defaultY}} onStart={() => false}>\n        <div className=\"oneExhitionImageContainer\" onMouseEnter={this.toggleHover} onMouseLeave={this.toggleHover}>\n          {\n            this.state.hover?\n            <div className=\"InfoContainer\">\n              <p>{this.props.name}</p>\n              <p>{this.props.description}</p>\n            </div>\n            :\n            <>\n            \n            </>\n          }\n          <div className=\"oneExhibitionImage\">\n            <img src={this.props.src} alt=\"\"/>\n          </div>\n        </div>\n      </Draggable>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport axiosModule from \"axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport PositionedImage from \"../components/PositionedImage\";\nimport \"../stylesheets/ShowExhibition.css\"\n\n\nclass Show extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = { \n      exhibition: {\n        name:\"\",\n        description:\"\",\n        images:[],\n        background_image:\"\",\n        audio:\"\",\n      },\n      error: null\n    }\n\n  }\n\n  componentDidMount() {\n    let {params} = this.props.match\n    var currentExhibition = params.id\n\n    axios.get(`${process.env.REACT_APP_API}/exhibition/show/${currentExhibition}`)\n      .then((response)=>{\n        this.setState({exhibition:response.data}, () => {\n          axiosModule.get(`https://api.voicerss.org/?key=6e944fc56139476f827e50b5e3cfe966&hl=en-us&src=${response.data.description}`)\n          .then((response)=>{\n            this.setState({audio:response.request.responseURL})\n          })\n          .catch((error)=>{\n            this.setState({error:error})\n          })\n        });\n      })\n      .catch((err)=>{\n        this.setState({error:err})\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  render() {\n\n    let exhibitionImages = this.state.exhibition.images.map((image) => {\n      return (\n        <PositionedImage\n          key={image._id}\n          id={image._id}\n          src = {image.imgPath}\n          description = {image.imgDescription}\n          name = {image.imgName}\n        />\n      )\n    })\n\n    return (\n      <div>\n        <MainLayout>\n          <div className=\"ExhibitionContainer\" id=\"canvas\">\n            <iframe className=\"FullScreen\" src={this.state.exhibition.background_image}></iframe>\n            <div className=\"ImagesContainer\">\n              {exhibitionImages}\n            </div>\n            <div className=\"ContentContainer\">\n              <div className=\"Content\">\n                <h1>{this.state.exhibition.name}</h1>\n                <div>\n                  <h2>About this exhibition... </h2>\n                  <p>{this.state.exhibition.description}</p>\n                </div>\n                <audio\n                  controls\n                  src={this.state.audio}>\n                </audio>\n              </div>\n            </div>\n          </div>\n        </MainLayout>\n      </div>\n    )\n  }\n}\n\nexport default Show","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport { withRouter } from \"react-router\"; \nimport \"../stylesheets/ExhibitionItem.css\";\nimport {Link} from \"react-router-dom\";\n\n\nclass ExhibitionItem extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      error:null,\n      clicked: false\n    }\n\n    this.addFavorite = this.addFavorite.bind(this);\n    this.beingAdded = this.beingAdded.bind(this)\n    this.beingDeleted = this.beingDeleted.bind(this)\n\n  }\n\n  beingAdded() {\n    this.setState({\n      clicked:true\n    })\n  }\n\n  beingDeleted() {\n    this.setState({\n      clicked:false\n    })\n  }\n\n  addFavorite() {\n    return axios({\n      method: \"PUT\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: \"/exhibition/add-favorite\",\n      data: {id:this.props.id}\n    })\n      .then(()=> {\n        debugger\n        this.setState({error: \"\"});\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  render() {\n    return (\n      <div className=\"ExhibitionItem\">\n        <h1>{this.props.name}</h1>\n        <img className=\"exhibitionHighlight\"src={this.props.image} alt=\"\"/>\n        <h2>About : {this.props.description}</h2>\n        <div className=\"FooterContainer\">\n          {\n            this.props.location.pathname !== \"/profile\"?\n            <>\n              <h2 className=\"CreatorTitle\">Created by: {this.props.creator}</h2>\n            </>\n            :\n            <>\n              <button className=\"remove\" onClick={()=>{this.props.deleteExhibition(this.props.id)}}><img src=\"/images/remove.png\" alt=\"\"/></button>\n            </>\n          }\n          {\n            this.props.location.pathname === \"/index\"?\n            <>\n\n            {\n              this.state.clicked?\n              <>\n                <button className=\"unfavorite\"><img src=\"/images/red-heart.png\" alt=\"\"/></button>\n                {/* <button className=\"unfavorite\" onClick={()=>{this.removeFavorite();this.beingDeleted()}}><img src=\"/images/red-heart.png\" alt=\"\"/></button> */}\n              </>\n              :\n              <>\n                <button className=\"favorite\" onClick={()=>{this.addFavorite();this.beingAdded()}}><img src=\"/images/heart.png\" alt=\"\"/></button>\n              </>\n            }\n\n            {/* <button className=\"favorite\" onClick={this.addFavorite}><img src=\"/images/heart.png\" alt=\"\"/></button> */}\n\n            </>\n            :\n            <>\n            </>\n          }\n          <Link to={`/show/${this.props.id}`}>\n            <img src=\"/images/details.png\" alt=\"\"/>\n          </Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(ExhibitionItem)","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport ExhibitionItem from \"../components/ExhibitionItem\";\nimport \"../stylesheets/Profile.css\";\nimport * as Scroll from 'react-scroll';\nimport { Link, Element , Events, animateScroll as scroll, scrollSpy, scroller } from 'react-scroll'\nimport Auth from \"../utils/Auth\";\nconst auth = new Auth();\n\n\nexport default class Profile extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = { \n      exhibitions: [],\n      error: null\n    }\n\n    this.deleteExhibition = this.deleteExhibition.bind(this);\n\n  }\n\n  componentDidMount() {\n\n    this.getExhibitions()\n  }\n\n  scrollToTop() {\n    scroll.scrollToTop();\n  }\n\n  getExhibitions(){\n\n    axios.get(`${process.env.REACT_APP_API}/exhibition/own-exhibitions`)\n      .then((response)=>{\n        this.setState({exhibitions:response.data})\n        debugger\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n  }\n\n\n  deleteExhibition = function(exhibitionId) {\n    debugger\n    return axios({\n      method: \"GET\",\n      baseURL: process.env.REACT_APP_API,\n\t\t\turl: `/exhibition/delete-exhibition/${exhibitionId}`,\n    })\n      .then(()=> {\n        const exhibitionsCopy = [...this.state.exhibitions];\n        const exhibitions = exhibitionsCopy.filter(exhibition => exhibition._id !== exhibitionId);\n        this.setState({error: \"\", exhibitions});\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        if (err.response.data.message === \"Forbidden\") {\n          this.props.history.push(\"/login\"); // to redirect\n        }\n      })\n  }\n\n  render() {\n\n    let user = auth.getUser()\n\n    let exhibitionImages = this.state.exhibitions.map((exhibition) => {\n      let imgPath = ''\n      if(exhibition.images.length) {\n        imgPath = exhibition.images[0].imgPath\n      }\n      return (\n        <div className=\"exhibitionDetails\">\n          <ExhibitionItem \n            key = {exhibition._id}\n            id = {exhibition._id}\n            name = {exhibition.name}\n            description = {exhibition.description}\n            creator = {exhibition.creator.username}\n            deleteExhibition = {this.deleteExhibition}\n            image = {imgPath}\n          />\n        </div>\n      )\n    })\n\n    return (\n      <div>\n        <MainLayout>\n          <div className=\"ProfilePage\">\n            <h1>Here are your exhibitions, {user.username} !</h1>\n            <div className=\"allExhibitions\">\n              {exhibitionImages}\n            </div>\n            <button onClick={this.scrollToTop} className=\"ScrollBtn\">Up</button>\n          </div>\n        </MainLayout>\n      </div>\n    )\n  }\n}\n\n","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport ExhibitionItem from \"../components/ExhibitionItem\";\nimport \"../stylesheets/Favorites.css\";\nimport * as Scroll from 'react-scroll';\nimport { Link, Element , Events, animateScroll as scroll, scrollSpy, scroller } from 'react-scroll'\nimport Auth from \"../utils/Auth\";\nconst auth = new Auth();\n\n\nexport default class Favorites extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = { \n      exhibitions: [],\n      error: null\n    }\n  }\n\n  componentDidMount() {\n\n    axios.get(`${process.env.REACT_APP_API}/exhibition/own-favorites`)\n      .then((response)=>{\n        this.setState({exhibitions:response.data})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n  }\n\n  scrollToTop() {\n    scroll.scrollToTop();\n  }\n\n  render() {\n\n    let user = auth.getUser()\n    let exhibitionImages = this.state.exhibitions.map((exhibition) => {\n      let imgPath = ''\n      if(exhibition.images.length) {\n        imgPath = exhibition.images[0].imgPath\n      } else {\n        imgPath =\"/images/default.jpg\"\n      }\n      return (\n        <div className=\"exhibitionDetails\">\n          <ExhibitionItem \n            key = {exhibition._id}\n            id = {exhibition._id}\n            name = {exhibition.name}\n            description = {exhibition.description}\n            creator = {exhibition.creator.username}\n            image = {imgPath}\n          />\n        </div>\n      )\n    })\n\n    return (\n      <div>\n        <MainLayout>\n          <div className=\"FavoritesPage\">\n            <h1>Here are your favorites, {user.username} !</h1>\n            <div className=\"allExhibitions\">\n              {exhibitionImages}\n            </div>\n            <button onClick={this.scrollToTop} className=\"ScrollBtn\">Up</button>\n          </div>\n        </MainLayout>\n      </div>\n    )\n  }\n}\n\n","import React, { Component, Suspense, lazy } from 'react';\nimport '../stylesheets/ChooseBackground.css';\nimport MainLayout from \"../layout/MainLayout\";\nconst BgItem = React.lazy(() => import('../components/BgItem'));\n\n\nexport default class ChooseBackground extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      backgrounds: [67203,4537166810054656,5223009199587328,93375,5801016771477504,5698198140092416,120402,499450,657422,280349,5733748926578688,4630494771675136,5930532919574528,626640,4593526780198912,140446,5370793319989248]\n    }\n  }\n\n  render() {\n\n    let allBackgrounds = this.state.backgrounds.map((background) => {\n      return (\n        <>\n          <BgItem \n            {...this.props} // the same as writing: history= {this.props.history}, match = {this.props.match}\n            embedUrl = {`https://www.svrf.com/embed/vr/${background}`}\n          />\n        </>\n      )\n    })\n\n    return (\n      <MainLayout>\n        <div className=\"ChooseBackground\">\n          <h1>step 1 / choose background</h1>\n          <div className=\"allBackgrounds\">\n            <Suspense fallback={<div>Loading...</div>}>\n              {allBackgrounds}\n            </Suspense>\n          </div>\n        </div>          \n      </MainLayout>\n    )\n  }\n  \n}\n\n\n// -------------------------- WITH THE QUERY --------------------------------\n\n// import React, { Component } from 'react';\n// import BgItem from '../components/BgItem';\n// import '../stylesheets/ChooseBackground.css';\n// import MainLayout from \"../layout/MainLayout\";\n// import {Link} from \"react-router-dom\";\n\n// const Svrf = require('svrf');\n// const svrf = new Svrf(process.env.SVRF_KEY);\n\n// export default class ChooseBackground extends Component {\n\n//   constructor(props) {\n//     super(props)\n//     this.state = {\n//       backgrounds: [], \n//       query: ''\n//     }\n\n//     this.handleFormSubmit = this.handleFormSubmit.bind(this);\n\n//   }\n\n//   componentDidMount() {\n\n//     svrf.media.getTrending({type: Svrf.enums.mediaType.PHOTO})\n//       .then((res) => {\n//         const mediaArray = res.media;\n//         this.setState({backgrounds:mediaArray})\n//       })\n//       .catch((err) => console.error(err));\n\n//   }\n\n//   handleFormChange = (e)=> {\n//     this.setState({ \n//       query: e.target.value\n//     })\n//   }\n\n//   handleFormSubmit = (e)=> {\n\n//     e.preventDefault(); // disable the default form behavious (redirecting to a new page)\n\n//     const query = this.state.query;\n//     const options = {\n//       type: Svrf.enums.mediaType.VIDEO,\n//     };\n\n//     svrf.media.search(query, options)\n//       .then((res) => {\n//         const mediaArray = res.media;\n//         this.setState({backgrounds:mediaArray})\n//       })\n//       .catch((err) => console.error(err));\n\n//   }\n\n//   render() {\n\n//     let allBackgrounds = this.state.backgrounds.map((background) => {\n//       return (\n//         <div>\n//           <BgItem \n//             embedUrl = {background.embedUrl}\n//           />\n//         </div>\n//       )\n//     })\n\n//     return (\n//       <MainLayout>\n\n//         <div className=\"ChooseBackground\">\n\n//           <h1>STEP 1: CHOOSE THE VENUE OF YOUR EXHIBITION</h1>\n\n//           <form onSubmit={this.handleFormSubmit}>{/* we don't want the default form submitting behaviour, so we're adding own submit handler   */}\n//             <div>\n//               <input type=\"text\" name=\"background\" placeholder=\"Search for a background\" value={this.state.query} onChange={this.handleFormChange} /> {/* reacts wants to be in charge of all the data   */}\n//             </div>\n//             <div>\n//               <input type=\"submit\" value=\"Look for a inspirational background\" />\n//             </div>\n//           </form>\n\n//           <div className=\"allBackgrounds\">\n//             {allBackgrounds}\n//           </div>\n        \n//         </div>\n\n//       </MainLayout>\n//     )\n//   }\n  \n// }","import React from 'react'\nimport \"../stylesheets/Home.css\";\nimport {Link} from \"react-router-dom\";\nimport MainLayout from \"../layout/MainLayout\";\n\nexport default function Home() {\n  return (\n    <div>\n      <MainLayout>\n        <div className=\"Home\">\n          <div className=\"LeftSideBar\">\n            <Link to=\"/background\">\n              Create exhibition\n            </Link>\n          </div>\n\n          <div className=\"Empty\">\n          </div>\n\n          <div className=\"HomeIframe\">\n            <iframe className= \"Fullscreen\" src=\"https://poly.google.com/view/ab0SP8HCU57/embed\" frameborder=\"0\" allowvr=\"yes\" allow=\"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;\" allowfullscreen mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" onmousewheel=\"\"></iframe>        \n          </div>\n          <div className=\"RightSideBar\">\n            <Link to=\"/index\">\n              Browse exhibitions\n            </Link>\n          </div>\n        </div>\n      </MainLayout>\n    </div>\n  )\n}\n","import React, { Component } from 'react';\nimport MainLayout from \"../layout/MainLayout\";\nimport \"../stylesheets/Login.css\";\nimport {Link} from \"react-router-dom\";\nimport Auth from \"../utils/Auth\";\nconst auth = new Auth();\n\nclass Login extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = { \n      user : {\n        username:'',\n        password:''\n      },\n      error: null\n    }\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormChange = (e)=> {\n    let user = {...this.state.user}\n    user[e.target.name] = e.target.value // within the square brackets \"[]\" you can use dynamic keyss\n    this.setState({ \n      user:user //\n    })\n  }\n\n  handleFormSubmit = (e)=> {\n    // debugger\n    e.preventDefault();\n    // STEP 1 OF LOGIN: SUBMIT THE LOGIN FORM IN THE FRONT END, CALLS THE LOGIN FUNCTION OF \"Auth.js\"\n    auth.login(this.state.user.username, this.state.user.password)\n      // STEP 5 OF LOGIN: ACT CONSEQUENTLY TO THE DATA SENT BY THE BACKEND (REDIRECT, SHOW ERRORS...)\n      .then(()=> {\n        this.setState({error: \"\"});\n        this.props.history.push(\"/\"); // to redirect\n      })\n      .catch((err)=> {\n        this.setState({error: err.response.data.message});\n        console.log(err.response.data.message)\n      })\n  }\n\n  render(){\n    return (\n      <MainLayout>\n        <div className=\"Login\">\n          <div className=\"LoginContent\">\n            <form onSubmit={this.handleFormSubmit}>{/* we don't want the default form submitting behaviour, so we're adding own submit handler   */}\n              <div>\n                <label>Username</label>\n                <input className=\"Inputs\" type=\"text\" name=\"username\" placeholder=\"username\" value={this.state.user.username} onChange={this.handleFormChange} /> {/* reacts wants to be in charge of all the data   */}\n              </div>\n              <div>\n                <label>Password</label>\n                <input className=\"Inputs\" type=\"password\" name=\"password\" placeholder=\"password\" value={this.state.user.password} onChange={this.handleFormChange} />{/* reacts wants to be in charge of all the data   */}\n              </div>\n              <div>\n                <input type=\"submit\" value=\"Login\" />\n              </div>\n              <p className=\"account-message\">\n                Don't have an account? <Link className=\"Link\" to=\"/signup\">Sign up</Link>\n              </p>\n            </form>\n          </div>\n          <div className=\"LoginIframe\">\n            <iframe className= \"Fullscreen\" src=\"https://poly.google.com/view/cV54p02NHQt/embed\" frameborder=\"0\" allowvr=\"yes\" allow=\"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;\" allowfullscreen mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" onmousewheel=\"\"></iframe>        \n          </div>\n        </div>\n      </MainLayout>\n    )\n  }\n}\n\nexport default Login;","import React, { Component } from 'react';\nimport Auth from \"../utils/Auth\";\nimport MainLayout from \"../layout/MainLayout\";\nimport \"../stylesheets/Signup.css\"\nconst auth = new Auth();\n\nclass Signup extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = { \n      user : {\n        username:'',\n        password:'',\n        email:''\n      },\n      error: null\n    }\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormChange = (e)=> {\n    let user = {...this.state.user}\n    user[e.target.name] = e.target.value // within the square brackets \"[]\" you can use dynamic keyss\n    this.setState({ \n      user:user \n    })\n  }\n\n  handleFormSubmit = (e)=> {\n    debugger\n    e.preventDefault();\n    // STEP 1 OF SIGNUP: SUBMIT THE SIGNUP FORM IN THE FRONT END, CALLS THE SIGNUP FUNCTION OF \"Auth.js\"\n    auth.signup(this.state.user)\n    // STEP 5 OF SIGN-UP: ACT CONSEQUENTLY TO THE DATA SENT BY THE BACKEND (REDIRECT, SHOW ERRORS...)\n      .then(()=> {\n        // debugger\n        this.setState({error: \"\"});\n        this.props.history.push(\"/\"); // to redirect\n      })\n      .catch((err)=> {\n        // debugger\n        this.setState({error: err.response.data.message});\n        console.log(err.response.data.message)\n      })\n  }\n\n  render(){\n    return (\n      <MainLayout>\n        <div className=\"Signup\">\n          <div className=\"SignupContent\">\n            <form onSubmit={this.handleFormSubmit}>{/* we don't want the default form submitting behaviour, so we're adding own submit handler   */}\n              <div>\n                <label>Username</label>\n                <input className=\"Inputs\" type=\"text\" name=\"username\" placeholder=\"username\" value={this.state.user.username} onChange={this.handleFormChange} /> {/* reacts wants to be in charge of all the data   */}\n              </div>\n\n              <div>\n                <label>Password</label>\n                <input className=\"Inputs\" type=\"password\" name=\"password\" placeholder=\"password\" value={this.state.user.password} onChange={this.handleFormChange} />{/* reacts wants to be in charge of all the data   */}\n              </div>\n\n              <div>\n                <label>Email</label>\n                <input className=\"Inputs\" type=\"email\" name=\"email\" placeholder=\"Email\" checked={this.state.user.email} onChange={this.handleFormChange} />{/* reacts wants to be in charge of all the data   */}\n              </div>\n              <div>\n                <input type=\"submit\" value=\"Create account\" />\n              </div>\n            </form>\n          </div>\n          <div className=\"SignupIframe\">\n            <iframe className= \"Fullscreen\" src=\"https://poly.google.com/view/3mHT-lSmFvK/embed\" frameborder=\"0\" allowvr=\"yes\" allow=\"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;\" allowfullscreen mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" onmousewheel=\"\"></iframe>        \n          </div>\n        </div>\n      </MainLayout>\n    )\n  }\n}\n\nexport default Signup;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport Auth from \"../utils/Auth\";\nconst auth = new Auth();\n// we are first deconstructing the props that ProtectedRoute receives and \n// spreading the rest. In this case we are assigning all remaining props to rest.\n// Deconstructing: https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Operatoren/Destructuring_assignment\n// Spreading: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\nconst ProtectedRoute  = ({component: Component, redirectUrl, ...rest}) => {\n  // We are creating a <Route /> component dynamically \n  // if the user is not logged in we are redirecting\n  // if the us IS logged in we're rendering the <Component />, which\n  // might be something like <Profile />    \n  return (\n      <Route\n        {...rest}\n        render={ props  => {\n            var user = auth.getUser();\n            if(user){\n              return <Component {...props} />\n            } else {\n              return <Redirect to={{pathname: redirectUrl || '/', state: {from: props.location}}} />\n            }\n          }\n        }\n      />\n    )\n}\nexport default ProtectedRoute;","import React, { Component } from 'react';\nimport axios from \"../utils/axios\";\n// import axiosModule from \"axios\";\nimport MainLayout from \"../layout/MainLayout\";\nimport ExhibitionItem from \"../components/ExhibitionItem\";\nimport \"../stylesheets/IndexExhibition.css\";\nimport * as Scroll from 'react-scroll';\nimport { Link, Element , Events, animateScroll as scroll, scrollSpy, scroller } from 'react-scroll'\n\nexport default class IndexExhibitions extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = { \n      exhibitions: [],\n      error: null\n    }\n  }\n\n  componentDidMount() {\n\n    axios.get(`${process.env.REACT_APP_API}/index`)\n      .then((response)=>{\n        this.setState({exhibitions:response.data})\n      })\n      .catch((error)=>{\n        this.setState({error:error})\n      })\n  }\n\n  scrollToTop() {\n    scroll.scrollToTop();\n  }\n\n  render() {\n\n    let exhibitionImages = this.state.exhibitions.map((exhibition) => {\n      let imgPath = ''\n      if(exhibition.images.length) {\n        imgPath = exhibition.images[0].imgPath\n      }\n      return (\n        <div className=\"exhibitionDetails\">\n          <ExhibitionItem \n            key = {exhibition._id}\n            id = {exhibition._id}\n            name = {exhibition.name}\n            description = {exhibition.description}\n            creator = {exhibition.creator.username}\n            image = {imgPath}\n          />\n        </div>\n      )\n    })\n\n    return (\n      <div>\n        <MainLayout>\n          <div class=\"IndexPage\">\n            <h1 className=\"Title\">All exhibitions</h1>\n            <div className=\"allExhibitions\">\n              {exhibitionImages}\n            </div>\n            <button onClick={this.scrollToTop} className=\"ScrollBtn\">Up</button>\n          </div>\n        </MainLayout>\n      </div>\n    )\n  }\n}\n\n","import React, {Component} from 'react';\nimport './App.css';\nimport ChooseImages from './pages/ChooseImages';\nimport UploadImages from './pages/UploadImages';\nimport Finalize from './pages/Finalize';\nimport Show from './pages/Show';\nimport Profile from './pages/Profile';\nimport Favorites from './pages/Favorites';\nimport ChooseBackground from './pages/ChooseBackground';\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport IndexExhibitions from './pages/IndexExhibitions';\nimport {Route} from \"react-router-dom\";\n\n\nclass App extends Component {\n\n  render() {\n\n    return (\n      <div className=\"App\">\n        <Route exact path=\"/\" component={Home}/> \n        <Route path=\"/login\" component={Login}/> \n        <Route path=\"/signup\" component={Signup}/> \n\n        \n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/background\" \n          component={ChooseBackground}\n        />\n\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/images\" \n          component={ChooseImages}\n        />\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/upload\" \n          component={UploadImages}\n        />\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/finalize/:id\" \n          component={Finalize}\n        />\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/show/:id\" \n          component={Show}\n        />\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/profile\" \n          component={Profile}\n        />\n\n\n        <ProtectedRoute \n          redirectUrl='/login' \n          path=\"/favorites\" \n          component={Favorites}\n        />\n\n        {/* enlever la protected route dans le backend\n        <Route path=\"/show/:id\" component={Show}/>  */}\n\n        <Route path=\"/index\" component={IndexExhibitions}/> \n\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","import axios from \"axios\";\n\nexport default axios.create({withCredentials: true})"],"sourceRoot":""}