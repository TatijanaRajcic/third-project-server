(window.webpackJsonptestsvrf=window.webpackJsonptestsvrf||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(19),o=a.n(r),s=(a(57),a(1)),c=a(2),l=a(5),m=a(3),u=a(4),d=(a(58),a(59),a(9)),h=a(12),p=(a(60),a(7)),g=a(21),b=a.n(g),f=function(){function e(t){Object(s.a)(this,e),this.domain=t||"https://virtual-exhibitions.herokuapp.com/api",this.login=this.login.bind(this)}return Object(c.a)(e,[{key:"login",value:function(e,t){var a=this;return Object(p.a)({method:"POST",url:"/login",baseURL:this.domain,headers:{"content-type":"application/x-www-form-urlencoded"},data:b.a.stringify({username:e,password:t})}).then(function(e){a.setUser(e.data)})}},{key:"signup",value:function(e){var t=this,a=e.username,n=e.password,i=e.email;return Object(p.a)({method:"POST",url:"/signup",baseURL:this.domain,headers:{"content-type":"application/x-www-form-urlencoded"},data:b.a.stringify({username:a,password:n,email:i})}).then(function(e){t.setUser(e.data)})}},{key:"loggedIn",value:function(){return!!this.getUser()}},{key:"setUser",value:function(e){localStorage.setItem("user",JSON.stringify(e))}},{key:"getUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"logout",value:function(){return Object(p.a)({method:"GET",url:"/logout",baseURL:this.domain}).then(function(e){localStorage.removeItem("user")})}}]),e}(),v=new f,E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){e.preventDefault();var t=a.props;v.logout().then(function(){a.setState({user:null},function(){t.history.push("/")})}).catch(function(e){a.setState({error:e.message})})},a.state={user:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({user:v.getUser()})}},{key:"render",value:function(){return i.a.createElement("nav",{className:"Nav"},i.a.createElement("div",null,i.a.createElement(d.b,{to:"/"},i.a.createElement("img",{src:"/images/home.png",alt:""}))),i.a.createElement("div",null,i.a.createElement(d.b,{to:"/index"},i.a.createElement("img",{src:"/images/search.png",alt:""}))),this.state.user?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(d.b,{to:"/profile"},i.a.createElement("img",{src:"/images/user.png",alt:""}))),i.a.createElement("div",null,i.a.createElement(d.b,{to:"/favorites"},i.a.createElement("img",{src:"/images/heart.png",alt:""}))),i.a.createElement("div",null,i.a.createElement("a",{href:"#",onClick:this.handleLogout},i.a.createElement("img",{className:"navimg",src:"/images/logout.png",alt:""})))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(d.b,{to:"/login"},i.a.createElement("img",{src:"/images/login.png",alt:""}))),i.a.createElement("div",null,i.a.createElement(d.b,{to:"/signup"},i.a.createElement("img",{src:"/images/signup.png",alt:""})))))}}]),t}(n.Component),O=Object(h.f)(E),j=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(O,null),e.children)},y=i.a.lazy(function(){return a.e(3).then(a.bind(null,109))}),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={backgrounds:[67203,4537166810054656,5223009199587328,93375,5801016771477504,5698198140092416,120402,499450,657422,280349,5733748926578688,4630494771675136,5930532919574528,626640,4593526780198912,140446,5370793319989248]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.backgrounds.map(function(t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,Object.assign({},e.props,{embedUrl:"https://www.svrf.com/embed/vr/".concat(t)})))});return i.a.createElement(j,null,i.a.createElement("div",{className:"ChooseBackground"},i.a.createElement("h1",null,"step 1 / choose background"),i.a.createElement("div",{className:"allBackgrounds"},i.a.createElement(n.Suspense,{fallback:i.a.createElement("div",null,"Loading...")},t))))}}]),t}(n.Component),I=a(17),k=a(6),N=a(14),x=a.n(N),w=(a(84),a(44)),C=a.n(w),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={image:{title:"",primaryImage:"",clicked:!1}},a.beingAdded=a.beingAdded.bind(Object(k.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"beingAdded",value:function(){this.setState({clicked:!0})}},{key:"beingDeleted",value:function(){this.setState({clicked:!1})}},{key:"componentDidMount",value:function(){var e=this;x.a.get("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(this.props.imageId)).then(function(t){e.setState({image:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.imageId!==e.imageId&&x.a.get("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(this.props.imageId)).then(function(e){t.setState({image:e.data})}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"oneMuseumImage"},i.a.createElement("div",{className:"TitleContainer"},i.a.createElement("h1",{className:"Ellipsis"},this.state.image.title)),i.a.createElement("div",{className:"ImageContainer"},i.a.createElement(C.a,null,i.a.createElement("img",{src:this.state.image.primaryImage,alt:""}))),i.a.createElement("div",{className:"BtnContainer"},this.state.clicked?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"DeleteBtn",onClick:function(){e.props.deleteImage(e.props.imageId),e.beingDeleted()}},"delete me")):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"AddBtn",onClick:function(){e.props.addImage(e.state.image.title,e.state.image.primaryImage,e.props.imageId),e.beingAdded()}},"add me"))))}}]),t}(n.Component),F=(a(90),a(31)),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleFormChange=function(e){a.setState({query:e.target.value})},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.query;x.a.get("https://collectionapi.metmuseum.org/public/collection/v1/search?q=".concat(t)).then(function(e){e.data.objectIDs?a.setState({imagesIDs:e.data.objectIDs.slice(0,49)}):a.setState({imagesIDs:e.data.objectIDs})}).catch(function(e){a.setState({error:e})})},a.addImage=function(e,t,a){var n={imgName:e,imgPath:t,exhibition:"",imgId:a},i=[].concat(Object(I.a)(this.state.selectedImages),[n]);this.setState({selectedImages:i})},a.deleteImage=function(e){var t=Object(I.a)(this.state.selectedImages).filter(function(t){return t.imgId!==e});this.setState({selectedImages:t})},a.state={imagesIDs:[],query:"",error:null,selectedImages:[]},a.handleFormSubmit=a.handleFormSubmit.bind(Object(k.a)(a)),a.addImage=a.addImage.bind(Object(k.a)(a)),a.submitMuseumImages=a.submitMuseumImages.bind(Object(k.a)(a)),a.deleteImage=a.deleteImage.bind(Object(k.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.a.get("https://collectionapi.metmuseum.org/public/collection/v1/search?q=utagawa").then(function(t){e.setState({imagesIDs:t.data.objectIDs.slice(0,49)})}).catch(function(t){e.setState({error:t})})}},{key:"scrollToTop",value:function(){F.animateScroll.scrollToTop()}},{key:"submitMuseumImages",value:function(){var e=this;return Object(p.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/museum-images",data:{museum_images:Object(I.a)(this.state.selectedImages)}}).then(function(){e.setState({error:""}),e.props.history.push("/upload")}).catch(function(t){e.setState({error:t.response.data.message}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e,t=this;return this.state.imagesIDs&&(e=this.state.imagesIDs.map(function(e){return i.a.createElement("div",null,i.a.createElement(D,{key:e,imageId:e,addImage:t.addImage,deleteImage:t.deleteImage}))})),i.a.createElement(j,null,i.a.createElement("div",{className:"ChooseImages"},i.a.createElement("h1",null,"step 2 / look for inspiration"),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",{className:"InputQuery"},i.a.createElement("input",{type:"text",className:"InputField",name:"image",placeholder:"Search for artists or artworks",value:this.state.query,onChange:this.handleFormChange}),i.a.createElement("input",{type:"submit",className:"QueryBtn",value:"Go"}))),i.a.createElement("div",null,this.state.imagesIDs?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"allMuseumImages"},e),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.scrollToTop,className:"SubmitBtn"},"Keep looking"),i.a.createElement("button",{className:"SubmitBtn",onClick:this.submitMuseumImages},"Next step"))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"SearchMessage"},i.a.createElement("h1",null,"Sorry but this search was unsuccessful! Look for another artist!"))))))}}]),t}(n.Component),U=(a(97),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleNameFormChange=function(e){a.setState({imgName:e.target.value})},a.handleDescriptionFormChange=function(e){a.setState({imgDescription:e.target.value})},a.handleFormChangeAndUpload=function(e){a.setState({imgContent:e.target.files[0]},function(){a.props.addImage(a.state.imgContent),a.props.addImageName(a.state.imgName),a.props.addImageDescription(a.state.imgDescription)})},a.state={imgName:"",imgContent:"",imgDescription:"",display:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"oneUploadItem"},i.a.createElement("div",{className:"oneUploadItemBox"},i.a.createElement("div",{className:"oneInput"},i.a.createElement("label",null,"awesome name"),i.a.createElement("input",{className:"InputField",type:"text",name:"imgName",value:this.state.imgName,onChange:this.handleNameFormChange})," "),i.a.createElement("div",{className:"oneInput"},i.a.createElement("label",{for:"imgDescription"},"tell us more about it..."),i.a.createElement("textarea",{className:"TextArea",name:"imgDescription",rows:"5",cols:"50",value:this.state.imgDescription,onChange:this.handleDescriptionFormChange})),i.a.createElement("div",{className:"oneFileInput"},i.a.createElement("input",{className:"InputFile",type:"file",name:"imgContent",placeholder:"upload your file",onChange:this.handleFormChangeAndUpload})," ")))}}]),t}(n.Component)),T=(a(98),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).addArtwork=function(e){e.preventDefault();var t=a.state.nbrUploads,n=[].concat(Object(I.a)(a.state.uploads),["new upload"]);a.setState({nbrUploads:t+=1,uploads:n})},a.addImage=function(e){var t=[].concat(Object(I.a)(this.state.uploadedImages),[e]);this.setState({uploadedImages:t})},a.addImageName=function(e){var t=[].concat(Object(I.a)(this.state.imagesNames),[e]);this.setState({imagesNames:t})},a.addImageDescription=function(e){var t=[].concat(Object(I.a)(this.state.imagesDescriptions),[e]);this.setState({imagesDescriptions:t})},a.submitOwnImages=function(e){e.preventDefault();for(var t=new FormData,n=0;n<a.state.uploadedImages.length;n++)t.append("file",a.state.uploadedImages[n]),t.append("filename",a.state.imagesNames[n]),t.append("filedescription",a.state.imagesDescriptions[n]);Object(p.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/user-images",data:t}).then(function(e){a.setState({error:""}),a.props.history.push("/finalize/".concat(e.data._id))}).catch(function(e){a.setState({error:e.message}),"Forbidden"===e.response.data.message&&a.props.history.push("/login")})},a.state={uploadedImages:[],imagesNames:[],imagesDescriptions:[],error:null,nbrUploads:1,uploads:["default upload"]},a.addImage=a.addImage.bind(Object(k.a)(a)),a.addImageName=a.addImageName.bind(Object(k.a)(a)),a.addImageDescription=a.addImageDescription.bind(Object(k.a)(a)),a.submitOwnImages=a.submitOwnImages.bind(Object(k.a)(a)),a.addArtwork=a.addArtwork.bind(Object(k.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.uploads.map(function(){return i.a.createElement("div",null,i.a.createElement(U,{addImage:e.addImage,addImageName:e.addImageName,addImageDescription:e.addImageDescription}))});return i.a.createElement(j,null,i.a.createElement("div",{className:"UploadImages"},i.a.createElement("div",null,i.a.createElement("h1",null,"step 3 / upload your images"),i.a.createElement("form",{className:"FullPage",onSubmit:this.submitOwnImages},i.a.createElement("div",{className:"TopPage"},t),i.a.createElement("div",{className:"BottomPage"},i.a.createElement("button",{className:"SubmitBtnUpload",onClick:this.addArtwork},"Add one artwork"),i.a.createElement("input",{className:"SubmitBtnUpload",type:"submit",value:"Next"})))),i.a.createElement("div",null)))}}]),t}(n.Component)),B=a(20),L=(a(99),a(24)),M=a.n(L),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={activeDrags:0,originalPosition:{x:0,y:0},controlledPosition:{x:0,y:0}},a.onStart=a.onStart.bind(Object(k.a)(a)),a.onStop=a.onStop.bind(Object(k.a)(a)),a.onControlledDrag=a.onControlledDrag.bind(Object(k.a)(a)),a.onControlledDragStop=a.onControlledDragStop.bind(Object(k.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onStart",value:function(){this.setState({activeDrags:++this.state.activeDrags})}},{key:"onStop",value:function(){this.setState({activeDrags:--this.state.activeDrags})}},{key:"onControlledDrag",value:function(e,t){var a=t.x,n=t.y;this.setState({controlledPosition:{x:a,y:n}})}},{key:"onControlledDragStop",value:function(e,t){this.onControlledDrag(e,t),this.onStop(),this.props.updatePosition(this.props.id,this.state.controlledPosition)}},{key:"render",value:function(){var e=this,t={onStart:this.onStart,onStop:this.onStop},a=this.state,n=(a.originalPosition,a.controlledPosition);return i.a.createElement(M.a,Object.assign({position:n},t,{onStop:this.onControlledDragStop}),i.a.createElement("div",{className:"oneExhibitionImage"},i.a.createElement("img",{src:this.props.src,alt:""}),i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"DeleteBtn",onClick:function(){e.props.deleteImage(e.props.id)}},"Remove"))))}}]),t}(n.Component);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).updatePosition=function(e,t){var a=this;return Object(p.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/position",data:{imageId:e,position:t}}).then(function(){a.setState({error:""})}).catch(function(e){a.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&a.props.history.push("/login")})},a.handleFormChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(B.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.exhibition);t[e.target.name]=e.target.value,a.setState({exhibition:t})},a.handleFormSubmit=function(e){return e.preventDefault(),Object(p.a)({method:"PUT",headers:{"content-type":"application/x-www-form-urlencoded"},baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/finalize",data:b.a.stringify(a.state.exhibition)}).then(function(e){a.props.history.push("/show/".concat(e.data._id))}).catch(function(e){a.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&a.props.history.push("/login")})},a.deleteImage=function(e){var t=this;return Object(p.a)({method:"GET",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/delete-image/".concat(e)}).then(function(){t.setState({error:""})}).catch(function(e){t.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&t.props.history.push("/login")})},a.state={exhibition:{name:"",description:"",images:[],background_image:"",audio:""},error:null},a.handleFormSubmit=a.handleFormSubmit.bind(Object(k.a)(a)),a.updatePosition=a.updatePosition.bind(Object(k.a)(a)),a.deleteImage=a.deleteImage.bind(Object(k.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;p.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/finalize/").concat(t)).then(function(t){e.setState({exhibition:t.data})}).catch(function(t){e.setState({error:t}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e=this,t=this.state.exhibition.images.map(function(t){return i.a.createElement(_,{key:t._id,id:t._id,src:t.imgPath,updatePosition:e.updatePosition,deleteImage:e.deleteImage})});return i.a.createElement("div",null,i.a.createElement(j,null,i.a.createElement("div",{className:"FinalizeExhibition"},i.a.createElement("iframe",{className:"FullScreen",src:this.state.exhibition.background_image}),i.a.createElement("div",{className:"ImagesContainer"},t),i.a.createElement("div",{className:"ContentContainer"},i.a.createElement("div",{className:"NewDescription"},i.a.createElement("form",{className:"FullPage",onSubmit:this.handleFormSubmit},i.a.createElement("div",{className:"TopPage"},i.a.createElement("h1",null,"step 4 / Finalize your exhibition"),i.a.createElement("div",{className:"InputField"},i.a.createElement("label",null,"Name of exhibition"),i.a.createElement("input",{type:"text",name:"name",value:this.state.exhibition.name,onChange:this.handleFormChange})," "),i.a.createElement("div",{className:"InputField"},i.a.createElement("label",null,"Description"),i.a.createElement("input",{type:"text",name:"description",value:this.state.exhibition.description,onChange:this.handleFormChange})," "),i.a.createElement("div",null,i.a.createElement("p",null,"(Psst... You can move your images)"))),i.a.createElement("div",{className:"BottomPage"},i.a.createElement("input",{type:"submit",value:"Save your exhibition"}))))))))}}]),t}(n.Component),H=(a(100),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={defaultX:0,defaultY:0,hover:!1},a.toggleHover=a.toggleHover.bind(Object(k.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;return Object(p.a)({method:"GET",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/position/".concat(this.props.id)}).then(function(t){e.setState({defaultX:t.data.imageX,defaultY:t.data.imageY})}).catch(function(t){e.setState({error:t.response.data.message}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"toggleHover",value:function(){console.log("hover"),this.setState({hover:!this.state.hover})}},{key:"render",value:function(){return i.a.createElement(M.a,{position:{x:this.state.defaultX,y:this.state.defaultY},onStart:function(){return!1}},i.a.createElement("div",{className:"oneExhitionImageContainer",onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover},this.state.hover?i.a.createElement("div",{className:"InfoContainer"},i.a.createElement("p",null,this.props.name),i.a.createElement("p",null,this.props.description)):i.a.createElement(i.a.Fragment,null),i.a.createElement("div",{className:"oneExhibitionImage"},i.a.createElement("img",{src:this.props.src,alt:""}))))}}]),t}(n.Component)),z=(a(101),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={exhibition:{name:"",description:"",images:[],background_image:"",audio:""},error:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;p.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/show/").concat(t)).then(function(t){e.setState({exhibition:t.data},function(){x.a.get("http://api.voicerss.org/?key=6e944fc56139476f827e50b5e3cfe966&hl=en-us&src=".concat(t.data.description)).then(function(t){e.setState({audio:t.request.responseURL})}).catch(function(t){e.setState({error:t})})})}).catch(function(t){e.setState({error:t}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e=this.state.exhibition.images.map(function(e){return i.a.createElement(H,{key:e._id,id:e._id,src:e.imgPath,description:e.imgDescription,name:e.imgName})});return i.a.createElement("div",null,i.a.createElement(j,null,i.a.createElement("div",{className:"ExhibitionContainer",id:"canvas"},i.a.createElement("iframe",{className:"FullScreen",src:this.state.exhibition.background_image}),i.a.createElement("div",{className:"ImagesContainer"},e),i.a.createElement("div",{className:"ContentContainer"},i.a.createElement("h1",null,this.state.exhibition.name),i.a.createElement("div",null,i.a.createElement("h2",null,"About this exhibition... "),i.a.createElement("p",null,this.state.exhibition.description)),i.a.createElement("audio",{controls:!0,src:this.state.audio})))))}}]),t}(n.Component)),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={error:null},a.addFavorite=a.addFavorite.bind(Object(k.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"addFavorite",value:function(){var e=this;return Object(p.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/add-favorite",data:{id:this.props.id}}).then(function(){e.setState({error:""})}).catch(function(t){e.setState({error:t.response.data.message}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){return i.a.createElement("div",{className:"ExhibitionItem"},i.a.createElement("h1",null,"Exhibition: ",this.props.name),i.a.createElement("h2",null,"Exhibition description: ",this.props.description),"/profile"!==this.props.location.pathname?i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Created by: ",this.props.creator)):i.a.createElement(i.a.Fragment,null),i.a.createElement("img",{src:this.props.image,alt:""}),"/index"===this.props.location.pathname?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:this.addFavorite},"Favorite")):i.a.createElement(i.a.Fragment,null))}}]),t}(n.Component),Y=Object(h.f)(q),G=(a(102),new f),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={exhibitions:[],error:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/own-exhibitions")).then(function(t){e.setState({exhibitions:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"render",value:function(){var e=G.getUser(),t=this.state.exhibitions.map(function(e){return i.a.createElement("div",{className:"exhibitionDetails"},i.a.createElement(Y,{key:e._id,id:e._id,name:e.name,description:e.description,creator:e.creator.username}))});return i.a.createElement("div",null,i.a.createElement(j,null,i.a.createElement("div",{className:"ProfilePage"},i.a.createElement("h1",null,"Here are your exhibitions, ",e.username," !"),i.a.createElement("div",{className:"allExhibitions"},t))))}}]),t}(n.Component),X=(a(103),new f),Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={exhibitions:[],error:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/own-favorites")).then(function(t){e.setState({exhibitions:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"render",value:function(){var e=X.getUser(),t=this.state.exhibitions.map(function(e){return i.a.createElement("div",{className:"exhibitionDetails"},i.a.createElement(Y,{key:e._id,id:e._id,name:e.name,description:e.description,creator:e.creator.username,image:e.images[0].imgPath}))});return i.a.createElement("div",null,i.a.createElement(j,null,i.a.createElement("div",{className:"FavoritesPage"},i.a.createElement("h1",null,"Here are your favorites, ",e.username," !"),i.a.createElement("div",{className:"allExhibitions"},t))))}}]),t}(n.Component);a(104);function W(){return i.a.createElement("div",null,i.a.createElement(j,null,i.a.createElement("div",{className:"Home"},i.a.createElement("div",{className:"LeftSideBar"},i.a.createElement(d.b,{to:"/background"},"Create exhibition")),i.a.createElement("div",{className:"Empty"}),i.a.createElement("div",{className:"HomeIframe"},i.a.createElement("iframe",{className:"Fullscreen",src:"https://poly.google.com/view/ab0SP8HCU57/embed",frameborder:"0",allowvr:"yes",allow:"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",onmousewheel:""})),i.a.createElement("div",{className:"RightSideBar"},i.a.createElement(d.b,{to:"/index"},"Browse exhibitions")))))}a(105);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var $=new f,V=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleFormChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach(function(t){Object(B.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.user);t[e.target.name]=e.target.value,a.setState({user:t})},a.handleFormSubmit=function(e){e.preventDefault(),$.login(a.state.user.username,a.state.user.password).then(function(){a.setState({error:""}),a.props.history.push("/")}).catch(function(e){a.setState({error:e.response.data.message}),console.log(e.response.data.message)})},a.state={user:{username:"",password:""},error:null},a.handleFormSubmit=a.handleFormSubmit.bind(Object(k.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(j,null,i.a.createElement("div",{className:"Login"},i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",null,i.a.createElement("label",null,"Username"),i.a.createElement("input",{className:"Inputs",type:"text",name:"username",placeholder:"username",value:this.state.user.username,onChange:this.handleFormChange})," "),i.a.createElement("div",null,i.a.createElement("label",null,"Password"),i.a.createElement("input",{className:"Inputs",type:"password",name:"password",placeholder:"password",value:this.state.user.password,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("input",{type:"submit",value:"Login"})),i.a.createElement("p",{className:"account-message"},"Don't have an account? ",i.a.createElement(d.b,{to:"/signup"},"Sign up")))))}}]),t}(n.Component);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ee=new f,te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleFormChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach(function(t){Object(B.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.user);t[e.target.name]=e.target.value,a.setState({user:t})},a.handleFormSubmit=function(e){e.preventDefault(),ee.signup(a.state.user).then(function(){a.setState({error:""}),a.props.history.push("/")}).catch(function(e){a.setState({error:e.response.data.message}),console.log(e.response.data.message)})},a.state={user:{username:"",password:"",email:""},error:null},a.handleFormSubmit=a.handleFormSubmit.bind(Object(k.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(j,null,i.a.createElement("div",{className:"NewUser"},i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",null,i.a.createElement("label",null,"Username"),i.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.state.user.username,onChange:this.handleFormChange})," "),i.a.createElement("div",null,i.a.createElement("label",null,"Password"),i.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:this.state.user.password,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("label",null,"Email"),i.a.createElement("input",{type:"email",name:"email",placeholder:"Email",checked:this.state.user.email,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("input",{type:"submit",value:"Create account"})))))}}]),t}(n.Component),ae=a(51),ne=new f,ie=function(e){var t=e.component,a=e.redirectUrl,n=Object(ae.a)(e,["component","redirectUrl"]);return i.a.createElement(h.b,Object.assign({},n,{render:function(e){return ne.getUser()?i.a.createElement(t,e):i.a.createElement(h.a,{to:{pathname:a||"/",state:{from:e.location}}})}}))},re=(a(106),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={exhibitions:[],error:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/index")).then(function(t){e.setState({exhibitions:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"render",value:function(){var e=this.state.exhibitions.map(function(e){return i.a.createElement("div",{className:"exhibitionDetails"},i.a.createElement(Y,{key:e._id,id:e._id,name:e.name,description:e.description,creator:e.creator.username}))});return i.a.createElement("div",null,i.a.createElement(j,null,i.a.createElement("div",{class:"IndexPage"},i.a.createElement("h1",{className:"Title"},"All exhibitions"),i.a.createElement("div",{className:"allExhibitions"},e))))}}]),t}(n.Component)),oe=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(h.b,{exact:!0,path:"/",component:W}),i.a.createElement(h.b,{path:"/login",component:V}),i.a.createElement(h.b,{path:"/signup",component:te}),i.a.createElement(ie,{redirectUrl:"/login",path:"/background",component:S}),i.a.createElement(ie,{redirectUrl:"/login",path:"/images",component:P}),i.a.createElement(ie,{redirectUrl:"/login",path:"/upload",component:T}),i.a.createElement(ie,{redirectUrl:"/login",path:"/finalize/:id",component:R}),i.a.createElement(ie,{redirectUrl:"/login",path:"/show/:id",component:z}),i.a.createElement(ie,{redirectUrl:"/login",path:"/profile",component:J}),i.a.createElement(ie,{redirectUrl:"/login",path:"/favorites",component:Q}),i.a.createElement(h.b,{path:"/index",component:re}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(d.a,null,i.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},52:function(e,t,a){e.exports=a(107)},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},7:function(e,t,a){"use strict";var n=a(14),i=a.n(n);t.a=i.a.create({withCredentials:!0})},84:function(e,t,a){},90:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[52,1,2]]]);
//# sourceMappingURL=main.488d2d3c.chunk.js.map