(window.webpackJsonptestsvrf=window.webpackJsonptestsvrf||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(20),o=a.n(r),s=(a(57),a(2)),l=a(3),c=a(5),m=a(4),u=a(6),d=(a(58),a(11)),h=a(1),p=a(7),g=a(16),b=a.n(g),f=(a(76),a(43)),v=a.n(f),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={image:{title:"",primaryImage:"",clicked:!1}},a.beingAdded=a.beingAdded.bind(Object(h.a)(a)),a.beingDeleted=a.beingDeleted.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"beingAdded",value:function(){this.setState({clicked:!0})}},{key:"beingDeleted",value:function(){this.setState({clicked:!1})}},{key:"componentDidMount",value:function(){var e=this;b.a.get("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(this.props.imageId)).then(function(t){e.setState({image:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.imageId!==e.imageId&&b.a.get("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(this.props.imageId)).then(function(e){t.setState({image:e.data})}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"oneMuseumImage"},i.a.createElement("div",{className:"TitleContainer"},i.a.createElement("h1",{className:"Ellipsis"},this.state.image.title)),i.a.createElement("div",{className:"ImageContainer"},i.a.createElement(v.a,null,i.a.createElement("img",{src:this.state.image.primaryImage,alt:""}))),i.a.createElement("div",{className:"BtnContainer"},this.state.clicked?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"DeleteBtn",onClick:function(){e.props.deleteImage(e.props.imageId),e.beingDeleted()}},"delete me")):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"AddBtn",onClick:function(){e.props.addImage(e.state.image.title,e.state.image.primaryImage,e.props.imageId),e.beingAdded()}},"add me"))))}}]),t}(n.Component),O=a(8),j=a(14),y=(a(84),a(22)),S=a.n(y),N=function(){function e(t){Object(s.a)(this,e),this.domain=t||"https://virtual-exhibitions.herokuapp.com/api",this.login=this.login.bind(this)}return Object(l.a)(e,[{key:"login",value:function(e,t){var a=this;return Object(p.a)({method:"POST",url:"/login",baseURL:this.domain,headers:{"content-type":"application/x-www-form-urlencoded"},data:S.a.stringify({username:e,password:t})}).then(function(e){a.setUser(e.data)})}},{key:"signup",value:function(e){var t=this,a=e.username,n=e.password,i=e.email;return Object(p.a)({method:"POST",url:"/signup",baseURL:this.domain,headers:{"content-type":"application/x-www-form-urlencoded"},data:S.a.stringify({username:a,password:n,email:i})}).then(function(e){t.setUser(e.data)})}},{key:"loggedIn",value:function(){return!!this.getUser()}},{key:"setUser",value:function(e){localStorage.setItem("user",JSON.stringify(e))}},{key:"getUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"logout",value:function(){return Object(p.a)({method:"GET",url:"/logout",baseURL:this.domain}).then(function(e){localStorage.removeItem("user")})}}]),e}(),k=new N,x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){e.preventDefault();var t=a.props;k.logout().then(function(){a.setState({user:null},function(){t.history.push("/")})}).catch(function(e){a.setState({error:e.message})})},a.state={user:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({user:k.getUser()})}},{key:"render",value:function(){return i.a.createElement("nav",{className:"Nav"},i.a.createElement("div",null,i.a.createElement(O.b,{to:"/"},i.a.createElement("img",{src:"/images/home.png",alt:""}))),i.a.createElement("div",null,i.a.createElement(O.b,{to:"/index"},i.a.createElement("img",{src:"/images/search.png",alt:""}))),this.state.user?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(O.b,{to:"/profile"},i.a.createElement("img",{src:"/images/user.png",alt:""}))),i.a.createElement("div",null,i.a.createElement(O.b,{to:"/favorites"},i.a.createElement("img",{src:"/images/heart.png",alt:""}))),i.a.createElement("div",null,i.a.createElement("a",{href:"#",onClick:this.handleLogout},i.a.createElement("img",{className:"navimg",src:"/images/logout.png",alt:""})))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(O.b,{to:"/login"},i.a.createElement("img",{src:"/images/login.png",alt:""}))),i.a.createElement("div",null,i.a.createElement(O.b,{to:"/signup"},i.a.createElement("img",{src:"/images/signup.png",alt:""})))))}}]),t}(n.Component),I=Object(j.f)(x),w=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(I,null),e.children)},C=(a(89),a(13)),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleFormChange=function(e){a.setState({query:e.target.value})},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.query;b.a.get("https://collectionapi.metmuseum.org/public/collection/v1/search?q=".concat(t)).then(function(e){e.data.objectIDs?a.setState({imagesIDs:e.data.objectIDs.slice(0,49)}):a.setState({imagesIDs:e.data.objectIDs})}).catch(function(e){a.setState({error:e})})},a.addImage=function(e,t,a){var n={imgName:e,imgPath:t,exhibition:"",imgId:a},i=[].concat(Object(d.a)(this.state.selectedImages),[n]);this.setState({selectedImages:i})},a.deleteImage=function(e){var t=Object(d.a)(this.state.selectedImages).filter(function(t){return t.imgId!==e});this.setState({selectedImages:t})},a.state={imagesIDs:[],query:"",error:null,selectedImages:[]},a.handleFormSubmit=a.handleFormSubmit.bind(Object(h.a)(a)),a.addImage=a.addImage.bind(Object(h.a)(a)),a.submitMuseumImages=a.submitMuseumImages.bind(Object(h.a)(a)),a.deleteImage=a.deleteImage.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://collectionapi.metmuseum.org/public/collection/v1/search?q=utagawa").then(function(t){e.setState({imagesIDs:t.data.objectIDs.slice(0,49)})}).catch(function(t){e.setState({error:t})})}},{key:"scrollToTop",value:function(){C.animateScroll.scrollToTop()}},{key:"submitMuseumImages",value:function(){var e=this;return Object(p.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/museum-images",data:{museum_images:Object(d.a)(this.state.selectedImages)}}).then(function(){e.setState({error:""}),e.props.history.push("/upload")}).catch(function(t){e.setState({error:t.response.data.message}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e,t=this;return this.state.imagesIDs&&(e=this.state.imagesIDs.map(function(e){return i.a.createElement("div",null,i.a.createElement(E,{key:e,imageId:e,addImage:t.addImage,deleteImage:t.deleteImage}))})),i.a.createElement(w,null,i.a.createElement("div",{className:"ChooseImages"},i.a.createElement("h1",null,"step 2 / look for inspiration"),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",{className:"InputQuery"},i.a.createElement("input",{type:"text",className:"InputField",name:"image",placeholder:"Search for artists or artworks",value:this.state.query,onChange:this.handleFormChange}),i.a.createElement("input",{type:"submit",className:"QueryBtn",value:"Go"}))),i.a.createElement("div",null,this.state.imagesIDs?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"allMuseumImages"},e),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.scrollToTop,className:"SubmitBtn"},"Keep looking"),i.a.createElement("button",{className:"SubmitBtn",onClick:this.submitMuseumImages},"Next step"))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"SearchMessage"},i.a.createElement("h1",null,"Sorry but this search was unsuccessful!")),i.a.createElement("div",{className:"SearchMessage"},i.a.createElement("h1",null,"Look for another artist!"))))))}}]),t}(n.Component),F=(a(96),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleNameFormChange=function(e){a.setState({imgName:e.target.value})},a.handleDescriptionFormChange=function(e){a.setState({imgDescription:e.target.value})},a.handleFormChangeAndUpload=function(e){a.setState({imgContent:e.target.files[0]},function(){a.props.addImage(a.state.imgContent),a.props.addImageName(a.state.imgName),a.props.addImageDescription(a.state.imgDescription)})},a.state={imgName:"",imgContent:"",imgDescription:"",display:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"oneUploadItem"},i.a.createElement("div",{className:"oneUploadItemBox"},i.a.createElement("div",{className:"oneInput"},i.a.createElement("label",null,"awesome name"),i.a.createElement("input",{className:"InputField",type:"text",name:"imgName",value:this.state.imgName,onChange:this.handleNameFormChange})," "),i.a.createElement("div",{className:"oneInput"},i.a.createElement("label",{for:"imgDescription"},"tell us more about it..."),i.a.createElement("textarea",{className:"TextArea",name:"imgDescription",rows:"5",cols:"50",value:this.state.imgDescription,onChange:this.handleDescriptionFormChange})),i.a.createElement("div",{className:"oneFileInput"},i.a.createElement("input",{className:"InputFile",type:"file",name:"imgContent",placeholder:"upload your file",onChange:this.handleFormChangeAndUpload})," ")))}}]),t}(n.Component)),P=(a(97),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).addArtwork=function(e){e.preventDefault();var t=a.state.nbrUploads,n=[].concat(Object(d.a)(a.state.uploads),["new upload"]);a.setState({nbrUploads:t+=1,uploads:n})},a.addImage=function(e){var t=[].concat(Object(d.a)(this.state.uploadedImages),[e]);this.setState({uploadedImages:t})},a.addImageName=function(e){var t=[].concat(Object(d.a)(this.state.imagesNames),[e]);this.setState({imagesNames:t})},a.addImageDescription=function(e){var t=[].concat(Object(d.a)(this.state.imagesDescriptions),[e]);this.setState({imagesDescriptions:t})},a.submitOwnImages=function(e){e.preventDefault();for(var t=new FormData,n=0;n<a.state.uploadedImages.length;n++)t.append("file",a.state.uploadedImages[n]),t.append("filename",a.state.imagesNames[n]),t.append("filedescription",a.state.imagesDescriptions[n]);Object(p.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/user-images",data:t}).then(function(e){a.setState({error:""}),a.props.history.push("/finalize/".concat(e.data._id))}).catch(function(e){a.setState({error:e.message}),"Forbidden"===e.response.data.message&&a.props.history.push("/login")})},a.state={uploadedImages:[],imagesNames:[],imagesDescriptions:[],error:null,nbrUploads:1,uploads:["default upload"]},a.addImage=a.addImage.bind(Object(h.a)(a)),a.addImageName=a.addImageName.bind(Object(h.a)(a)),a.addImageDescription=a.addImageDescription.bind(Object(h.a)(a)),a.submitOwnImages=a.submitOwnImages.bind(Object(h.a)(a)),a.addArtwork=a.addArtwork.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.uploads.map(function(){return i.a.createElement("div",null,i.a.createElement(F,{addImage:e.addImage,addImageName:e.addImageName,addImageDescription:e.addImageDescription}))});return i.a.createElement(w,null,i.a.createElement("div",{className:"UploadImages"},i.a.createElement("div",null,i.a.createElement("h1",null,"step 3 / upload your images"),i.a.createElement("form",{className:"FullPage",onSubmit:this.submitOwnImages},i.a.createElement("div",{className:"TopPage"},t),i.a.createElement("div",{className:"BottomPage"},i.a.createElement("button",{className:"SubmitBtnUpload",onClick:this.addArtwork},"Add one artwork"),i.a.createElement("input",{className:"SubmitBtnUpload",type:"submit",value:"Next"})))),i.a.createElement("div",null)))}}]),t}(n.Component)),U=a(21),T=(a(98),a(25)),B=a.n(T),L=(a(99),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={activeDrags:0,originalPosition:{x:0,y:0},controlledPosition:{x:0,y:0}},a.onStart=a.onStart.bind(Object(h.a)(a)),a.onStop=a.onStop.bind(Object(h.a)(a)),a.onControlledDrag=a.onControlledDrag.bind(Object(h.a)(a)),a.onControlledDragStop=a.onControlledDragStop.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onStart",value:function(){this.setState({activeDrags:++this.state.activeDrags})}},{key:"onStop",value:function(){this.setState({activeDrags:--this.state.activeDrags})}},{key:"onControlledDrag",value:function(e,t){var a=t.x,n=t.y;this.setState({controlledPosition:{x:a,y:n}})}},{key:"onControlledDragStop",value:function(e,t){this.onControlledDrag(e,t),this.onStop(),this.props.updatePosition(this.props.id,this.state.controlledPosition)}},{key:"render",value:function(){var e=this,t={onStart:this.onStart,onStop:this.onStop},a=this.state,n=(a.originalPosition,a.controlledPosition);return i.a.createElement(B.a,Object.assign({position:n},t,{onStop:this.onControlledDragStop}),i.a.createElement("div",{className:"oneExhibitionImage"},i.a.createElement("img",{src:this.props.src,alt:""}),i.a.createElement("button",{className:"DeleteBtn",onClick:function(){e.props.deleteImage(e.props.id)}},"Remove")))}}]),t}(n.Component));function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(U.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).updatePosition=function(e,t){var a=this;return Object(p.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/position",data:{imageId:e,position:t}}).then(function(){a.setState({error:""})}).catch(function(e){a.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&a.props.history.push("/login")})},a.handleFormChange=function(e){var t=M({},a.state.exhibition);t[e.target.name]=e.target.value,a.setState({exhibition:t})},a.handleFormSubmit=function(e){return e.preventDefault(),Object(p.a)({method:"PUT",headers:{"content-type":"application/x-www-form-urlencoded"},baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/finalize",data:S.a.stringify(a.state.exhibition)}).then(function(e){a.props.history.push("/show/".concat(e.data._id))}).catch(function(e){a.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&a.props.history.push("/login")})},a.deleteImage=function(e){var t=this;return Object(p.a)({method:"GET",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/delete-image/".concat(e)}).then(function(){var a=Object(d.a)(t.state.exhibition.images).filter(function(t){return t._id!==e});t.setState(function(e){return{error:"",exhibition:M({},e.exhibition,{images:a})}})}).catch(function(e){t.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&t.props.history.push("/login")})},a.state={exhibition:{name:"",description:"",images:[],background_image:"",audio:""},error:null},a.handleFormSubmit=a.handleFormSubmit.bind(Object(h.a)(a)),a.updatePosition=a.updatePosition.bind(Object(h.a)(a)),a.deleteImage=a.deleteImage.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;p.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/finalize/").concat(t)).then(function(t){e.setState({exhibition:t.data})}).catch(function(t){e.setState({error:t}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e=this,t=this.state.exhibition.images.map(function(t){return i.a.createElement(L,{key:t._id,id:t._id,src:t.imgPath,updatePosition:e.updatePosition,deleteImage:e.deleteImage})});return i.a.createElement("div",null,i.a.createElement(w,null,i.a.createElement("div",{className:"FinalizeExhibition"},i.a.createElement("iframe",{className:"FullScreen",src:this.state.exhibition.background_image}),i.a.createElement("div",{className:"ImagesContainer"},t),i.a.createElement("div",{className:"ContentContainer"},i.a.createElement("div",{className:"NewDescription"},i.a.createElement("form",{className:"FullPage",onSubmit:this.handleFormSubmit},i.a.createElement("div",{className:"TopPage"},i.a.createElement("h1",null,"step 4 / Finalize your exhibition"),i.a.createElement("div",{className:"InputField"},i.a.createElement("label",null,"Name of exhibition"),i.a.createElement("input",{type:"text",name:"name",value:this.state.exhibition.name,onChange:this.handleFormChange})," "),i.a.createElement("div",{className:"InputField"},i.a.createElement("label",{for:"description"},"Description"),i.a.createElement("textarea",{className:"TextArea",name:"description",rows:"15",cols:"30",alue:this.state.exhibition.description,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("p",null,"(Psst... You can move your images)"))),i.a.createElement("div",{className:"BottomPage"},i.a.createElement("input",{className:"SubmitBtn",type:"submit",value:"Save your exhibition"}))))))))}}]),t}(n.Component),R=(a(100),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={defaultX:0,defaultY:0,hover:!1},a.toggleHover=a.toggleHover.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;return Object(p.a)({method:"GET",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/position/".concat(this.props.id)}).then(function(t){e.setState({defaultX:t.data.imageX,defaultY:t.data.imageY})}).catch(function(t){e.setState({error:t.response.data.message}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"toggleHover",value:function(){console.log("hover"),this.setState({hover:!this.state.hover})}},{key:"render",value:function(){return i.a.createElement(B.a,{position:{x:this.state.defaultX,y:this.state.defaultY},onStart:function(){return!1}},i.a.createElement("div",{className:"oneExhitionImageContainer",onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover},this.state.hover?i.a.createElement("div",{className:"InfoContainer"},i.a.createElement("p",null,this.props.name),i.a.createElement("p",null,this.props.description)):i.a.createElement(i.a.Fragment,null),i.a.createElement("div",{className:"oneExhibitionImage"},i.a.createElement("img",{src:this.props.src,alt:""}))))}}]),t}(n.Component)),H=(a(101),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={exhibition:{name:"",description:"",images:[],background_image:"",audio:""},error:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;p.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/show/").concat(t)).then(function(t){e.setState({exhibition:t.data},function(){b.a.get("https://api.voicerss.org/?key=6e944fc56139476f827e50b5e3cfe966&hl=en-us&src=".concat(t.data.description)).then(function(t){e.setState({audio:t.request.responseURL})}).catch(function(t){e.setState({error:t})})})}).catch(function(t){e.setState({error:t}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e=this.state.exhibition.images.map(function(e){return i.a.createElement(R,{key:e._id,id:e._id,src:e.imgPath,description:e.imgDescription,name:e.imgName})});return i.a.createElement("div",null,i.a.createElement(w,null,i.a.createElement("div",{className:"ExhibitionContainer",id:"canvas"},i.a.createElement("iframe",{className:"FullScreen",src:this.state.exhibition.background_image}),i.a.createElement("div",{className:"ImagesContainer"},e),i.a.createElement("div",{className:"ContentContainer"},i.a.createElement("div",{className:"Content"},i.a.createElement("h1",null,this.state.exhibition.name),i.a.createElement("div",null,i.a.createElement("h2",null,"About this exhibition... "),i.a.createElement("p",null,this.state.exhibition.description)),i.a.createElement("audio",{controls:!0,src:this.state.audio}))))))}}]),t}(n.Component)),z=(a(102),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={error:null,clicked:!1},a.addFavorite=a.addFavorite.bind(Object(h.a)(a)),a.beingAdded=a.beingAdded.bind(Object(h.a)(a)),a.beingDeleted=a.beingDeleted.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"beingAdded",value:function(){this.setState({clicked:!0})}},{key:"beingDeleted",value:function(){this.setState({clicked:!1})}},{key:"addFavorite",value:function(){var e=this;return Object(p.a)({method:"PUT",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/add-favorite",data:{id:this.props.id}}).then(function(){e.setState({error:""})}).catch(function(t){e.setState({error:t.response.data.message}),"Forbidden"===t.response.data.message&&e.props.history.push("/login")})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"ExhibitionItem"},i.a.createElement("h1",null,this.props.name),i.a.createElement("img",{className:"exhibitionHighlight",src:this.props.image,alt:""}),i.a.createElement("h2",null,"About : ",this.props.description),i.a.createElement("div",{className:"FooterContainer"},"/profile"!==this.props.location.pathname?i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{className:"CreatorTitle"},"Created by: ",this.props.creator)):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"remove",onClick:function(){e.props.deleteExhibition(e.props.id)}},i.a.createElement("img",{src:"/images/remove.png",alt:""}))),"/index"===this.props.location.pathname?i.a.createElement(i.a.Fragment,null,this.state.clicked?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"unfavorite"},i.a.createElement("img",{src:"/images/red-heart.png",alt:""}))):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"favorite",onClick:function(){e.addFavorite(),e.beingAdded()}},i.a.createElement("img",{src:"/images/heart.png",alt:""})))):i.a.createElement(i.a.Fragment,null),i.a.createElement(O.b,{to:"/show/".concat(this.props.id)},i.a.createElement("img",{src:"/images/details.png",alt:""}))))}}]),t}(n.Component)),q=Object(j.f)(z),G=(a(103),new N),Y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).deleteExhibition=function(e){var t=this;return Object(p.a)({method:"GET",baseURL:"https://virtual-exhibitions.herokuapp.com/api",url:"/exhibition/delete-exhibition/".concat(e)}).then(function(){var a=Object(d.a)(t.state.exhibitions).filter(function(t){return t._id!==e});t.setState({error:"",exhibitions:a})}).catch(function(e){t.setState({error:e.response.data.message}),"Forbidden"===e.response.data.message&&t.props.history.push("/login")})},a.state={exhibitions:[],error:null},a.deleteExhibition=a.deleteExhibition.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getExhibitions()}},{key:"scrollToTop",value:function(){C.animateScroll.scrollToTop()}},{key:"getExhibitions",value:function(){var e=this;p.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/own-exhibitions")).then(function(t){e.setState({exhibitions:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"render",value:function(){var e=this,t=G.getUser(),a=this.state.exhibitions.map(function(t){var a="";return t.images.length&&(a=t.images[0].imgPath),i.a.createElement("div",{className:"exhibitionDetails"},i.a.createElement(q,{key:t._id,id:t._id,name:t.name,description:t.description,creator:t.creator.username,deleteExhibition:e.deleteExhibition,image:a}))});return i.a.createElement("div",null,i.a.createElement(w,null,i.a.createElement("div",{className:"ProfilePage"},i.a.createElement("h1",null,"Here are your exhibitions, ",t.username," !"),i.a.createElement("div",{className:"allExhibitions"},a),i.a.createElement("button",{onClick:this.scrollToTop,className:"ScrollBtn"},"Up"))))}}]),t}(n.Component),J=(a(104),new N),X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={exhibitions:[],error:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/exhibition/own-favorites")).then(function(t){e.setState({exhibitions:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"scrollToTop",value:function(){C.animateScroll.scrollToTop()}},{key:"render",value:function(){var e=J.getUser(),t=this.state.exhibitions.map(function(e){var t="";return t=e.images.length?e.images[0].imgPath:"/images/default.jpg",i.a.createElement("div",{className:"exhibitionDetails"},i.a.createElement(q,{key:e._id,id:e._id,name:e.name,description:e.description,creator:e.creator.username,image:t}))});return i.a.createElement("div",null,i.a.createElement(w,null,i.a.createElement("div",{className:"FavoritesPage"},i.a.createElement("h1",null,"Here are your favorites, ",e.username," !"),i.a.createElement("div",{className:"allExhibitions"},t),i.a.createElement("button",{onClick:this.scrollToTop,className:"ScrollBtn"},"Up"))))}}]),t}(n.Component),Q=(a(105),i.a.lazy(function(){return a.e(3).then(a.bind(null,112))})),K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={backgrounds:[67203,4537166810054656,5223009199587328,93375,5801016771477504,5698198140092416,120402,499450,657422,280349,5733748926578688,4630494771675136,5930532919574528,626640,4593526780198912,140446,5370793319989248]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.backgrounds.map(function(t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Q,Object.assign({},e.props,{embedUrl:"https://www.svrf.com/embed/vr/".concat(t)})))});return i.a.createElement(w,null,i.a.createElement("div",{className:"ChooseBackground"},i.a.createElement("h1",null,"step 1 / choose background"),i.a.createElement("div",{className:"allBackgrounds"},i.a.createElement(n.Suspense,{fallback:i.a.createElement("div",null,"Loading...")},t))))}}]),t}(n.Component);a(106);function W(){return i.a.createElement("div",null,i.a.createElement(w,null,i.a.createElement("div",{className:"Home"},i.a.createElement("div",{className:"LeftSideBar"},i.a.createElement(O.b,{to:"/background"},"Create exhibition")),i.a.createElement("div",{className:"Empty"}),i.a.createElement("div",{className:"HomeIframe"},i.a.createElement("iframe",{className:"Fullscreen",src:"https://poly.google.com/view/ab0SP8HCU57/embed",frameborder:"0",allowvr:"yes",allow:"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",onmousewheel:""})),i.a.createElement("div",{className:"RightSideBar"},i.a.createElement(O.b,{to:"/index"},"Browse exhibitions")))))}a(107);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var $=new N,Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleFormChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach(function(t){Object(U.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.user);t[e.target.name]=e.target.value,a.setState({user:t})},a.handleFormSubmit=function(e){e.preventDefault(),$.login(a.state.user.username,a.state.user.password).then(function(){a.setState({error:""}),a.props.history.push("/")}).catch(function(e){a.setState({error:e.response.data.message}),console.log(e.response.data.message)})},a.state={user:{username:"",password:""},error:null},a.handleFormSubmit=a.handleFormSubmit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(w,null,i.a.createElement("div",{className:"Login"},i.a.createElement("div",{className:"LoginContent"},i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",null,i.a.createElement("label",null,"Username"),i.a.createElement("input",{className:"Inputs",type:"text",name:"username",placeholder:"username",value:this.state.user.username,onChange:this.handleFormChange})," "),i.a.createElement("div",null,i.a.createElement("label",null,"Password"),i.a.createElement("input",{className:"Inputs",type:"password",name:"password",placeholder:"password",value:this.state.user.password,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("input",{type:"submit",value:"Login"})),i.a.createElement("p",{className:"account-message"},"Don't have an account? ",i.a.createElement(O.b,{className:"Link",to:"/signup"},"Sign up")))),i.a.createElement("div",{className:"LoginIframe"},i.a.createElement("iframe",{className:"Fullscreen",src:"https://poly.google.com/view/cV54p02NHQt/embed",frameborder:"0",allowvr:"yes",allow:"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",onmousewheel:""}))))}}]),t}(n.Component);a(108);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var te=new N,ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleFormChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach(function(t){Object(U.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.user);t[e.target.name]=e.target.value,a.setState({user:t})},a.handleFormSubmit=function(e){e.preventDefault(),te.signup(a.state.user).then(function(){a.setState({error:""}),a.props.history.push("/")}).catch(function(e){a.setState({error:e.response.data.message}),console.log(e.response.data.message)})},a.state={user:{username:"",password:"",email:""},error:null},a.handleFormSubmit=a.handleFormSubmit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(w,null,i.a.createElement("div",{className:"Signup"},i.a.createElement("div",{className:"SignupContent"},i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",null,i.a.createElement("label",null,"Username"),i.a.createElement("input",{className:"Inputs",type:"text",name:"username",placeholder:"username",value:this.state.user.username,onChange:this.handleFormChange})," "),i.a.createElement("div",null,i.a.createElement("label",null,"Password"),i.a.createElement("input",{className:"Inputs",type:"password",name:"password",placeholder:"password",value:this.state.user.password,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("label",null,"Email"),i.a.createElement("input",{className:"Inputs",type:"email",name:"email",placeholder:"Email",checked:this.state.user.email,onChange:this.handleFormChange})),i.a.createElement("div",null,i.a.createElement("input",{type:"submit",value:"Create account"})))),i.a.createElement("div",{className:"SignupIframe"},i.a.createElement("iframe",{className:"Fullscreen",src:"https://poly.google.com/view/3mHT-lSmFvK/embed",frameborder:"0",allowvr:"yes",allow:"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",onmousewheel:""}))))}}]),t}(n.Component),ne=a(51),ie=new N,re=function(e){var t=e.component,a=e.redirectUrl,n=Object(ne.a)(e,["component","redirectUrl"]);return i.a.createElement(j.b,Object.assign({},n,{render:function(e){return ie.getUser()?i.a.createElement(t,e):i.a.createElement(j.a,{to:{pathname:a||"/",state:{from:e.location}}})}}))},oe=(a(109),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={exhibitions:[],error:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://virtual-exhibitions.herokuapp.com/api","/index")).then(function(t){e.setState({exhibitions:t.data})}).catch(function(t){e.setState({error:t})})}},{key:"scrollToTop",value:function(){C.animateScroll.scrollToTop()}},{key:"render",value:function(){var e=this.state.exhibitions.map(function(e){var t="";return e.images.length&&(t=e.images[0].imgPath),i.a.createElement("div",{className:"exhibitionDetails"},i.a.createElement(q,{key:e._id,id:e._id,name:e.name,description:e.description,creator:e.creator.username,image:t}))});return i.a.createElement("div",null,i.a.createElement(w,null,i.a.createElement("div",{class:"IndexPage"},i.a.createElement("h1",{className:"Title"},"All exhibitions"),i.a.createElement("div",{className:"allExhibitions"},e),i.a.createElement("button",{onClick:this.scrollToTop,className:"ScrollBtn"},"Up"))))}}]),t}(n.Component)),se=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(j.b,{exact:!0,path:"/",component:W}),i.a.createElement(j.b,{path:"/login",component:Z}),i.a.createElement(j.b,{path:"/signup",component:ae}),i.a.createElement(re,{redirectUrl:"/login",path:"/background",component:K}),i.a.createElement(re,{redirectUrl:"/login",path:"/images",component:D}),i.a.createElement(re,{redirectUrl:"/login",path:"/upload",component:P}),i.a.createElement(re,{redirectUrl:"/login",path:"/finalize/:id",component:_}),i.a.createElement(re,{redirectUrl:"/login",path:"/show/:id",component:H}),i.a.createElement(re,{redirectUrl:"/login",path:"/profile",component:Y}),i.a.createElement(re,{redirectUrl:"/login",path:"/favorites",component:X}),i.a.createElement(j.b,{path:"/index",component:oe}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(O.a,null,i.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},52:function(e,t,a){e.exports=a(110)},57:function(e,t,a){},58:function(e,t,a){},7:function(e,t,a){"use strict";var n=a(16),i=a.n(n);t.a=i.a.create({withCredentials:!0})},76:function(e,t,a){},84:function(e,t,a){},89:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[52,1,2]]]);
//# sourceMappingURL=main.422cdc2d.chunk.js.map